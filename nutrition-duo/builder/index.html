<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Nutrition VR ‚Äî ‡∏õ.5 + Icons + Mini-Quiz</title>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <style>
    :root{ --bg:#0e1726; --panel:#0b1220; --accent:#79a8ff; --muted:#9fb3d9 }
    body{ margin:0; font-family:system-ui, Arial; background:var(--bg); color:#fff }
    .ui2d{ position:fixed; left:12px; bottom:12px; z-index:10; display:flex; gap:6px; flex-wrap:wrap }
    .ui2d select,.ui2d button{ padding:10px 12px; border-radius:12px; border:0; font-weight:700; box-shadow:0 2px 8px rgba(0,0,0,.2); background:#1b2a41; color:#e6eefc }
    .ui2d .primary{ background:var(--accent); color:#001 }
    .hud2d{ position:fixed; right:12px; top:12px; z-index:10; background:rgba(0,0,0,.5); padding:10px 14px; border-radius:12px; min-width:260px }
    .hud2d b{ font-size:18px }
    .tag{ padding:2px 8px; border-radius:999px; font-size:12px; background:rgba(255,255,255,.12) }
    .row{ display:flex; justify-content:space-between; align-items:center; gap:8px }
    /* Quiz Modal */
    #quizModal{ position:fixed; inset:0; background:rgba(0,0,0,.7); display:none; align-items:center; justify-content:center; z-index:20 }
    #quizCard{ width:min(520px, 92vw); background:#0b1220; border-radius:16px; padding:16px; box-shadow:0 10px 30px rgba(0,0,0,.4) }
    #quizCard h2{ margin:0 0 8px 0 }
    .q{ background:#12223c; border-radius:12px; padding:10px; margin:10px 0 }
    .q b{ display:block; margin-bottom:6px }
    .q label{ display:block; padding:6px 8px; border-radius:10px; cursor:pointer }
    .q input{ margin-right:6px }
    #quizActions{ display:flex; justify-content:flex-end; gap:8px; margin-top:8px }
    .btn{ padding:10px 12px; border-radius:12px; border:0; font-weight:700; }
    .btn.primary{ background:var(--accent); color:#001 }
    .btn.secondary{ background:#1b2a41; color:#e6eefc }
  </style>
</head>
<body>
  <div class="ui2d">
    <select id="modeSel">
      <option value="practice">‡πÇ‡∏´‡∏°‡∏î‡∏ù‡∏∂‡∏Å (‡πÑ‡∏°‡πà‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤)</option>
      <option value="challenge">‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏Ç‡πà‡∏á‡∏Ç‡∏±‡∏ô 60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
    </select>
    <select id="levelSel">
      <option value="1">Level 1 ‚Äî ‡πÄ‡∏ä‡πâ‡∏≤ 400‚Äì500 kcal</option>
      <option value="2">Level 2 ‚Äî ‡∏Å‡∏•‡∏≤‡∏á‡∏ß‡∏±‡∏ô 550‚Äì700 kcal (‡∏ú‡∏±‡∏Å ‚â• 1)</option>
      <option value="3">Level 3 ‚Äî ‡πÄ‡∏¢‡πá‡∏ô 450‚Äì600 kcal (‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏• ‚â§ 20g, ‡πÇ‡∏ã‡πÄ‡∏î‡∏µ‡∏¢‡∏° ‚â§ 800mg)</option>
    </select>
    <button id="btnStart" class="primary">‡πÄ‡∏£‡∏¥‡πà‡∏°</button>
    <button id="btnReset">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
    <button id="btnFinishQuiz">‡∏à‡∏ö‡πÄ‡∏Å‡∏° & ‡∏ó‡∏≥‡πÅ‡∏ö‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö</button>
  </div>
  <div class="hud2d" id="hud">
    <div class="row"><b>Nutrition VR ‚Äî ‡∏õ.5</b> <span class="tag" id="hudMode">Practice</span></div>
    <div id="hudTimer" class="tag" style="margin-top:6px; display:inline-block;">‡πÄ‡∏ß‡∏•‡∏≤: ‚àû</div>
    <div>kcal: <span id="kcal">0</span></div>
    <div>‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô: <span id="pro">0g</span> | ‡∏Ñ‡∏≤‡∏£‡πå‡∏ö: <span id="carb">0g</span></div>
    <div>‡πÑ‡∏ü‡πÄ‡∏ö‡∏≠‡∏£‡πå: <span id="fib">0g</span></div>
    <div>‡∏ô‡πâ‡∏≥‡∏ï‡∏≤‡∏•: <span id="sug">0g</span> | ‡πÇ‡∏ã‡πÄ‡∏î‡∏µ‡∏¢‡∏°: <span id="sod">0mg</span></div>
    <div>‚≠ê <span id="stars">‚òÜ‚òÜ‚òÜ</span></div>
  </div>

  <!-- Quiz Modal -->
  <div id="quizModal">
    <div id="quizCard">
      <h2>Mini-Quiz ‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£ (‡∏õ.5)</h2>
      <div id="quizContainer"></div>
      <div id="quizActions">
        <button class="btn secondary" id="quizCancel">‡∏¢‡∏Å‡πÄ‡∏•‡∏¥‡∏Å</button>
        <button class="btn primary" id="quizSubmit">‡∏ï‡∏£‡∏ß‡∏à‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
      </div>
      <div id="quizResult" style="margin-top:8px;font-weight:700"></div>
    </div>
  </div>

  <a-scene renderer="antialias:true; colorManagement:true" background="color:#0e1726">
    <a-entity id="rig" position="0 1.6 2">
      <a-entity id="camera" camera look-controls wasd-controls="enabled:false"></a-entity>
      <a-entity id="ctrlR" laser-controls="hand: right" raycaster="objects: .clickable" line="color: #79a8ff"></a-entity>
      <a-entity id="ctrlL" laser-controls="hand: left" raycaster="objects: .clickable" line="color: #79a8ff"></a-entity>
      <a-entity id="cursor" cursor="fuse:false" raycaster="objects: .clickable" position="0 0 -0.1">
        <a-ring radius-inner="0.004" radius-outer="0.006" color="#fff"></a-ring>
      </a-entity>
    </a-entity>

    <a-entity light="type: ambient; color: #BBD1FF; intensity: 0.6"></a-entity>
    <a-entity light="type: directional; color: #FFF; intensity: 0.9" position="1 2 0"></a-entity>
    <a-plane rotation="-90 0 0" width="20" height="20" color="#0b1220" position="0 0 0"></a-plane>

    <a-box color="#14213d" position="0 0.75 -1.2" depth="1.6" height="0.05" width="2.8"></a-box>
    <a-cylinder id="plate" color="#1b2a41" position="0 0.78 -1.2" radius="0.38" height="0.03"></a-cylinder>
    <a-entity position="0 1.1 -1.2" text="value: ‡∏ß‡∏≤‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏•‡∏á‡∏à‡∏≤‡∏ô‡∏ô‡∏µ‡πâ; color:#CFE8FF; align:center; width:2"></a-entity>

    <a-plane id="mascotBoard" color="#0b1220" position="0 1.6 -1.9" width="2.4" height="1" material="shader: standard; emissive: #0b1220; emissiveIntensity: .4"></a-plane>
    <a-entity id="mascotText" position="0 1.6 -1.88" text="value: ‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ! ‡∏â‡∏±‡∏ô‡∏Ñ‡∏∑‡∏≠‡∏ô‡πâ‡∏≠‡∏á‡πÇ‡∏†‡∏ä‡∏ô‡∏≤ üòä; align:center; color:#fff; width:3"></a-entity>

    <a-box color="#0b1220" position="-1.0 1.1 -1.2" depth="0.4" height="0.7" width="0.7"></a-box>
    <a-box color="#0b1220" position="0.0 1.1 -1.2" depth="0.4" height="0.7" width="0.7"></a-box>
    <a-box color="#0b1220" position="1.0 1.1 -1.2" depth="0.4" height="0.7" width="0.7"></a-box>

    <a-entity id="spawnL" position="-1.0 1.35 -1.2"></a-entity>
    <a-entity id="spawnC" position="0.0 1.35 -1.2"></a-entity>
    <a-entity id="spawnR" position="1.0 1.35 -1.2"></a-entity>

    <a-assets>
      <audio id="pickup" src="assets/pickup.wav"></audio>
      <audio id="place" src="assets/place.wav"></audio>
      <audio id="error" src="assets/error.wav"></audio>
      <audio id="win" src="assets/win.wav"></audio>
      <!-- Food Images -->
      <!-- (Loaded dynamically as <img> elements in assets/foods) -->
      <img id="img_rice_brown" src="assets/foods/rice_brown.png">
<img id="img_rice_white" src="assets/foods/rice_white.png">
<img id="img_bread_egg" src="assets/foods/bread_egg.png">
<img id="img_padthai" src="assets/foods/padthai.png">
<img id="img_egg" src="assets/foods/egg.png">
<img id="img_chicken" src="assets/foods/chicken.png">
<img id="img_tofu" src="assets/foods/tofu.png">
<img id="img_somtam" src="assets/foods/somtam.png">
<img id="img_veg_mix" src="assets/foods/veg_mix.png">
<img id="img_mango" src="assets/foods/mango.png">
<img id="img_watermelon" src="assets/foods/watermelon.png">
<img id="img_fried_chicken" src="assets/foods/fried_chicken.png">
<img id="img_sausage" src="assets/foods/sausage.png">
<img id="img_softdrink" src="assets/foods/softdrink.png">
    </a-assets>
  </a-scene>

  <script src="game.js"></script>
</body>
</html>
