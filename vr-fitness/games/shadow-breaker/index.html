<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Shadow Breaker ‚Äî Game Mode</title>
  <link rel="stylesheet" href="./shadow-breaker-index.css" />
  <meta name="color-scheme" content="dark light"/>
</head>
<body>
  <main>
    <header>
      <div class="title">
        <h1>
          <span class="logo">ü•ä</span>
          <span id="title">Shadow Breaker</span>
        </h1>
        <div id="subtitle">‡πÄ‡∏Å‡∏°‡∏ï‡πà‡∏≠‡∏¢‡πÄ‡∏õ‡πâ‡∏≤ ‡∏ù‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô + Speed + Focus</div>
      </div>
      <div class="pill"><span class="dot"></span> <span id="modeTag">Play Mode</span></div>
    </header>

    <p id="desc" class="info">
      ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô ‚Äî ‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡πÇ‡∏´‡∏°‡∏î‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ ‡πÇ‡∏´‡∏°‡∏î‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡πÇ‡∏´‡∏°‡∏î‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏ö
    </p>

    <div class="mode-box">
      <div class="card">
        <h2 id="labelTimed">‚è±Ô∏è ‡πÇ‡∏´‡∏°‡∏î‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤</h2>
        <p id="descTimed">‡πÄ‡∏•‡πà‡∏ô 90 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô + ‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö + ‡∏ö‡∏≠‡∏™</p>
        <a href="#" id="btnTimed" data-go="1" data-mode="timed" data-diff="normal" data-time="90">‡πÄ‡∏•‡πà‡∏ô ‚ñ∂</a>
      </div>

      <div class="card">
        <h2 id="labelHard">üî• ‡πÇ‡∏´‡∏°‡∏î‡∏¢‡∏≤‡∏Å</h2>
        <p id="descHard">‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏ö‡∏≠‡∏™ HP ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô</p>
        <a href="#" id="btnHard" data-go="1" data-mode="timed" data-diff="hard" data-time="90">‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢ ‚ñ∂</a>
      </div>

      <div class="card">
        <h2 id="labelEndless">‚ôæÔ∏è ‡πÇ‡∏´‡∏°‡∏î‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏ö</h2>
        <p id="descEndless">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ ‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏≠‡∏î‡πÉ‡∏´‡πâ‡∏ô‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î</p>
        <a href="#" id="btnEndless" data-go="1" data-mode="endless" data-diff="normal">‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‚ñ∂</a>
      </div>
    </div>

    <div class="footer-area">
      <div class="lang">
        <button class="active" data-lang="th">TH</button>
        <button data-lang="en">EN</button>
      </div>
      <div id="pdpa" class="info">* ‡πÉ‡∏ä‡πâ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏à‡∏±‡∏¢ ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•</div>
    </div>

  </main>

  <script>
    // ===== Pass-through builder (HeroHealth-style) =====
    const qs = (k,d=null)=>{ try{return new URL(location.href).searchParams.get(k) ?? d;}catch{return d;} };

    function buildPlayURL(extra){
      const p = new URLSearchParams();

      // mode/diff/time ‡∏à‡∏≤‡∏Å‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà‡∏Å‡∏î
      Object.entries(extra).forEach(([k,v])=>{
        if(v!==undefined && v!==null && v!=="") p.set(k, String(v));
      });

      // passthrough ‡∏à‡∏≤‡∏Å hub -> index -> play
      ["game","run","view","seed","studyId","phase","conditionGroup","ts","log","style","research","hub"].forEach(k=>{
        const v = qs(k,"");
        if(v) p.set(k, v);
      });

      // default game/run ‡∏ñ‡πâ‡∏≤‡∏Ç‡∏≤‡∏î
      if(!p.get("game")) p.set("game","shadow-breaker");
      if(!p.get("run")) p.set("run","play");

      // default hub fallback (‡∏Å‡∏•‡∏±‡∏ö VR Fitness hub)
      if(!p.get("hub")){
        const fallbackHub = new URL("../../index.html", location.href).toString();
        p.set("hub", fallbackHub);
      }

      // seed fallback (‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏°‡∏≤)
      if(!p.get("seed")) p.set("seed", String(Date.now()));

      const base = new URL("./play.html", location.href).toString();
      return `${base}?${p.toString()}`;
    }

    document.addEventListener("click",(ev)=>{
      const a = ev.target.closest("a[data-go='1']");
      if(!a) return;
      ev.preventDefault();
      const mode = a.dataset.mode || "timed";
      const diff = a.dataset.diff || "normal";
      const time = a.dataset.time || "";
      const url = buildPlayURL({ mode, diff, time });
      location.href = url;
    });

    // ===== Language toggle (‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏Ñ‡∏∏‡∏ì) =====
    const langBtn = document.querySelectorAll('.lang button');
    const text = {
      th:{
        title:"Shadow Breaker",
        subtitle:"‡πÄ‡∏Å‡∏°‡∏ï‡πà‡∏≠‡∏¢‡πÄ‡∏õ‡πâ‡∏≤ ‡∏ù‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô + Speed + Focus",
        desc:"‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô ‚Äî ‡∏°‡∏µ‡∏ó‡∏±‡πâ‡∏á‡πÇ‡∏´‡∏°‡∏î‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ ‡πÇ‡∏´‡∏°‡∏î‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢ ‡πÅ‡∏•‡∏∞‡πÇ‡∏´‡∏°‡∏î‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏ö",
        timed:"‚è±Ô∏è ‡πÇ‡∏´‡∏°‡∏î‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤",
        timedDesc:"‡πÄ‡∏•‡πà‡∏ô 90 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô + ‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö + ‡∏ö‡∏≠‡∏™",
        hard:"üî• ‡πÇ‡∏´‡∏°‡∏î‡∏¢‡∏≤‡∏Å",
        hardDesc:"‡πÄ‡∏£‡πá‡∏ß‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏ö‡∏≠‡∏™ HP ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô",
        endless:"‚ôæÔ∏è ‡πÇ‡∏´‡∏°‡∏î‡πÑ‡∏°‡πà‡∏£‡∏π‡πâ‡∏à‡∏ö",
        endlessDesc:"‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤ ‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏≠‡∏î‡πÉ‡∏´‡πâ‡∏ô‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î",
        play:"‡πÄ‡∏•‡πà‡∏ô ‚ñ∂",
        chall:"‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢ ‚ñ∂",
        endlessBtn:"‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á ‚ñ∂",
        pdpa:"* ‡πÉ‡∏ä‡πâ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏ß‡∏¥‡∏à‡∏±‡∏¢ ‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏ú‡∏¢‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•"
      },
      en:{
        title:"Shadow Breaker",
        subtitle:"Punch Training ‚Äî Accuracy + Reaction + Focus",
        desc:"Select your mode ‚Äî Timed / Challenge / Endless",
        timed:"‚è±Ô∏è Timed Mode",
        timedDesc:"Play 90 sec ‚Äî Score + Combo + Boss",
        hard:"üî• Hard Mode",
        hardDesc:"Faster + higher boss HP",
        endless:"‚ôæÔ∏è Endless Mode",
        endlessDesc:"No timer ‚Äî survive as long as possible",
        play:"Play ‚ñ∂",
        chall:"Challenge ‚ñ∂",
        endlessBtn:"Endless ‚ñ∂",
        pdpa:"* Research use only ‚Äî no personal identity tracking"
      }
    };

    function setLang(l){
      const t=text[l];
      document.getElementById("title").textContent=t.title;
      document.getElementById("subtitle").textContent=t.subtitle;
      document.getElementById("desc").textContent=t.desc;
      document.getElementById("labelTimed").textContent=t.timed;
      document.getElementById("descTimed").textContent=t.timedDesc;
      document.getElementById("btnTimed").textContent=t.play;
      document.getElementById("labelHard").textContent=t.hard;
      document.getElementById("descHard").textContent=t.hardDesc;
      document.getElementById("btnHard").textContent=t.chall;
      document.getElementById("labelEndless").textContent=t.endless;
      document.getElementById("descEndless").textContent=t.endlessDesc;
      document.getElementById("btnEndless").textContent=t.endlessBtn;
      document.getElementById("pdpa").textContent=t.pdpa;
    }

    langBtn.forEach(btn=>{
      btn.addEventListener("click",()=>{
        langBtn.forEach(b=>b.classList.remove("active"));
        btn.classList.add("active");
        setLang(btn.dataset.lang);
      });
    });

    setLang("th");
  </script>
</body>
</html>