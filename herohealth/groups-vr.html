<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>üç±üçâüçü Food Groups VR üéÆ‚ú®</title>

  <link rel="icon" href="./favicon.ico" type="image/x-icon">
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@400;700&display=swap');
    *{box-sizing:border-box;}
    body{
      font-family:'IBM Plex Sans Thai',system-ui,-apple-system,sans-serif;
      margin:0;padding:0;overflow:hidden;
      background:#020617;
      color:#e5e7eb;
    }

    #uiOverlay{
      position:fixed;inset:0;z-index:10000;
      display:flex;flex-direction:column;justify-content:center;align-items:center;
      background:rgba(15,23,42,0.92);
      color:#e5e7eb;
      backdrop-filter:blur(12px);
      padding:20px;
      text-align:center;
      transition:opacity .3s ease;
    }
    #uiOverlay.hidden{opacity:0;pointer-events:none;}

    .fg-panel{
      max-width:900px;
      width:100%;
      border-radius:24px;
      padding:24px 20px 28px;
      background:radial-gradient(circle at top left,rgba(56,189,248,.18),transparent 55%),
                 radial-gradient(circle at bottom right,rgba(34,197,94,.18),transparent 55%),
                 #020617;
      box-shadow:0 18px 40px rgba(15,23,42,.65);
    }

    #uiOverlay h1{
      font-size:2.6rem;
      margin:0 0 .25rem;
    }
    #uiOverlay h1 span.sub{
      font-size:1.3rem;
      font-weight:500;
      opacity:.75;
      margin-left:.6rem;
    }
    #uiOverlay p.lead{
      font-size:1.1rem;
      line-height:1.6;
      margin:14px auto 8px;
      max-width:560px;
      opacity:.95;
    }
    .fg-chips{
      display:flex;
      flex-wrap:wrap;
      justify-content:center;
      gap:8px;
      font-size:.9rem;
      margin:10px auto 6px;
    }
    .fg-chip{
      padding:4px 10px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.6);
      background:rgba(15,23,42,.7);
    }

    .fg-playinfo{
      font-size:.9rem;
      opacity:.9;
      line-height:1.4;
      margin-top:8px;
    }

    .fg-buttons{
      margin-top:22px;
      display:flex;
      flex-wrap:wrap;
      justify-content:center;
      gap:12px;
    }
    .game-button{
      font-family:'IBM Plex Sans Thai',system-ui;
      font-size:1.1rem;
      font-weight:700;
      color:#fff;
      border:none;
      border-radius:999px;
      padding:12px 26px;
      cursor:pointer;
      box-shadow:0 10px 25px rgba(15,23,42,.55);
      transition:transform .15s ease,box-shadow .15s ease,opacity .15s ease;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .game-button:hover{
      transform:translateY(-2px);
      box-shadow:0 16px 32px rgba(15,23,42,.7);
    }
    .btn-easy   {background:linear-gradient(135deg,#22c55e,#16a34a);}
    .btn-normal {background:linear-gradient(135deg,#0ea5e9,#0284c7);}
    .btn-hard   {background:linear-gradient(135deg,#ef4444,#dc2626);}

    /* ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå */
    #resultsScreen h2{
      font-size:1.8rem;
      margin:0 0 .2rem;
    }
    #finalScore{
      font-size:2.4rem;
      margin:.2rem 0 .8rem;
      color:#4ade80;
    }
    #fgSummary{
      font-size:.95rem;
      line-height:1.45;
      margin-top:6px;
      text-align:left;
      max-width:480px;
      margin-inline:auto;
    }

    /* Hint ‡∏•‡πà‡∏≤‡∏á‡∏à‡∏≠ */
    #fgHint{
      position:fixed;
      bottom:10px;
      left:50%;
      transform:translateX(-50%);
      background:rgba(15,23,42,.78);
      color:#e5e7eb;
      padding:6px 14px;
      border-radius:999px;
      font:500 13px system-ui,-apple-system;
      z-index:9000;
      box-shadow:0 8px 22px rgba(15,23,42,.6);
    }

    @media (max-width:640px){
      #uiOverlay h1{font-size:2.1rem;}
      #uiOverlay h1 span.sub{display:block;margin:2px 0 0;font-size:1.05rem;}
      .fg-panel{border-radius:18px;padding:18px 14px 22px;}
      .game-button{width:100%;justify-content:center;}
    }
  </style>
</head>
<body>

  <!-- hint ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á -->
  <div id="fgHint">
    ‡πÄ‡∏•‡πá‡∏á‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ö‡πÄ‡∏õ‡πâ‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏•‡∏¥‡∏Å / ‡πÅ‡∏ï‡∏∞ / ‡∏Å‡∏î Trigger ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏¥‡∏á üéØ
  </div>

  <!-- overlay ‡πÄ‡∏°‡∏ô‡∏π + ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏£‡∏∏‡∏õ -->
  <div id="uiOverlay">
    <div id="startScreen" class="fg-panel">
      <h1>
        üç±üçâüçü Food Groups VR
        <span class="sub">Hero Health</span>
      </h1>

      <p class="lead">
        ‡πÄ‡∏•‡πá‡∏á‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡πÄ‡∏õ‡πâ‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏¥‡∏á‡∏õ‡∏∏‡πä‡∏á! üéØ<br>
        ‡∏™‡∏∞‡∏™‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£ <b>‡∏´‡∏°‡∏π‡πà 1‚Äì5</b> ‡πÅ‡∏•‡∏∞ ‚Äú‡∏û‡∏≤‡∏ß‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏≠‡∏±‡∏õ‡∏û‡∏¥‡πÄ‡∏®‡∏©‚Äù üçé‚ú®<br>
        ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏î‡∏µ ‡πÜ üçá ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≥‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏¢‡∏≠‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!
      </p>

      <div class="fg-chips">
        <div class="fg-chip">ü•ó ‡∏à‡∏±‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏î‡∏µ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏¢‡∏≠‡∏∞ ‡πÜ</div>
        <div class="fg-chip">üïí ‡πÄ‡∏Å‡∏°‡∏¢‡∏≤‡∏ß ~60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</div>
        <div class="fg-chip">üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á PC / Mobile / VR Headset</div>
      </div>

      <div class="fg-playinfo">
        üíª PC: ‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏≤‡∏™‡πå‡∏´‡∏°‡∏∏‡∏ô‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ã‡πâ‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏¥‡∏á<br>
        üì± Mobile: ‡∏´‡∏°‡∏∏‡∏ô‡πÇ‡∏ó‡∏£‡∏®‡∏±‡∏û‡∏ó‡πå‡πÉ‡∏´‡πâ‡∏ß‡∏á‡∏Å‡∏•‡∏°‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠‡∏ó‡∏±‡∏ö‡πÄ‡∏õ‡πâ‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏¥‡∏á<br>
        ü•Ω VR: ‡πÄ‡∏•‡πá‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏≠‡∏ô‡πÇ‡∏ó‡∏£‡∏•‡πÄ‡∏•‡∏≠‡∏£‡πå ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î Trigger ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏¥‡∏á
      </div>

      <div class="fg-buttons">
        <button class="game-button btn-easy"   id="startButtonEasy">ü•ó ‡∏á‡πà‡∏≤‡∏¢ (Easy)</button>
        <button class="game-button btn-normal" id="startButtonNormal">‚öñÔ∏è ‡∏õ‡∏Å‡∏ï‡∏¥ (Normal)</button>
        <button class="game-button btn-hard"   id="startButtonHard">üî• ‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢ (Hard)</button>
      </div>
    </div>

    <div id="resultsScreen" class="fg-panel" style="display:none;">
      <h2>‡πÄ‡∏Å‡∏°‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß!</h2>
      <h1 id="finalScore">Score: 0</h1>

      <!-- ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏£‡∏≤‡∏¢‡∏´‡∏°‡∏π‡πà -->
      <div id="fgSummary"></div>

      <div class="fg-buttons" style="margin-top:18px;">
        <button class="game-button btn-normal" id="playAgainButton">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á üöÄ</button>
      </div>
    </div>
  </div>

  <!-- A-Frame scene -->
  <a-scene id="gameScene"
           renderer="colorManagement: true; useLegacyLights: false"
           loading-screen="dotsColor: white; backgroundColor: #0b1222"
           background="color: #0b1222"
           fg-input-adapter
           crossorigin="anonymous">

    <a-sky color="#020617"></a-sky>

    <a-entity light="type: ambient; color: #FFF; intensity: 0.6"></a-entity>
    <a-entity light="type: directional; color: #FFF; intensity: 0.4" position="-0.5 1 1"></a-entity>

    <!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏Å‡∏° -->
    <a-entity id="gameRoot" food-groups-game></a-entity>

    <a-entity id="rig" position="0 1.6 0">
      <a-camera id="camera" look-controls="pointerLockEnabled: true; touchEnabled: true">
        <!-- ‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô‡πÄ‡∏•‡πá‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠ -->
        <a-cursor id="cursor"
          cursor="fuse: false"
          raycaster="objects: [data-hha-tgt]; interval: 10"
          geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.04"
          material="color: #fde047; shader: flat; opacity: 0.95"
          position="0 0 -1">
        </a-cursor>
      </a-camera>

      <!-- VR controller ‡∏¢‡∏¥‡∏á‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢ trigger -->
      <a-entity id="rightHand"
        laser-controls="hand: right"
        raycaster="objects: [data-hha-tgt]; interval: 10">
      </a-entity>
    </a-entity>
  </a-scene>

  <!-- namespace ‡∏Å‡∏•‡∏≤‡∏á -->
  <script>
    window.GAME_MODULES = window.GAME_MODULES || {};
  </script>
  <!-- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå -->
  <audio id="fgSfxHit"   src="./audio/hit.mp3"   preload="auto"></audio>
  <audio id="fgSfxMiss"  src="./audio/miss.mp3"  preload="auto"></audio>
  <audio id="fgSfxQuest" src="./audio/quest.mp3" preload="auto"></audio>
  
<script src="./vr-groups/logger-cloud.js"></script>
<script src="./vr-groups/audio.js"></script>

<script src="./vr-groups/ui-fever.js"></script>
<script src="./vr-groups/coach.js"></script>
<script src="./vr-groups/difficulty.js"></script>
<script src="./vr-groups/emoji-image.js"></script>
<script src="./vr-groups/aframe-particles.js"></script>
<script src="./vr-groups/quest-serial.js"></script>
<script src="./vr-groups/input-adapter.js"></script>
<script src="./vr-groups/GameEngine.js"></script>
<script src="./vr-groups/launcher-groups.js"></script>

<script>
  // ‚òÖ ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç: ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ endpoint + ‡πÄ‡∏õ‡∏¥‡∏î debug ‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
  (function () {
    if (!window.GAME_MODULES || !GAME_MODULES.foodGroupsCloudLogger) return;
    GAME_MODULES.foodGroupsCloudLogger.init({
      endpoint: 'https://script.google.com/macros/s/AKfycbzEW94iBXISShedudnv-vE0k0_gDkiGtU8r2yatyr_sj4l8dRDhgxgjU6rGyyv0Yh7p/exec',
      projectTag: 'HeroHealth-GroupsVR',
      debug: true   // ‡πÉ‡∏´‡πâ‡πÄ‡∏´‡πá‡∏ô log ‡πÉ‡∏ô Console ‡∏Å‡πà‡∏≠‡∏ô
    });
  })();
</script>

</body>
</html>
