<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>üç±üçâüçü Food Groups VR üéÆ‚ú®</title>

  <link rel="icon" href="./favicon.ico" type="image/x-icon">
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  <style>
    @import url('https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Thai:wght@400;700&display=swap');
    body{
      font-family:'IBM Plex Sans Thai',system-ui,-apple-system,sans-serif;
      margin:0;padding:0;overflow:hidden;
    }
    #uiOverlay{
      position:fixed;inset:0;z-index:10000;
      display:flex;flex-direction:column;justify-content:center;align-items:center;
      background:rgba(17,24,39,0.9);color:#e8eefc;
      backdrop-filter:blur(10px);padding:20px;text-align:center;
      transition:opacity .3s ease;
    }
    #uiOverlay.hidden{opacity:0;pointer-events:none;}
    #uiOverlay h1{font-size:3rem;margin:0 0 1rem;}
    #uiOverlay h2{font-size:2.2rem;color:#f59e0b;}
    .game-button{
      font-family:'IBM Plex Sans Thai',system-ui;
      font-size:1.2rem;font-weight:700;color:#fff;
      background:linear-gradient(145deg,#22c55e,#16a34a);
      border:none;border-radius:12px;
      padding:14px 28px;cursor:pointer;
      box-shadow:0 4px 15px rgba(34,197,94,.4);
      transition:all .2s ease;margin:8px;
    }
    .game-button:hover{transform:translateY(-2px);}
    .game-button.normal{
      background:linear-gradient(145deg,#0ea5e9,#0284c7);
      box-shadow:0 4px 15px rgba(56,189,248,.4);
    }
    .game-button.hard{
      background:linear-gradient(145deg,#ef4444,#dc2626);
      box-shadow:0 4px 15px rgba(239,68,68,.4);
    }
  </style>
</head>
<body>

  <!-- hint ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á -->
  <div id="fgHint"
       style="position:fixed;bottom:10px;left:50%;transform:translateX(-50%);
              background:rgba(15,23,42,.75);color:#e5e7eb;
              padding:6px 12px;border-radius:999px;
              font:500 13px system-ui,-apple-system;z-index:9999;">
    ‡πÄ‡∏•‡πá‡∏á‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ö‡πÄ‡∏õ‡πâ‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏•‡∏¥‡∏Å / ‡πÅ‡∏ï‡∏∞ / ‡∏Å‡∏î Trigger ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏¢‡∏¥‡∏á üéØ
  </div>

  <!-- overlay ‡πÄ‡∏°‡∏ô‡∏π + ‡∏´‡∏ô‡πâ‡∏≤‡∏™‡∏£‡∏∏‡∏õ -->
  <div id="uiOverlay">

    <!-- ===== START SCREEN (‡∏™‡πÑ‡∏ï‡∏•‡πå GoodJunk) ===== -->
    <div id="startScreen">
      <div style="text-align:center;color:#e5e7eb;font-family:'IBM Plex Sans Thai',sans-serif;">

        <h1 style="font-size:2.8rem;margin:0;">
          üç±üçâüçü <span style="font-weight:700;">Food Groups VR</span>
          <span style="opacity:.7;font-size:1.4rem;">Hero Health</span>
        </h1>

        <p style="font-size:1.15rem;line-height:1.5;max-width:520px;margin:18px auto 10px;">
          ‡πÄ‡∏•‡πá‡∏á‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡πÄ‡∏õ‡πâ‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß‡∏¢‡∏¥‡∏á‡∏õ‡∏∏‡πä‡∏á! üéØ <br>
          ‡∏™‡∏∞‡∏™‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£ <b>‡∏´‡∏°‡∏π‡πà 1‚Äì5</b> ‡πÅ‡∏•‡∏∞ ‚Äú‡∏û‡∏≤‡∏ß‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏≠‡∏±‡∏õ‡∏û‡∏¥‡πÄ‡∏®‡∏©‚Äù üçé‚ú® <br>
          ‡∏û‡∏¢‡∏≤‡∏¢‡∏≤‡∏°‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏î‡∏µ ‡πÜ üçá ‡πÅ‡∏•‡πâ‡∏ß‡∏ó‡∏≥‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏¢‡∏≠‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î!
        </p>

        <div style="font-size:.95rem;opacity:.9;margin-bottom:12px;line-height:1.4;">
          üçâ ‡∏à‡∏±‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏î‡∏µ‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏¢‡∏≠‡∏∞ ‡πÜ <br>
          üïí ‡πÄ‡∏Å‡∏°‡∏¢‡∏≤‡∏ß ~60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ <br>
          üéÆ ‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á PC / Mobile / VR Headset
        </div>

        <div style="margin-top:20px;">
          <button class="game-button" id="startButtonEasy">ü•ó ‡∏á‡πà‡∏≤‡∏¢ Easy</button>
          <button class="game-button normal" id="startButtonNormal">‚öñÔ∏è ‡∏õ‡∏Å‡∏ï‡∏¥ Normal</button>
          <button class="game-button hard" id="startButtonHard">üî• ‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢ Hard</button>
        </div>
      </div>
    </div>

    <!-- ===== RESULT SCREEN ===== -->
    <div id="resultsScreen" style="display:none;">
      <h2>‡πÄ‡∏Å‡∏°‡∏à‡∏ö‡πÅ‡∏•‡πâ‡∏ß!</h2>
      <h1 id="finalScore">Score: 0</h1>

      <!-- ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏£‡∏≤‡∏¢‡∏´‡∏°‡∏π‡πà -->
      <div id="fgSummary"
           style="font-size:.95rem;line-height:1.4;margin-top:8px;
                  text-align:left;max-width:420px;margin-inline:auto;">
      </div>

      <button class="game-button" id="playAgainButton">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
    </div>
  </div> <!-- /#uiOverlay -->

  <!-- A-Frame scene -->
  <a-scene id="gameScene"
    renderer="colorManagement: true; useLegacyLights: false"
    loading-screen="dotsColor: white; backgroundColor: #0b1222"
    background="color: #0b1222"
    fg-input-adapter>

    <a-sky color="#020617"></a-sky>

    <a-entity light="type: ambient; color: #FFF; intensity: 0.6"></a-entity>
    <a-entity light="type: directional; color: #FFF; intensity: 0.4" position="-0.5 1 1"></a-entity>

    <!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏Å‡∏° -->
    <a-entity id="gameRoot" food-groups-game></a-entity>

    <a-entity id="rig" position="0 1.6 0">
      <a-camera id="camera" look-controls="pointerLockEnabled: true; touchEnabled: true">
        <!-- ‡∏ß‡∏á‡πÅ‡∏´‡∏ß‡∏ô‡πÄ‡∏•‡πá‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠ -->
        <a-cursor id="cursor"
          cursor="fuse: true; fuseTimeout: 1200"
          raycaster="objects: [data-hha-tgt]"
          geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.04"
          material="color: #fde047; shader: flat; opacity: 0.95"
          position="0 0 -1">
        </a-cursor>
      </a-camera>

      <!-- VR controller ‡∏¢‡∏¥‡∏á‡πÑ‡∏î‡πâ‡∏î‡πâ‡∏ß‡∏¢ trigger -->
      <a-entity id="rightHand"
        laser-controls="hand: right"
        raycaster="objects: [data-hha-tgt]; interval: 10">
      </a-entity>
    </a-entity>
  </a-scene>

  <!-- namespace ‡∏Å‡∏•‡∏≤‡∏á -->
  <script>
    window.GAME_MODULES = window.GAME_MODULES || {};
  </script>

  <!-- ‡πÇ‡∏°‡∏î‡∏π‡∏• logger & audio -->
  <script src="./vr-groups/logger-cloud.js"></script>
  <script src="./vr-groups/audio.js"></script>

  <!-- ‡πÇ‡∏°‡∏î‡∏π‡∏•‡πÄ‡∏Å‡∏° Groups -->
  <script src="./vr-groups/ui-fever.js"></script>
  <script src="./vr-groups/coach.js"></script>
  <script src="./vr-groups/difficulty.js"></script>
  <script src="./vr-groups/emoji-image.js"></script>
  <script src="./vr-groups/aframe-particles.js"></script>
  <script src="./vr-groups/quest-serial.js"></script>

  <!-- auto select input ‡πÅ‡∏ö‡∏ö GoodJunk -->
  <script src="./vr-groups/input-adapter.js"></script>

  <script src="./vr-groups/GameEngine.js"></script>
  <script src="./vr-groups/launcher-groups.js"></script>

  <!-- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå -->
  <audio id="fgSfxHit"   src="./audio/hit.mp3"   preload="auto"></audio>
  <audio id="fgSfxMiss"  src="./audio/miss.mp3"  preload="auto"></audio>
  <audio id="fgSfxQuest" src="./audio/quest.mp3" preload="auto"></audio>

  <!-- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ endpoint ‡∏Ç‡∏≠‡∏á Google Apps Script ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ -->
  <script>
    (function () {
      if (!window.GAME_MODULES || !GAME_MODULES.foodGroupsCloudLogger) return;
      GAME_MODULES.foodGroupsCloudLogger.init({
        endpoint: 'https://script.google.com/macros/s/AKfycbzEW94iBXISShedudnv-vE0k0_gDkiGtU8r2yatyr_sj4l8dRDhgxgjU6rGyyv0Yh7p/exec',
        projectTag: 'HeroHealth-GroupsVR'
      });
    })();
  </script>
</body>
</html>
