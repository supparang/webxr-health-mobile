// === /herohealth/hydration-vr/hydration.minis.js ===
// Mini quest à¸ªà¸³à¸«à¸£à¸±à¸šà¹‚à¸«à¸¡à¸” Hydration (à¹ƒà¸Šà¹‰à¸£à¹ˆà¸§à¸¡à¸à¸±à¸š hydration.quest.js)
//
// à¹‚à¸„à¸£à¸‡à¸ªà¸£à¹‰à¸²à¸‡à¹€à¸«à¸¡à¸·à¸­à¸™ goals:
// { id, label, target, check(s), prog(s) }

'use strict';

const MINIS = {
  // -------------------------------------------------
  // EASY : 10 mini quests
  // -------------------------------------------------
  easy: [
    // M1: à¹€à¸à¹‡à¸šà¸™à¹‰à¸³à¸”à¸µ 10 à¹à¸à¹‰à¸§
    {
      id: 'easy-m1-good-10',
      label: 'Mini: à¹€à¸à¹‡à¸šà¸™à¹‰à¸³à¸”à¸µà¹ƒà¸«à¹‰à¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 10 à¹à¸à¹‰à¸§ ðŸ’§',
      target: 10,
      check: s => s.timeSec > 0 && (s.goodCount || 0) >= 10,
      prog:  s => Math.min(s.goodCount || 0, 10)
    },

    // M2: à¹€à¸à¹‡à¸šà¸™à¹‰à¸³à¸”à¸µ 18 à¹à¸à¹‰à¸§
    {
      id: 'easy-m2-good-18',
      label: 'Mini: à¹€à¸à¹‡à¸šà¸™à¹‰à¸³à¸”à¸µà¹ƒà¸«à¹‰à¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 18 à¹à¸à¹‰à¸§ ðŸ’§',
      target: 18,
      check: s => s.timeSec > 0 && (s.goodCount || 0) >= 18,
      prog:  s => Math.min(s.goodCount || 0, 18)
    },

    // M3: à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡ 1,000 à¹à¸•à¹‰à¸¡
    {
      id: 'easy-m3-score-1000',
      label: 'Mini: à¸—à¸³à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡à¹ƒà¸«à¹‰à¸–à¸¶à¸‡ 1,000 à¹à¸•à¹‰à¸¡ â­',
      target: 1000,
      check: s => s.timeSec > 0 && (s.score || 0) >= 1000,
      prog:  s => Math.min(s.score || 0, 1000)
    },

    // M4: à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡ 1,800 à¹à¸•à¹‰à¸¡
    {
      id: 'easy-m4-score-1800',
      label: 'Mini: à¸—à¸³à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡à¹ƒà¸«à¹‰à¸–à¸¶à¸‡ 1,800 à¹à¸•à¹‰à¸¡ â­â­',
      target: 1800,
      check: s => s.timeSec > 0 && (s.score || 0) >= 1800,
      prog:  s => Math.min(s.score || 0, 1800)
    },

    // M5: GREEN à¸£à¸§à¸¡ 15 à¸§à¸´à¸™à¸²à¸—à¸µ
    {
      id: 'easy-m5-green-15s',
      label: 'Mini: à¸£à¸±à¸à¸©à¸²à¹‚à¸‹à¸™ GREEN à¸£à¸§à¸¡à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 15 à¸§à¸´à¸™à¸²à¸—à¸µ ðŸ’š',
      target: 15,
      check: s => s.timeSec >= 10 && (s.greenTick || 0) >= 15,
      prog:  s => Math.min(s.greenTick || 0, 15)
    },

    // M6: GREEN â‰¥ 50% à¸«à¸¥à¸±à¸‡à¹€à¸¥à¹ˆà¸™à¹„à¸›à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 25s
    {
      id: 'easy-m6-green-50pct-short',
      label: 'Mini: à¹ƒà¸«à¹‰à¹€à¸§à¸¥à¸² GREEN â‰¥ 50% à¸«à¸¥à¸±à¸‡à¹€à¸¥à¹ˆà¸™à¹„à¸›à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 25 à¸§à¸´à¸™à¸²à¸—à¸µ ðŸ’š',
      target: 100,
      check: s => s.timeSec >= 25 && (s.greenRatio || 0) >= 0.5,
      prog:  s => Math.min(100, Math.round((s.greenRatio || 0) * 100))
    },

    // M7: à¸„à¸­à¸¡à¹‚à¸šà¸ªà¸¹à¸‡à¸ªà¸¸à¸”à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 12 à¸„à¸£à¸±à¹‰à¸‡
    {
      id: 'easy-m7-combo-12',
      label: 'Mini: à¸—à¸³à¸„à¸­à¸¡à¹‚à¸šà¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡à¹ƒà¸«à¹‰à¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 12 à¸„à¸£à¸±à¹‰à¸‡ ðŸ”',
      target: 12,
      check: s => s.timeSec > 0 && (s.comboMax || 0) >= 12,
      prog:  s => Math.min(s.comboMax || 0, 12)
    },

    // M8: à¸žà¸¥à¸²à¸”à¹„à¸”à¹‰à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 1 à¸„à¸£à¸±à¹‰à¸‡à¹ƒà¸™ 30 à¸§à¸´à¸™à¸²à¸—à¸µà¹à¸£à¸
    {
      id: 'easy-m8-nomiss-30s-1',
      label: 'Mini: à¹ƒà¸™ 30 à¸§à¸´à¸™à¸²à¸—à¸µà¹à¸£à¸ à¸žà¸¥à¸²à¸”à¹„à¸”à¹‰à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 1 à¸„à¸£à¸±à¹‰à¸‡ ðŸš«',
      target: 30,
      check: s => s.timeSec >= 30 && (s.junkMiss || 0) <= 1,
      prog:  s => Math.min(s.timeSec || 0, 30)
    },

    // M9: à¹€à¸¥à¹ˆà¸™à¸„à¸£à¸š 40 à¸§à¸´à¸™à¸²à¸—à¸µ
    {
      id: 'easy-m9-time-40',
      label: 'Mini: à¹€à¸¥à¹ˆà¸™à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡à¹ƒà¸«à¹‰à¸„à¸£à¸šà¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 40 à¸§à¸´à¸™à¸²à¸—à¸µ â±ï¸',
      target: 40,
      check: s => s.timeSec >= 40,
      prog:  s => Math.min(s.timeSec || 0, 40)
    },

    // M10: à¸ˆà¸šà¹€à¸à¸¡à¸”à¹‰à¸§à¸¢à¹‚à¸‹à¸™ GREEN
    {
      id: 'easy-m10-end-green',
      label: 'Mini: à¸ˆà¸šà¹€à¸à¸¡à¹ƒà¸™à¹‚à¸‹à¸™ GREEN ðŸ’š',
      target: 1,
      check: s => s.timeSec >= 20 && s.zone === 'GREEN',
      prog:  s => (s.zone === 'GREEN' ? 1 : 0)
    }
  ],

  // -------------------------------------------------
  // NORMAL : 10 mini quests
  // -------------------------------------------------
  normal: [
    // N1: à¹€à¸à¹‡à¸šà¸™à¹‰à¸³à¸”à¸µ 18 à¹à¸à¹‰à¸§
    {
      id: 'normal-m1-good-18',
      label: 'Mini: à¹€à¸à¹‡à¸šà¸™à¹‰à¸³à¸”à¸µà¹ƒà¸«à¹‰à¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 18 à¹à¸à¹‰à¸§ ðŸ’§',
      target: 18,
      check: s => s.timeSec > 0 && (s.goodCount || 0) >= 18,
      prog:  s => Math.min(s.goodCount || 0, 18)
    },

    // N2: à¹€à¸à¹‡à¸šà¸™à¹‰à¸³à¸”à¸µ 28 à¹à¸à¹‰à¸§
    {
      id: 'normal-m2-good-28',
      label: 'Mini: à¹€à¸à¹‡à¸šà¸™à¹‰à¸³à¸”à¸µà¹ƒà¸«à¹‰à¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 28 à¹à¸à¹‰à¸§ ðŸ’§',
      target: 28,
      check: s => s.timeSec > 0 && (s.goodCount || 0) >= 28,
      prog:  s => Math.min(s.goodCount || 0, 28)
    },

    // N3: à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡ 2,500 à¹à¸•à¹‰à¸¡
    {
      id: 'normal-m3-score-2500',
      label: 'Mini: à¸—à¸³à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡à¹ƒà¸«à¹‰à¸–à¸¶à¸‡ 2,500 à¹à¸•à¹‰à¸¡ â­â­',
      target: 2500,
      check: s => s.timeSec > 0 && (s.score || 0) >= 2500,
      prog:  s => Math.min(s.score || 0, 2500)
    },

    // N4: à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡ 3,500 à¹à¸•à¹‰à¸¡
    {
      id: 'normal-m4-score-3500',
      label: 'Mini: à¸—à¸³à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡à¹ƒà¸«à¹‰à¸–à¸¶à¸‡ 3,500 à¹à¸•à¹‰à¸¡ â­â­â­',
      target: 3500,
      check: s => s.timeSec > 0 && (s.score || 0) >= 3500,
      prog:  s => Math.min(s.score || 0, 3500)
    },

    // N5: GREEN à¸£à¸§à¸¡ 25 à¸§à¸´à¸™à¸²à¸—à¸µ
    {
      id: 'normal-m5-green-25s',
      label: 'Mini: à¸£à¸±à¸à¸©à¸²à¹‚à¸‹à¸™ GREEN à¸£à¸§à¸¡à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 25 à¸§à¸´à¸™à¸²à¸—à¸µ ðŸ’š',
      target: 25,
      check: s => s.timeSec >= 15 && (s.greenTick || 0) >= 25,
      prog:  s => Math.min(s.greenTick || 0, 25)
    },

    // N6: GREEN â‰¥ 55% à¸«à¸¥à¸±à¸‡à¹€à¸¥à¹ˆà¸™à¹„à¸›à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 35s
    {
      id: 'normal-m6-green-55pct-short',
      label: 'Mini: à¹ƒà¸«à¹‰à¹€à¸§à¸¥à¸² GREEN â‰¥ 55% à¸«à¸¥à¸±à¸‡à¹€à¸¥à¹ˆà¸™à¹„à¸›à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 35 à¸§à¸´à¸™à¸²à¸—à¸µ ðŸ’š',
      target: 100,
      check: s => s.timeSec >= 35 && (s.greenRatio || 0) >= 0.55,
      prog:  s => Math.min(100, Math.round((s.greenRatio || 0) * 100))
    },

    // N7: à¸„à¸­à¸¡à¹‚à¸šà¸ªà¸¹à¸‡à¸ªà¸¸à¸”à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 20 à¸„à¸£à¸±à¹‰à¸‡
    {
      id: 'normal-m7-combo-20',
      label: 'Mini: à¸—à¸³à¸„à¸­à¸¡à¹‚à¸šà¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡à¹ƒà¸«à¹‰à¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 20 à¸„à¸£à¸±à¹‰à¸‡ ðŸ”',
      target: 20,
      check: s => s.timeSec > 0 && (s.comboMax || 0) >= 20,
      prog:  s => Math.min(s.comboMax || 0, 20)
    },

    // N8: à¸žà¸¥à¸²à¸”à¹„à¸”à¹‰à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 2 à¸„à¸£à¸±à¹‰à¸‡à¹ƒà¸™ 40 à¸§à¸´à¸™à¸²à¸—à¸µà¹à¸£à¸
    {
      id: 'normal-m8-nomiss-40s-2',
      label: 'Mini: à¹ƒà¸™ 40 à¸§à¸´à¸™à¸²à¸—à¸µà¹à¸£à¸ à¸žà¸¥à¸²à¸”à¹„à¸”à¹‰à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 2 à¸„à¸£à¸±à¹‰à¸‡ ðŸš«',
      target: 40,
      check: s => s.timeSec >= 40 && (s.junkMiss || 0) <= 2,
      prog:  s => Math.min(s.timeSec || 0, 40)
    },

    // N9: à¹€à¸¥à¹ˆà¸™à¸„à¸£à¸š 60 à¸§à¸´à¸™à¸²à¸—à¸µ
    {
      id: 'normal-m9-time-60',
      label: 'Mini: à¹€à¸¥à¹ˆà¸™à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡à¹ƒà¸«à¹‰à¸„à¸£à¸šà¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 60 à¸§à¸´à¸™à¸²à¸—à¸µ â±ï¸',
      target: 60,
      check: s => s.timeSec >= 60,
      prog:  s => Math.min(s.timeSec || 0, 60)
    },

    // N10: à¸ˆà¸šà¹€à¸à¸¡à¸”à¹‰à¸§à¸¢ GREEN + miss â‰¤ 2
    {
      id: 'normal-m10-end-green-miss-2',
      label: 'Mini: à¸ˆà¸šà¹€à¸à¸¡à¹ƒà¸™à¹‚à¸‹à¸™ GREEN à¹à¸¥à¸°à¸žà¸¥à¸²à¸”à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 2 à¸„à¸£à¸±à¹‰à¸‡ ðŸ’šðŸš«',
      target: 2,
      check: s => s.timeSec >= 30 &&
        s.zone === 'GREEN' &&
        (s.junkMiss || 0) <= 2,
      prog:  s => Math.min(s.junkMiss || 0, 2)
    }
  ],

  // -------------------------------------------------
  // HARD : 10 mini quests
  // -------------------------------------------------
  hard: [
    // H1: à¹€à¸à¹‡à¸šà¸™à¹‰à¸³à¸”à¸µ 28 à¹à¸à¹‰à¸§
    {
      id: 'hard-m1-good-28',
      label: 'Mini: à¹€à¸à¹‡à¸šà¸™à¹‰à¸³à¸”à¸µà¹ƒà¸«à¹‰à¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 28 à¹à¸à¹‰à¸§ ðŸ’§',
      target: 28,
      check: s => s.timeSec > 0 && (s.goodCount || 0) >= 28,
      prog:  s => Math.min(s.goodCount || 0, 28)
    },

    // H2: à¹€à¸à¹‡à¸šà¸™à¹‰à¸³à¸”à¸µ 38 à¹à¸à¹‰à¸§
    {
      id: 'hard-m2-good-38',
      label: 'Mini: à¹€à¸à¹‡à¸šà¸™à¹‰à¸³à¸”à¸µà¹ƒà¸«à¹‰à¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 38 à¹à¸à¹‰à¸§ ðŸ’§',
      target: 38,
      check: s => s.timeSec > 0 && (s.goodCount || 0) >= 38,
      prog:  s => Math.min(s.goodCount || 0, 38)
    },

    // H3: à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡ 3,500 à¹à¸•à¹‰à¸¡
    {
      id: 'hard-m3-score-3500',
      label: 'Mini: à¸—à¸³à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡à¹ƒà¸«à¹‰à¸–à¸¶à¸‡ 3,500 à¹à¸•à¹‰à¸¡ â­â­',
      target: 3500,
      check: s => s.timeSec > 0 && (s.score || 0) >= 3500,
      prog:  s => Math.min(s.score || 0, 3500)
    },

    // H4: à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡ 4,500 à¹à¸•à¹‰à¸¡
    {
      id: 'hard-m4-score-4500',
      label: 'Mini: à¸—à¸³à¸„à¸°à¹à¸™à¸™à¸£à¸§à¸¡à¹ƒà¸«à¹‰à¸–à¸¶à¸‡ 4,500 à¹à¸•à¹‰à¸¡ â­â­â­',
      target: 4500,
      check: s => s.timeSec > 0 && (s.score || 0) >= 4500,
      prog:  s => Math.min(s.score || 0, 4500)
    },

    // H5: GREEN à¸£à¸§à¸¡ 35 à¸§à¸´à¸™à¸²à¸—à¸µ
    {
      id: 'hard-m5-green-35s',
      label: 'Mini: à¸£à¸±à¸à¸©à¸²à¹‚à¸‹à¸™ GREEN à¸£à¸§à¸¡à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 35 à¸§à¸´à¸™à¸²à¸—à¸µ ðŸ’š',
      target: 35,
      check: s => s.timeSec >= 20 && (s.greenTick || 0) >= 35,
      prog:  s => Math.min(s.greenTick || 0, 35)
    },

    // H6: GREEN â‰¥ 65% à¸«à¸¥à¸±à¸‡à¹€à¸¥à¹ˆà¸™à¹„à¸›à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 45s
    {
      id: 'hard-m6-green-65pct-short',
      label: 'Mini: à¹ƒà¸«à¹‰à¹€à¸§à¸¥à¸² GREEN â‰¥ 65% à¸«à¸¥à¸±à¸‡à¹€à¸¥à¹ˆà¸™à¹„à¸›à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 45 à¸§à¸´à¸™à¸²à¸—à¸µ ðŸ’š',
      target: 100,
      check: s => s.timeSec >= 45 && (s.greenRatio || 0) >= 0.65,
      prog:  s => Math.min(100, Math.round((s.greenRatio || 0) * 100))
    },

    // H7: à¸„à¸­à¸¡à¹‚à¸šà¸ªà¸¹à¸‡à¸ªà¸¸à¸”à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 28 à¸„à¸£à¸±à¹‰à¸‡
    {
      id: 'hard-m7-combo-28',
      label: 'Mini: à¸—à¸³à¸„à¸­à¸¡à¹‚à¸šà¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡à¹ƒà¸«à¹‰à¹„à¸”à¹‰à¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 28 à¸„à¸£à¸±à¹‰à¸‡ ðŸ”',
      target: 28,
      check: s => s.timeSec > 0 && (s.comboMax || 0) >= 28,
      prog:  s => Math.min(s.comboMax || 0, 28)
    },

    // H8: à¸žà¸¥à¸²à¸”à¹„à¸”à¹‰à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 1 à¸„à¸£à¸±à¹‰à¸‡à¹ƒà¸™ 50 à¸§à¸´à¸™à¸²à¸—à¸µà¹à¸£à¸
    {
      id: 'hard-m8-nomiss-50s-1',
      label: 'Mini: à¹ƒà¸™ 50 à¸§à¸´à¸™à¸²à¸—à¸µà¹à¸£à¸ à¸žà¸¥à¸²à¸”à¹„à¸”à¹‰à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 1 à¸„à¸£à¸±à¹‰à¸‡ ðŸš«',
      target: 50,
      check: s => s.timeSec >= 50 && (s.junkMiss || 0) <= 1,
      prog:  s => Math.min(s.timeSec || 0, 50)
    },

    // H9: à¹€à¸¥à¹ˆà¸™à¸„à¸£à¸š 70 à¸§à¸´à¸™à¸²à¸—à¸µ
    {
      id: 'hard-m9-time-70',
      label: 'Mini: à¹€à¸¥à¹ˆà¸™à¸•à¹ˆà¸­à¹€à¸™à¸·à¹ˆà¸­à¸‡à¹ƒà¸«à¹‰à¸„à¸£à¸šà¸­à¸¢à¹ˆà¸²à¸‡à¸™à¹‰à¸­à¸¢ 70 à¸§à¸´à¸™à¸²à¸—à¸µ â±ï¸',
      target: 70,
      check: s => s.timeSec >= 70,
      prog:  s => Math.min(s.timeSec || 0, 70)
    },

    // H10: à¸ˆà¸šà¹€à¸à¸¡à¸”à¹‰à¸§à¸¢ GREEN + miss â‰¤ 1
    {
      id: 'hard-m10-end-green-miss-1',
      label: 'Mini: à¸ˆà¸šà¹€à¸à¸¡à¹ƒà¸™à¹‚à¸‹à¸™ GREEN à¹à¸¥à¸°à¸žà¸¥à¸²à¸”à¹„à¸¡à¹ˆà¹€à¸à¸´à¸™ 1 à¸„à¸£à¸±à¹‰à¸‡ ðŸ’šðŸš«',
      target: 1,
      check: s => s.timeSec >= 40 &&
        s.zone === 'GREEN' &&
        (s.junkMiss || 0) <= 1,
      prog:  s => (s.zone === 'GREEN' && (s.junkMiss || 0) <= 1) ? 1 : 0
    }
  ]
};

// ---------- API à¸—à¸µà¹ˆ hydration.quest.js à¹€à¸£à¸µà¸¢à¸ ----------
export function hydrationMinisFor (diff = 'normal') {
  const key = String(diff || 'normal').toLowerCase();
  const list = MINIS[key] || MINIS.normal;
  return list.map(q => ({ ...q }));
}

export default { hydrationMinisFor };
