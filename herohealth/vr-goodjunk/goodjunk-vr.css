/* =========================
   VR COMPACT + LOWTIME (NON-DIZZY)
   ========================= */

/* Quest peek modal (always available) */
.gj-peek{
  position:fixed;
  inset:0;
  z-index:130;
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(2,6,23,.55);
  backdrop-filter: blur(10px);
  opacity:0;
  pointer-events:none;
  transition: opacity 140ms ease;
}
.gj-peek.show{
  opacity:1;
  pointer-events:auto;
}
.peek-card{
  width:min(680px, 92vw);
  background: rgba(2,6,23,.84);
  border:1px solid rgba(148,163,184,.20);
  border-radius: 22px;
  padding:18px;
  box-shadow: 0 18px 50px rgba(0,0,0,.45);
}
.peek-title{ font-size:22px; font-weight:1000; }
.peek-mini{ margin-top:8px; font-weight:1000; }
.peek-sub{ margin-top:10px; color:var(--muted); font-weight:900; }
.peek-tip{ margin-top:10px; color: rgba(148,163,184,.95); font-weight:850; font-size:12px; }
.peek-close{
  margin-top:14px;
  width:100%;
  height:52px;
  border-radius:16px;
  border:1px solid rgba(148,163,184,.20);
  background: rgba(2,6,23,.60);
  color: var(--text);
  font-weight:1000;
}

/* VR mini hud show/hide */
body.view-vr #vrMiniHud,
body.view-cvr #vrMiniHud{
  display:block !important;
}
#vrMiniHud[hidden]{ display:none !important; }

/* Low-time toast */
.lowtime-toast{
  position:fixed;
  left:12px; right:12px;
  top: calc(var(--sat) + 54px);
  z-index:125;
  display:flex;
  justify-content:center;
  pointer-events:none;
}
.lowtime-toast[hidden]{ display:none !important; }

.lowtime-card{
  width:min(520px, 92vw);
  text-align:center;
  background: rgba(15,23,42,.72);
  border:1px solid rgba(245,158,11,.30);
  border-radius:999px;
  padding:10px 14px;
  font-weight:1000;
  letter-spacing:.2px;
  box-shadow: 0 18px 50px rgba(0,0,0,.35);
  transform: translateZ(0);
}

/* Non-dizzy tick: gentle pulse only (no stage shake) */
@keyframes gjPulse{
  0%{ transform: scale(1); filter:none; }
  50%{ transform: scale(1.06); filter: brightness(1.08); }
  100%{ transform: scale(1); filter:none; }
}
body.gj-tick .gj-crosshair::before{
  animation: gjPulse 120ms ease;
  box-shadow: 0 0 0 7px rgba(245,158,11,.12), 0 0 0 16px rgba(245,158,11,.06);
  border-color: rgba(245,158,11,.85);
}
body.gj-urgent .gj-crosshair::before{
  box-shadow: 0 0 0 7px rgba(239,68,68,.14), 0 0 0 18px rgba(239,68,68,.07);
  border-color: rgba(239,68,68,.9);
}

/* Make toast blink lightly near end */
@keyframes toastBlink{
  0%,100%{ opacity:1; }
  50%{ opacity:.78; }
}
body.gj-lowtime #lowTimeText{
  animation: toastBlink 500ms ease-in-out infinite;
}
body.gj-urgent #lowTimeText{
  border-color: rgba(239,68,68,.32);
  animation: toastBlink 360ms ease-in-out infinite;
}