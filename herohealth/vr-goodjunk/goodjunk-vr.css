/* === /herohealth/vr-goodjunk/goodjunk-vr.css ===
GoodJunkVR — PRODUCTION UI (HHA Standard)
✅ PC / Mobile / VR / cVR
✅ Safe-area aware
✅ HUD does NOT block targets (uses --gj-top-safe / --gj-bottom-safe)
*/

:root{
  --bg:#020617;
  --panel: rgba(2,6,23,.72);
  --panel2: rgba(15,23,42,.55);
  --stroke: rgba(148,163,184,.18);

  --text:#e5e7eb;
  --muted:#94a3b8;

  --good:#22c55e;
  --bad:#ef4444;
  --cyan:#22d3ee;
  --amber:#f59e0b;
  --violet:#a78bfa;

  --radius:22px;

  /* SAFE padding for target spawn inside layer */
  --gj-top-safe: 92;    /* px */
  --gj-bottom-safe: 96; /* px */

  --sat: env(safe-area-inset-top, 0px);
  --sab: env(safe-area-inset-bottom, 0px);
}

*{ box-sizing:border-box; }
html,body{ width:100%; height:100%; margin:0; }
body{
  background: var(--bg);
  color:var(--text);
  overflow:hidden;
}

/* =====================================================
   PLAYFIELD & LAYERS
===================================================== */
.gj-playfield{
  position:relative;
  width:100%;
  height:100%;
  overflow:hidden;
}

/* spawn layers */
.gj-layer{
  position:absolute;
  inset:0;
  pointer-events:none;
}
.gj-layer-r{
  display:none;
}

/* cVR: show both layers side by side */
body.view-cvr .gj-layer{
  width:50%;
}
body.view-cvr .gj-layer-r{
  display:block;
  left:50%;
  width:50%;
}

/* =====================================================
   TARGETS
===================================================== */
.gj-target{
  position:absolute;
  pointer-events:auto;
  user-select:none;
  -webkit-tap-highlight-color: transparent;

  display:flex;
  align-items:center;
  justify-content:center;

  font-size:56px;
  line-height:1;
  border-radius:18px;

  background: rgba(15,23,42,.75);
  border:1px solid rgba(148,163,184,.22);
  box-shadow:0 14px 36px rgba(0,0,0,.28);

  transition: transform .14s ease, opacity .12s ease;
}
.gj-target.spawn{
  transform:scale(.86);
  opacity:0;
}
.gj-target.spawned{
  transform:scale(1);
  opacity:1;
}

/* =====================================================
   HUD
===================================================== */
.gj-hud{
  position:absolute;
  top:calc(var(--sat) + 6px);
  left:12px;
  right:12px;
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:10px;
  pointer-events:none;
  z-index:20;
}

.gj-pill{
  background:var(--panel);
  border:1px solid var(--stroke);
  border-radius:999px;
  padding:6px 12px;
  font-weight:900;
  font-size:12px;
  letter-spacing:.3px;
}

.gj-hud-left,
.gj-hud-mid,
.gj-hud-right{
  display:flex;
  gap:10px;
  align-items:center;
}

.gj-hud-mid{
  background:var(--panel);
  border:1px solid var(--stroke);
  border-radius:18px;
  padding:6px 10px;
}

.gj-stat{
  text-align:center;
  min-width:54px;
}
.gj-stat-k{
  font-size:10px;
  color:var(--muted);
}
.gj-stat-v{
  font-size:18px;
  font-weight:900;
}

/* right */
.gj-mini{
  background:var(--panel);
  border:1px solid var(--stroke);
  border-radius:16px;
  padding:6px 10px;
  text-align:center;
}
.gj-mini-k{
  font-size:10px;
  color:var(--muted);
}
.gj-mini-v{
  font-size:14px;
  font-weight:900;
}

.gj-fever{
  width:90px;
  height:8px;
  background:rgba(148,163,184,.18);
  border-radius:999px;
  overflow:hidden;
}
.gj-fever-fill{
  height:100%;
  width:0%;
  background:linear-gradient(90deg, var(--amber), var(--good));
}

/* =====================================================
   QUEST PANEL
===================================================== */
.gj-quest{
  position:absolute;
  left:12px;
  top:calc(var(--sat) + 64px);
  width:min(360px, calc(100% - 24px));
  background:var(--panel2);
  border:1px solid var(--stroke);
  border-radius:var(--radius);
  padding:12px 14px;
  pointer-events:none;
  z-index:18;
}

.gj-quest-title{
  font-weight:900;
  font-size:14px;
}
.gj-quest-desc{
  font-size:12px;
  color:var(--muted);
  margin-top:4px;
}

.gj-quest-row{
  display:flex;
  justify-content:space-between;
  margin-top:8px;
  font-size:12px;
}

/* =====================================================
   PROGRESS
===================================================== */
.gj-progress{
  position:absolute;
  left:0;
  right:0;
  bottom:calc(var(--sab) + 10px);
  height:6px;
  background:rgba(148,163,184,.18);
  z-index:15;
}
.gj-progress-fill{
  height:100%;
  width:0%;
  background:linear-gradient(90deg, var(--cyan), var(--violet));
}

/* =====================================================
   BOSS BAR
===================================================== */
.gj-boss{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  bottom:calc(var(--sab) + 20px);
  width:min(520px, calc(100% - 40px));
  background:var(--panel);
  border:1px solid var(--stroke);
  border-radius:18px;
  padding:10px 12px;
  z-index:19;
}
.gj-boss[aria-hidden="true"]{ display:none; }

.gj-boss-top{
  display:flex;
  justify-content:space-between;
  font-size:12px;
  margin-bottom:6px;
}
.gj-boss-title{ font-weight:900; }
.gj-boss-hint{ color:var(--muted); }

.gj-boss-bar{
  width:100%;
  height:8px;
  background:rgba(148,163,184,.22);
  border-radius:999px;
  overflow:hidden;
}
.gj-boss-fill{
  height:100%;
  width:100%;
  background:linear-gradient(90deg, var(--bad), var(--amber));
}

/* =====================================================
   LOW TIME OVERLAY
===================================================== */
.gj-lowtime{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(2,6,23,.55);
  z-index:40;
}
.gj-lowtime[aria-hidden="true"]{ display:none; }

.gj-lowtime-inner{
  background:var(--panel);
  border:1px solid var(--stroke);
  border-radius:28px;
  padding:26px 34px;
  text-align:center;
}
.gj-lowtime-k{
  font-size:14px;
  color:var(--muted);
}
.gj-lowtime-num{
  font-size:64px;
  font-weight:900;
  margin-top:6px;
}

/* =====================================================
   START OVERLAY
===================================================== */
.gj-start{
  position:absolute;
  inset:0;
  display:flex;
  align-items:center;
  justify-content:center;
  background:rgba(2,6,23,.72);
  z-index:50;
}
.gj-start[aria-hidden="true"]{ display:none; }

.gj-start-card{
  background:var(--panel);
  border:1px solid var(--stroke);
  border-radius:32px;
  padding:26px 28px;
  width:min(420px, calc(100% - 40px));
  text-align:center;
}

.gj-start-pill{
  display:inline-block;
  background:rgba(34,197,94,.15);
  color:var(--good);
  border-radius:999px;
  padding:4px 12px;
  font-weight:900;
  font-size:12px;
}

.gj-start-title{
  font-size:22px;
  font-weight:900;
  margin:10px 0 6px;
}
.gj-start-sub{
  font-size:13px;
  color:var(--muted);
}

.gj-start-actions{
  display:flex;
  gap:10px;
  justify-content:center;
  margin-top:16px;
}

.gj-btn{
  border-radius:16px;
  border:1px solid var(--stroke);
  background:rgba(2,6,23,.55);
  color:var(--text);
  padding:10px 14px;
  font-weight:900;
  cursor:pointer;
}
.gj-btn-primary{
  background:linear-gradient(135deg, var(--good), var(--cyan));
  color:#020617;
  border:none;
}

/* =====================================================
   RESPONSIVE
===================================================== */
@media (max-width: 520px){
  .gj-hud-mid{ display:none; }
  .gj-quest{ width:calc(100% - 24px); }
}
