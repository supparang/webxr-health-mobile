/* === /herohealth/vr-goodjunk/goodjunk-vr.css ===
GoodJunkVR UI — PRODUCTION (PC/Mobile/VR/Cardboard/cVR)
✅ HUD + Quest visible
✅ VR mini HUD for vr/cvr
✅ Two-eye stage layout for vr/cvr
✅ Lowtime ring + overlay
✅ Fever + Shield bar
*/

:root{
  color-scheme: dark;
  --bg:#020617;
  --panel:rgba(2,6,23,.78);
  --panel2:rgba(15,23,42,.70);
  --stroke:rgba(148,163,184,.18);
  --text:#e5e7eb;
  --muted:#94a3b8;
  --accent:#22c55e;
  --warn:#f59e0b;
  --danger:#f97373;
  --radius:22px;
  --pill:999px;

  --sat: env(safe-area-inset-top, 0px);
  --sab: env(safe-area-inset-bottom, 0px);

  --hudTopH: 120px;
  --hudSidePad: 14px;
}

*{ box-sizing:border-box; }
html, body{
  margin:0; padding:0;
  width:100%; height:100%;
  overflow:hidden;
  background:
    radial-gradient(circle at 20% 0%, rgba(56,189,248,.14), transparent 55%),
    radial-gradient(circle at 80% 100%, rgba(34,197,94,.12), transparent 55%),
    var(--bg);
  color:var(--text);
  font-family: system-ui, -apple-system, "Segoe UI", "Noto Sans Thai", sans-serif;
}

/* ---------- View flags ---------- */
body.view-pc {}
body.view-mobile {}
body.view-vr {}
body.view-cvr {}

/* ---------- HUD ---------- */
.hha-hud{
  position:fixed;
  left: var(--hudSidePad);
  right: var(--hudSidePad);
  top: calc(12px + var(--sat));
  z-index: 80;
  pointer-events:none;
}
.hha-hud *{ pointer-events:auto; }

.hud-top{
  display:flex;
  gap:12px;
  align-items:flex-start;
  justify-content:space-between;
  flex-wrap:wrap;
}
.hud-badge{
  min-width: 240px;
  max-width: 520px;
  background: var(--panel);
  border:1px solid var(--stroke);
  border-radius: 18px;
  padding: 12px 12px;
  box-shadow: 0 18px 50px rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
}
.hud-title{ font-size:18px; font-weight:1100; letter-spacing:.2px; }
.hud-sub{ margin-top:4px; color:var(--muted); font-weight:900; font-size:12px; }

.viewbar{ margin-top:10px; display:flex; gap:10px; flex-wrap:wrap; }
.pill{
  border:1px solid rgba(148,163,184,.22);
  background: rgba(2,6,23,.50);
  color:var(--text);
  border-radius: var(--pill);
  padding: 10px 12px;
  font-weight:1100;
  cursor:pointer;
}
.pill.ghost{ opacity:.95; }
.pill:active{ transform: translateY(1px); }

.hud-stats{
  display:flex; gap:10px; flex-wrap:wrap;
}
.hud-stat{
  width: 116px;
  background: var(--panel);
  border:1px solid var(--stroke);
  border-radius: 18px;
  padding: 10px 10px;
  box-shadow: 0 18px 50px rgba(0,0,0,.30);
  backdrop-filter: blur(10px);
}
.hud-stat .k{ font-size:11px; color:var(--muted); font-weight:1000; letter-spacing:.2px; }
.hud-stat .v{ margin-top:6px; font-size:18px; font-weight:1200; }

.hud-mid{
  margin-top: 10px;
  display:block; /* ✅ force visible */
}
.hud-quest{
  width: min(520px, 96vw);
  background: rgba(15,23,42,.60);
  border:1px solid rgba(148,163,184,.18);
  border-radius: 18px;
  padding: 12px 12px;
  box-shadow: 0 18px 50px rgba(0,0,0,.22);
  backdrop-filter: blur(8px);
}
.q-row{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
.q-title{ font-weight:1200; font-size:14px; }
.q-title.mini{ color:var(--muted); }
.q-count{ color:var(--muted); font-weight:1100; font-size:12px; }
.q-progress{
  margin-top:6px;
  color:#d1d5db;
  font-weight:1000;
  font-size:13px;
}
.q-timer{ color:var(--muted); font-weight:1000; font-size:12px; }

/* Hide HUD toggle */
body.hud-hidden .hha-hud{ display:none !important; }

/* ---------- Missions Peek ---------- */
.gj-peek{
  position:fixed; inset:0;
  z-index:120;
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(2,6,23,.68);
  backdrop-filter: blur(10px);
  opacity:0;
  pointer-events:none;
  transition: opacity .12s ease;
}
.gj-peek[aria-hidden="false"]{
  opacity:1;
  pointer-events:auto;
}
.peek-card{
  width:min(520px, 92vw);
  background: rgba(2,6,23,.78);
  border:1px solid rgba(148,163,184,.20);
  border-radius: 22px;
  padding: 16px;
  box-shadow: 0 22px 70px rgba(0,0,0,.45);
}
.peek-title{ font-size:18px; font-weight:1200; }
.peek-sub{ margin-top:8px; color:#d1d5db; font-weight:1100; }
.peek-mini{ margin-top:8px; color:#d1d5db; font-weight:1100; }
.peek-tip{ margin-top:10px; color:var(--muted); font-size:12px; font-weight:1000; }

/* ---------- Fever ---------- */
.hha-fever{
  position:fixed;
  left: 14px;
  right: 14px;
  bottom: calc(74px + var(--sab));
  z-index: 70;
  background: rgba(2,6,23,.68);
  border: 1px solid rgba(148,163,184,.18);
  border-radius: 18px;
  padding: 10px 12px;
  backdrop-filter: blur(10px);
}
.fever-row{ display:flex; align-items:center; gap:10px; }
.fever-label{ width:56px; color:var(--muted); font-weight:1100; font-size:12px; }
.fever-bar{ flex:1; height:14px; border-radius:999px; background: rgba(148,163,184,.16); overflow:hidden; }
.fever-fill{ height:100%; width:0%; background: linear-gradient(90deg, #22c55e, #f59e0b, #ef4444); }
.fever-text{ width:56px; text-align:right; font-weight:1200; color:#d1d5db; }

.shield-row{ margin-top:8px; display:flex; align-items:center; gap:10px; }
.shield-label{ width:56px; color:var(--muted); font-weight:1100; font-size:12px; }
.shield-pills{ flex:1; display:flex; gap:8px; justify-content:flex-start; align-items:center; color:#d1d5db; font-weight:1100; }

/* ---------- Stage / two-eye ---------- */
#gj-stage{
  position:fixed; inset:0;
  z-index: 10;
  display:flex;
  align-items:stretch;
  justify-content:stretch;
  overflow:hidden;
}
.gj-eye{
  position:relative;
  flex:1;
  overflow:hidden;
}
.gj-layer{
  position:absolute;
  inset:0;
  pointer-events:auto;
}
.gj-crosshair{
  position:absolute;
  left:50%; top:50%;
  width: 18px; height: 18px;
  transform: translate(-50%,-50%);
  border-radius: 999px;
  box-shadow: 0 0 0 2px rgba(255,255,255,.18);
  opacity:.0; /* default hidden (mobile tap) */
  pointer-events:none;
}
body.view-vr .gj-crosshair,
body.view-cvr .gj-crosshair{
  opacity:.85; /* ✅ show crosshair in VR/cVR */
}

body.view-mobile .gj-eye.eye-r,
body.view-pc .gj-eye.eye-r{
  display:none; /* ✅ single eye on pc/mobile */
}
body.view-vr .gj-eye.eye-r,
body.view-cvr .gj-eye.eye-r{
  display:block; /* ✅ two-eye on vr/cvr */
}

/* ---------- Targets ---------- */
.gj-target{
  filter: drop-shadow(0 10px 22px rgba(0,0,0,.35));
  transition: transform .12s ease, opacity .12s ease;
  opacity: .0;
}
.gj-target.spawn{ opacity: 1; }
.gj-target.gone{ opacity: 0; transform: translate(-50%,-50%) scale(.92) !important; }

/* ---------- Controls ---------- */
.hha-controls{
  position:fixed;
  left: 14px;
  right: 14px;
  bottom: calc(14px + var(--sab));
  z-index: 90;
  display:flex;
  gap:10px;
  justify-content:center;
  pointer-events:auto;
}
.btn-shoot{
  width:min(520px, 94vw);
  height: 54px;
  border-radius: 18px;
  border:1px solid rgba(34,211,238,.24);
  background: rgba(34,211,238,.12);
  color:#e9fbff;
  font-weight:1200;
  font-size:16px;
}

/* In PC: make shoot button smaller */
body.view-pc .btn-shoot{
  width: 280px;
}

/* In VR/cVR: keep shoot button, but smaller */
body.view-vr .btn-shoot,
body.view-cvr .btn-shoot{
  width: 320px;
}

/* ---------- Lowtime warning ---------- */
.gj-warning-ring{
  position:fixed; inset:0;
  z-index: 35;
  pointer-events:none;
  opacity:0;
  transition: opacity .12s ease;
  box-shadow: inset 0 0 0 0 rgba(34,211,238,.0);
  border-radius: 28px;
}
body.gj-lowtime .gj-warning-ring{
  opacity: 1;
  animation: ringPulse .9s ease-in-out infinite;
}
body.gj-lowtime5 .gj-warning-ring{
  opacity: 1;
  animation: ringPulse .55s ease-in-out infinite;
}
@keyframes ringPulse{
  0% { box-shadow: inset 0 0 0 0 rgba(34,211,238,.00); }
  50%{ box-shadow: inset 0 0 0 14px rgba(34,211,238,.18); }
  100%{ box-shadow: inset 0 0 0 0 rgba(34,211,238,.00); }
}
body.gj-tick .gj-warning-ring{
  box-shadow: inset 0 0 0 16px rgba(34,211,238,.22);
}

.gj-lowtime-overlay{
  position:fixed; inset:0;
  z-index: 140;
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(2,6,23,.30);
  opacity:0;
  pointer-events:none;
  transition: opacity .12s ease;
}
.gj-lowtime-overlay[aria-hidden="false"]{
  opacity:1;
}
.gj-lowtime-num{
  font-size: 88px;
  font-weight: 1300;
  color:#e9fbff;
  text-shadow: 0 18px 55px rgba(0,0,0,.55);
}

/* ---------- VR mini HUD ---------- */
.vr-mini-hud{
  position:fixed;
  left: 12px;
  right: 12px;
  top: calc(10px + var(--sat));
  z-index: 95;
  display:none;
  pointer-events:auto;
}
body.view-vr .vr-mini-hud,
body.view-cvr .vr-mini-hud{
  display:block;
}
.mini-row{
  display:flex;
  gap:10px;
  align-items:center;
  justify-content:space-between;
  flex-wrap:wrap;
}
.mini-pill{
  background: rgba(2,6,23,.66);
  border: 1px solid rgba(148,163,184,.18);
  border-radius: 16px;
  padding: 10px 12px;
  font-weight: 1100;
  box-shadow: 0 18px 50px rgba(0,0,0,.28);
  backdrop-filter: blur(10px);
  display:flex;
  gap:10px;
  align-items:baseline;
}
.mini-pill span{
  color:var(--muted);
  font-size:11px;
  font-weight:1100;
}
.mini-pill b{
  font-size:16px;
  font-weight:1300;
}
.mini-btn{
  border: 1px solid rgba(148,163,184,.22);
  background: rgba(2,6,23,.55);
  color: var(--text);
  border-radius: 16px;
  padding: 10px 12px;
  font-weight: 1200;
}

/* ✅ In VR/cVR: hide big HUD by default to avoid blocking view */
body.view-vr .hha-hud,
body.view-cvr .hha-hud{
  display:none;
}

/* Mobile tweaks */
@media (max-width:520px){
  .hud-stat{ width: 108px; }
  .hud-badge{ max-width: 100%; }
  .hud-quest{ width: min(520px, 94vw); }
}