/* === /herohealth/vr-goodjunk/goodjunk-vr.css ===
GoodJunkVR CSS — PRODUCTION (PC/Mobile/VR/cVR) + HUD-safe + target FX helpers
FULL v20260225p3-CSS-PRO + PATCH A+B (bigger targets for VR/cVR adaptive) + SAFE cVR strict
*/

:root{
  --bg:#050814;
  --fg: rgba(229,231,235,.95);
  --mut: rgba(148,163,184,.92);

  --panel: rgba(2,6,23,.68);
  --panel2: rgba(2,6,23,.55);
  --line: rgba(148,163,184,.18);

  --pri: rgba(99,102,241,.95);
  --warn: rgba(251,191,36,.96);
  --bad: rgba(244,63,94,.92);
  --ok: rgba(34,197,94,.92);

  --r: 14px;

  /* target sizing (base) */
  --tSize: 56px;
  --tShadow: 0 18px 45px rgba(0,0,0,.42);

  /* layer pads (fallback when spawn-safe not injected) */
  --safeTop: calc(env(safe-area-inset-top, 0px) + 128px);
  --safeBot: calc(env(safe-area-inset-bottom, 0px) + 120px);
  --safeSide: calc(env(safe-area-inset-left, 0px) + 18px);
}

html,body{
  height:100%;
  margin:0;
  background: var(--bg);
  color: var(--fg);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial;
}

body{
  overflow:hidden;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
}

/* --- stage/layers --- */
.gj-stage{
  position:relative;
  width:100%;
  height:100%;
}

#gj-layer, #gj-layer-r{
  position:absolute;
  inset:0;
  overflow:hidden;
  touch-action: manipulation;
}

/* --- targets --- */
.gj-target{
  position:absolute;
  left:50%;
  top:50%;
  transform: translate(-50%,-50%);
  font-size: var(--tSize);
  line-height: 1;
  user-select:none;
  -webkit-user-select:none;
  pointer-events:auto;
  filter: drop-shadow(var(--tShadow));
  will-change: transform, opacity, left, top;
}

/* hover feedback (PC) */
@media (hover:hover){
  .gj-target:hover{
    transform: translate(-50%,-50%) scale(1.06);
    filter: drop-shadow(0 22px 55px rgba(0,0,0,.55));
  }
}

/* tap feedback */
.gj-target:active{
  transform: translate(-50%,-50%) scale(0.96);
}

/* --- end overlay buttons feel --- */
.btn{
  transition: filter .12s ease, transform .12s ease;
}

.btn:active{
  transform: translateY(1px);
}

/* --- reduced motion --- */
@media (prefers-reduced-motion: reduce){
  *{ transition:none !important; animation:none !important; }
}

/* --- compact mobile tuning --- */
@media (max-width: 520px){
  :root{
    --tSize: 52px; /* base mobile */
    --safeTop: calc(env(safe-area-inset-top, 0px) + 140px);
    --safeBot: calc(env(safe-area-inset-bottom, 0px) + 130px);
  }
}

/* ===== helper: debug readable on bright bg ===== */
#gjDebug{
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* ============================================================
   PATCH A+B: Adaptive bigger targets for VR/cVR (PC/Mobile unchanged)
   Requires: goodjunk-vr.html sets: document.body.dataset.view = qs('view')
   ============================================================ */

/* Only scale in vr/cvr */
body[data-view="vr"]{
  --tSize: clamp(64px, 7.2vw, 86px);
}
body[data-view="cvr"]{
  --tSize: clamp(70px, 8.0vw, 94px);
}

/* Small phones: extra help */
@media (max-width: 520px){
  body[data-view="vr"]{
    --tSize: clamp(66px, 9.0vw, 92px);
  }
  body[data-view="cvr"]{
    --tSize: clamp(74px, 9.8vw, 100px);
  }
}

/* ============================================================
   SAFE cVR STRICT (OPTIONAL)
   อย่า block pointer-events ใน cVR ปกติ เพราะเกมใช้ pointerdown บน target
   ถ้าต้องการ “ยิงอย่างเดียว” ให้เติม class strict: body.classList.add('strict')
   ============================================================ */
body[data-view="cvr"].strict .gj-target{
  pointer-events:none !important;
}