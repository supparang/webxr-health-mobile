/* === /herohealth/vr-goodjunk/goodjunk-vr.css === */
/* ... (ของเดิมคุณคงมีอยู่แล้ว) ... */

/* ---------------- Boss / Storm / Rage visuals ---------------- */
:root{
  --gj-danger: rgba(239,68,68,.90);
  --gj-warn: rgba(245,158,11,.90);
  --gj-good: rgba(34,197,94,.90);
  --gj-cyan: rgba(34,211,238,.90);
}

.gj-bossbar{
  position: fixed;
  left: 50%;
  top: calc(10px + var(--sat));
  transform: translateX(-50%);
  width: min(720px, 92vw);
  z-index: 200;
  pointer-events: none;
  opacity: 0;
  transition: opacity 180ms ease, transform 180ms ease;
}
body.gj-boss .gj-bossbar{
  opacity: 1;
  transform: translateX(-50%) translateY(0);
}
.gj-bossbar .card{
  background: rgba(2,6,23,.72);
  border: 1px solid rgba(148,163,184,.22);
  border-radius: 18px;
  padding: 10px 12px;
  backdrop-filter: blur(12px);
  box-shadow: 0 18px 55px rgba(0,0,0,.45);
}
.gj-bossbar .row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}
.gj-bossbar .title{
  font-weight: 1200;
  letter-spacing:.2px;
  color:#e5e7eb;
}
.gj-bossbar .phase{
  font-weight: 1100;
  color:#94a3b8;
  font-size: 12px;
}
.gj-bossbar .hp{
  font-weight: 1200;
  color:#e5e7eb;
}
.gj-bossbar .bar{
  margin-top: 8px;
  height: 10px;
  border-radius: 999px;
  background: rgba(15,23,42,.55);
  border: 1px solid rgba(148,163,184,.18);
  overflow:hidden;
}
.gj-bossbar .fill{
  height:100%;
  width:0%;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(239,68,68,.95), rgba(245,158,11,.85));
  box-shadow: 0 0 22px rgba(239,68,68,.25);
  transition: width 160ms ease;
}

/* STORM overlay */
.gj-stormveil{
  position: fixed;
  inset:0;
  z-index: 120;
  pointer-events:none;
  opacity:0;
  transition: opacity 220ms ease;
}
body.gj-storm .gj-stormveil{ opacity: 1; }
.gj-stormveil:before{
  content:"";
  position:absolute; inset:0;
  background:
    radial-gradient(circle at 30% 20%, rgba(34,211,238,.10), transparent 55%),
    radial-gradient(circle at 70% 65%, rgba(148,163,184,.12), transparent 60%),
    linear-gradient(180deg, rgba(2,6,23,.10), rgba(2,6,23,.22));
  backdrop-filter: blur(0.5px);
}
body.gj-storm .gj-layer{
  animation: gjStormShake 900ms ease-in-out infinite;
}
@keyframes gjStormShake{
  0%{ transform: translate3d(0,0,0); }
  30%{ transform: translate3d(0.6px,-0.4px,0); }
  60%{ transform: translate3d(-0.6px,0.4px,0); }
  100%{ transform: translate3d(0,0,0); }
}

/* RAGE: more pressure */
body.gj-rage .gj-bossbar .fill{
  background: linear-gradient(90deg, rgba(239,68,68,.98), rgba(239,68,68,.70));
  box-shadow: 0 0 26px rgba(239,68,68,.30);
}
body.gj-rage{
  animation: gjRagePulse 1.2s ease-in-out infinite;
}
@keyframes gjRagePulse{
  0%,100%{ filter: none; }
  50%{ filter: saturate(1.06) contrast(1.03); }
}

/* decoy hint style */
.gj-target[data-decoy="1"]{
  filter: drop-shadow(0 0 12px rgba(168,85,247,.20));
  transform: translate(-50%,-50%) scale(1.02);
}

/* phase flash helper (safe.js toggles body class briefly) */
body.gj-phase-flash{
  animation: gjFlash 220ms ease;
}
@keyframes gjFlash{
  0%{ filter: brightness(1.0); }
  40%{ filter: brightness(1.12) contrast(1.05); }
  100%{ filter: brightness(1.0); }
}