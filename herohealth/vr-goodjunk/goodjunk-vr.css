/* === /herohealth/vr-goodjunk/goodjunk-vr.css ===
GoodJunkVR (ULTRA) — HHA Standard + Storm/Boss/Rage
✅ view: pc/mobile/vr/cvr (body.view-*)
✅ safe vars: --gj-top-safe / --gj-bottom-safe
✅ targets: .gj-target (pos fixed within playfield)
✅ modes: body.gj-storm, body.gj-boss, body.gj-rage
*/

:root{
  color-scheme: dark;

  --bg:#020617;
  --panel:rgba(2,6,23,.78);
  --panel2:rgba(15,23,42,.66);
  --stroke:rgba(148,163,184,.20);
  --text:#e5e7eb;
  --muted:#94a3b8;
  --accent:#22c55e;
  --warn:#f59e0b;
  --bad:#ef4444;
  --cyan:#22d3ee;
  --violet:#a78bfa;

  --radius:22px;
  --pill:999px;

  --sat: env(safe-area-inset-top, 0px);
  --sab: env(safe-area-inset-bottom, 0px);

  /* set by boot safe-measure */
  --gj-top-safe: 140px;
  --gj-bottom-safe: 120px;
}

*{ box-sizing:border-box; }
html, body{
  margin:0; padding:0;
  width:100%; height:100%;
  overflow:hidden;
  background: radial-gradient(circle at 20% 10%, rgba(34,211,238,.12), transparent 55%),
              radial-gradient(circle at 80% 85%, rgba(167,139,250,.10), transparent 55%),
              var(--bg);
  color: var(--text);
  font-family: system-ui, -apple-system, "Segoe UI", "Noto Sans Thai", sans-serif;
}

/* base */
body.gj{ position:relative; }
body.hud-hidden #hud,
body.hud-hidden .gj-hud-top,
body.hud-hidden .gj-hud-bot{ opacity:.12; filter: blur(.2px); }

/* ---------- TOPBAR minimal (if exists) ---------- */
.gj-topbar{
  position:fixed; left:10px; right:10px;
  top: calc(10px + var(--sat));
  z-index:110;
  display:flex; gap:10px; align-items:center; justify-content:space-between;
  pointer-events:none;
}
.gj-topbar .left,.gj-topbar .right{ display:flex; gap:10px; align-items:center; }
.gj-chip, .gj-btn{
  pointer-events:auto;
  border:1px solid rgba(148,163,184,.18);
  background: rgba(2,6,23,.62);
  color:#e5e7eb;
  border-radius:999px;
  padding:9px 12px;
  font: 900 12px/1 system-ui;
  backdrop-filter: blur(6px);
}
.gj-btn{ cursor:pointer; }
.gj-btn.primary{
  border-color: rgba(34,197,94,.30);
  background: rgba(34,197,94,.12);
}

/* ---------- PLAYFIELD ---------- */
#gj-stage,
.gj-field{
  position:fixed;
  inset:0;
  z-index:10;
  overflow:hidden;
}

/* for split eyes page style */
#gj-stage .gj-eye{
  position:absolute; inset:0;
  overflow:hidden;
}
#gj-stage .gj-layer,
.gj-layer{
  position:absolute; inset:0;
}
#gj-stage .gj-crosshair{
  position:absolute; left:50%; top:50%;
  width:18px; height:18px;
  transform:translate(-50%,-50%);
  border-radius:999px;
  border:2px solid rgba(255,255,255,.65);
  box-shadow: 0 0 0 6px rgba(34,211,238,.10);
  opacity:.88;
  pointer-events:none;
}

/* ---------- TARGETS ---------- */
.gj-target{
  position:absolute;
  transform: translate(-50%,-50%);
  will-change: transform, opacity, filter;
  user-select:none;
  touch-action: none;
  cursor:pointer;
  filter: drop-shadow(0 16px 26px rgba(0,0,0,.35));
  opacity: .98;
  transition: filter 140ms ease;
  z-index: 20;
}

.gj-target.spawn{
  animation: gjSpawn 180ms ease-out;
}
@keyframes gjSpawn{
  0%{ transform: translate(-50%,-50%) scale(.72); opacity:.0; }
  100%{ transform: translate(-50%,-50%) scale(1); opacity:.98; }
}
.gj-target.gone{
  animation: gjGone 140ms ease-in forwards;
}
@keyframes gjGone{
  0%{ transform: translate(-50%,-50%) scale(1); opacity:1; }
  100%{ transform: translate(-50%,-50%) scale(.55); opacity:0; }
}

/* hover-ish punch for desktop */
@media (hover:hover){
  .gj-target:hover{ filter: drop-shadow(0 20px 34px rgba(0,0,0,.42)) brightness(1.06); }
}

/* kind vibes */
.gj-target[data-kind="junk"]{ filter: drop-shadow(0 18px 28px rgba(239,68,68,.20)); }
.gj-target[data-kind="star"]{ filter: drop-shadow(0 18px 30px rgba(250,204,21,.20)); }
.gj-target[data-kind="shield"]{ filter: drop-shadow(0 18px 30px rgba(56,189,248,.22)); }
.gj-target[data-kind="diamond"]{ filter: drop-shadow(0 18px 30px rgba(167,139,250,.24)); }
.gj-target[data-kind="boss"]{
  filter: drop-shadow(0 22px 40px rgba(239,68,68,.35));
  animation: gjBossFloat 780ms ease-in-out infinite;
}
@keyframes gjBossFloat{
  0%{ transform: translate(-50%,-50%) scale(1) rotate(-2deg); }
  50%{ transform: translate(-50%,-52%) scale(1.06) rotate(2deg); }
  100%{ transform: translate(-50%,-50%) scale(1) rotate(-2deg); }
}

/* ---------- MODE OVERLAYS ---------- */
body::before{
  content:"";
  position:fixed; inset:0;
  pointer-events:none;
  z-index:5;
  opacity:.0;
  transition: opacity 220ms ease;
}

/* STORM = cyan pulse + subtle scan */
body.gj-storm::before{
  opacity:1;
  background:
    radial-gradient(circle at 50% 35%, rgba(34,211,238,.14), transparent 58%),
    radial-gradient(circle at 50% 100%, rgba(34,197,94,.08), transparent 60%);
  animation: gjStormPulse 980ms ease-in-out infinite;
}
@keyframes gjStormPulse{
  0%{ filter: brightness(1); }
  50%{ filter: brightness(1.08) saturate(1.08); }
  100%{ filter: brightness(1); }
}

/* BOSS = red vignette pressure */
body.gj-boss::before{
  opacity:1;
  background: radial-gradient(circle at 50% 50%,
    rgba(0,0,0,0) 42%,
    rgba(239,68,68,.14) 72%,
    rgba(239,68,68,.22) 100%);
}

/* RAGE = heavier shake + stronger red */
body.gj-rage{
  animation: gjRageShake 1.25s ease-in-out infinite;
}
@keyframes gjRageShake{
  0%,100%{ transform: translate3d(0,0,0); }
  50%{ transform: translate3d(.8px,-.8px,0); }
}
body.gj-rage::before{
  opacity:1;
  background: radial-gradient(circle at 50% 45%,
    rgba(0,0,0,0) 38%,
    rgba(239,68,68,.20) 72%,
    rgba(239,68,68,.30) 100%);
}

/* ---------- LOWTIME overlay (if your HTML uses it) ---------- */
.gj-lowtime-overlay{
  position:fixed; inset:0;
  display:flex; align-items:center; justify-content:center;
  z-index:160;
  pointer-events:none;
  opacity:0;
  transition: opacity 180ms ease;
}
body.gj-lowtime5 .gj-lowtime-overlay{ opacity:1; }

.gj-lowtime-ring{
  position:absolute;
  width:min(520px,86vw);
  height:min(520px,86vw);
  border-radius:999px;
  border:2px solid rgba(250,204,21,.35);
  box-shadow: 0 0 0 10px rgba(250,204,21,.08);
  animation: gjRing 860ms ease-in-out infinite;
}
@keyframes gjRing{
  0%{ transform:scale(.98); opacity:.55; }
  50%{ transform:scale(1.02); opacity:.88; }
  100%{ transform:scale(.98); opacity:.55; }
}
.gj-lowtime-num{
  font: 1400 88px/1 system-ui;
  color:#fff;
  text-shadow: 0 18px 40px rgba(0,0,0,.55);
}

/* ---------- micro pulses used by JS ---------- */
body.gj-junk-hit{ animation: gjHitBad 220ms ease; }
@keyframes gjHitBad{
  0%{ filter:none; }
  40%{ filter: brightness(1.06) saturate(1.1); }
  100%{ filter:none; }
}
body.gj-boss-hit{ animation: gjBossHit 260ms ease; }
@keyframes gjBossHit{
  0%{ filter:none; }
  35%{ filter: brightness(1.12) contrast(1.06); }
  100%{ filter:none; }
}
body.gj-good-expire{ animation: gjExpire 160ms ease; }
@keyframes gjExpire{
  0%{ filter:none; }
  40%{ filter: brightness(1.06); }
  100%{ filter:none; }
}
body.gj-miss-shot{ animation: gjMissShot 120ms ease; }
@keyframes gjMissShot{
  0%{ filter:none; }
  45%{ filter: brightness(1.05); }
  100%{ filter:none; }
}

/* ---------- VR/cVR layout safety ---------- */
body.view-cvr .gj-target,
body.view-vr .gj-target{
  /* tap-to-shoot mode: targets may be non-interactive depending on vr-ui strict settings,
     but keeping cursor disabled won't hurt */
}

/* if you want strict cVR: uncomment
body.view-cvr .gj-target{ pointer-events:none; }
*/