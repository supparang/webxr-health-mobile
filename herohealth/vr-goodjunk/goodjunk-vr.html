<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>HeroHealth тАФ GoodJunkVR</title>
  <meta name="color-scheme" content="dark" />
  <link rel="icon" href="../favicon.ico" />

  <link rel="stylesheet" href="./goodjunk-vr.css" />

  <!-- (Optional) A-Frame: р╕Цр╣Йр╕▓р╕Др╕╕р╕Ур╕нр╕вр╕▓р╕Бр╣Гр╕лр╣Йр╕Ыр╕╕р╣Ир╕б ENTER VR р╕бр╕╡р╕Др╕зр╕▓р╕бр╣Ар╕кр╕Цр╕╡р╕вр╕гр╣Бр╕Ър╕Ъ WebXR -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  <!-- Global modules (р╕нр╕вр╕╣р╣Ир╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣Мр╣Ар╕Фр╕╡р╕вр╕зр╕Бр╕▒р╕Щр╕Чр╕▒р╣Йр╕Зр╕лр╕бр╕Ф) -->
  <script defer src="./particles.js"></script>
  <script defer src="./hha-cloud-logger.js"></script>
  <script defer src="./vr-ui.js"></script>

  <!-- Boot (imports safe.js) -->
  <script type="module" defer src="./goodjunk-vr.boot.js"></script>
</head>

<body class="gj view-mobile compact-ui">
  <!-- A-Frame scene (behind UI) -->
  <a-scene embedded vr-mode-ui="enabled:false" style="position:fixed;inset:0;z-index:0;background:transparent;">
    <a-entity camera look-controls="enabled:true" position="0 1.6 0"></a-entity>
  </a-scene>

  <!-- Playfield layers -->
  <div class="gj-field" id="gj-field">
    <div id="gj-layer" class="gj-layer"></div>
    <div id="gj-layer-r" class="gj-layer gj-layer-r" aria-hidden="true"></div>
  </div>

  <!-- TOPBAR (р╕Ыр╕╕р╣Ир╕бр╕Др╕зр╕Ър╕Др╕╕р╕б) -->
  <header class="gj-topbar">
    <div class="left">
      <div class="gj-chip"><b>GoodJunkVR</b> ┬╖ <span id="gjChipMeta">view=auto ┬╖ run=play</span></div>
    </div>
    <div class="right">
      <button class="gj-btn" id="btnMissions" type="button">Missions</button>
      <button class="gj-btn" id="btnHideHud" type="button">Hide HUD</button>
      <button class="gj-btn primary" id="btnBackHub" type="button">тЖй р╕Бр╕ер╕▒р╕Ъ HUB</button>
    </div>
  </header>

  <!-- HUD (Compact: р╣Ар╕лр╕ер╕╖р╕нр╕Вр╕нр╕Зр╕кр╕│р╕Др╕▒р╕Нр╕Ир╕гр╕┤р╕З р╣Ж) -->
  <section class="gj-hud-top">
    <div class="hud-row">
      <div class="hud-pill"><div class="hud-label">SCORE</div><div class="hud-value" id="hud-score">0</div></div>
      <div class="hud-pill"><div class="hud-label">TIME</div><div class="hud-value"><span id="hud-time">0</span>s</div></div>
      <div class="hud-pill warn"><div class="hud-label">MISS</div><div class="hud-value" id="hud-miss">0</div></div>
      <div class="hud-pill grade"><div class="hud-label">GRADE</div><div class="hud-value" id="hud-grade">тАФ</div></div>
    </div>

    <!-- (р╕вр╕▒р╕Зр╕Др╕З IDs р╣Гр╕лр╣Й safe.js р╕Др╕гр╕Ъ) -->
    <div class="quest-row">
      <div class="quest-card">
        <div class="q-title">GOAL: <span id="hud-goal">тАФ</span></div>
        <div class="q-desc" id="goalDesc">тАФ</div>
        <div class="q-bar">
          <div class="q-num"><span id="hud-goal-cur">0</span>/<span id="hud-goal-target">0</span></div>
          <div class="q-hint">р╕Чр╕│р╣Гр╕лр╣Йр╕Др╕гр╕Ър╣Бр╕ер╣Йр╕зр╣Др╕Ы GOAL р╕Хр╣Ир╕н</div>
        </div>
      </div>

      <div class="quest-card mini">
        <div class="q-title">MINI</div>
        <div class="q-desc" id="hud-mini">тАФ</div>
        <div class="q-bar">
          <div class="q-num">тП▒ <span id="miniTimer">тАФ</span></div>
          <div class="q-hint">р╣Ар╕Фр╣Зр╕Б р╕Ы.5: р╕Ьр╣Ир╕▓р╕Щр╣Бр╕ер╣Йр╕зр╕кр╕ер╕▒р╕Ър╕Чр╕▒р╕Щр╕Чр╕╡</div>
        </div>
      </div>
    </div>
  </section>

  <section class="gj-hud-bot">
    <div class="meter">
      <div class="meter-title">FEVER</div>
      <div class="meter-bar"><div class="meter-fill" id="feverFill" style="width:0%"></div></div>
      <div class="meter-num" id="feverText">0%</div>
      <div class="meter-tip">р╕вр╕┤р╣Ир╕Зр╕кр╕╣р╕Зр╕вр╕┤р╣Ир╕Зр╣Ар╕кр╕╡р╣Ир╕вр╕З</div>
    </div>

    <div class="meter shield">
      <div class="meter-title">SHIELD</div>
      <div class="meter-shield"><span id="shieldPills">тАФ</span></div>
      <div class="meter-tip">ЁЯЫбя╕П р╕Ър╕ер╣Зр╕нр╕Др╕Вр╕вр╕░ = р╣Др╕бр╣Ир╣Ар╕Ыр╣Зр╕Щ MISS</div>
    </div>
  </section>

  <!-- Low time overlay -->
  <div id="lowTimeOverlay" class="gj-lowtime-overlay" aria-hidden="true">
    <div class="gj-lowtime-ring"></div>
    <div class="gj-lowtime-num" id="gj-lowtime-num">5</div>
  </div>

  <!-- Missions overlay -->
  <div class="gj-peek" id="missionsPeek" aria-hidden="true">
    <div class="peek-card">
      <div class="peek-title">Missions</div>
      <div class="peek-sub"><b>GOAL</b>: <span id="peekGoal">тАФ</span></div>
      <div class="peek-mini"><b>MINI</b>: <span id="peekMini">тАФ</span></div>
      <div class="peek-tip">р╕Чр╕гр╕┤р╕Д: р╕нр╕вр╣Ир╕▓р╣Бр╕Хр╕░ ЁЯНЯ/ЁЯНФ р╕Вр╕вр╕░ ┬╖ тнР р╕ер╕Ф MISS ┬╖ ЁЯЫбя╕П р╕Бр╕▒р╕Щр╕Вр╕вр╕░р╣Др╕Фр╣Й ┬╖ р╕Цр╣Йр╕▓р╕Ър╕нр╕кр╕бр╕▓р╣Гр╕лр╣Йр╕вр╕┤р╕З ЁЯжа</div>

      <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap;">
        <button class="gj-btn primary" id="btnCloseMissions" type="button" style="height:46px;">р╕Ыр╕┤р╕Ф</button>
      </div>
    </div>
  </div>
</body>
</html>