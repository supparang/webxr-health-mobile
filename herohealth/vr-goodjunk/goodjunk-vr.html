<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>HeroHealth ‚Äî GoodJunk VR</title>
  <meta name="color-scheme" content="dark" />
  <link rel="icon" href="./favicon.ico" type="image/x-icon" />

  <!-- A-Frame: ‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ Enter VR ‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£ -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  <!-- Global FX + Logger (optional but recommended) -->
  <script src="./vr/particles.js" defer></script>
  <script src="./vr/hha-cloud-logger.js" defer></script>

  <!-- GoodJunk UI -->
  <link rel="stylesheet" href="./vr-goodjunk/goodjunk-vr.css" />

  <!-- Boot (start-gated) -->
  <script type="module" src="./vr-goodjunk/goodjunk-vr.boot.js"></script>
</head>

<body class="view-mobile">
  <!-- Minimal A-Frame scene so Enter VR works reliably -->
  <a-scene embedded renderer="antialias: true; alpha: true" vr-mode-ui="enabled: true" style="position:fixed; inset:0; z-index:0; pointer-events:none;">
    <a-entity camera look-controls wasd-controls="enabled:false"></a-entity>
  </a-scene>

  <!-- VR MINI HUD (for vr/cvr) -->
  <div class="vr-mini-hud" aria-hidden="false">
    <div class="mini-row">
      <div class="mini-pill"><span>Score</span> <b id="hud-score">0</b></div>
      <div class="mini-pill"><span>Time</span> <b id="hud-time">0</b></div>
      <div class="mini-pill"><span>Grade</span> <b id="hud-grade">‚Äî</b></div>
      <button class="mini-btn" id="btn-peek" type="button">Missions</button>
    </div>
  </div>

  <!-- Full HUD (pc/mobile) -->
  <div class="hha-hud">
    <div class="hud-top">
      <div class="hud-badge">
        <div class="hud-title">ü•¶ Good vs Junk</div>
        <div class="hud-sub">‡∏¢‡∏¥‡∏á ‚Äú‡∏Ç‡∏≠‡∏á‡∏î‡∏µ‚Äù ‚Ä¢ ‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á ‚Äú‡∏Ç‡∏¢‡∏∞‚Äù ‚Ä¢ ‡πÄ‡∏Å‡πá‡∏ö‡∏î‡∏≤‡∏ß/‡πÇ‡∏•‡πà</div>

        <div class="viewbar">
          <button class="pill ghost" type="button" id="btn-hud-hide">‡∏ã‡πà‡∏≠‡∏ô HUD</button>
          <button class="pill ghost" type="button" id="btn-hud-show" style="display:none;">‡πÅ‡∏™‡∏î‡∏á HUD</button>
          <button class="pill ghost" type="button" id="btn-missions">Missions</button>
        </div>
      </div>

      <div class="hud-stats">
        <div class="hud-stat">
          <div class="k">Score</div>
          <div class="v" id="hud-score-dup">0</div>
        </div>
        <div class="hud-stat">
          <div class="k">Combo</div>
          <div class="v" id="hud-combo">0</div>
        </div>
        <div class="hud-stat">
          <div class="k">Miss</div>
          <div class="v" id="hud-miss">0</div>
        </div>
        <div class="hud-stat">
          <div class="k">Time</div>
          <div class="v" id="hud-time-dup">0</div>
        </div>
      </div>
    </div>

    <div class="hud-mid">
      <div class="hud-quest">
        <div class="q-row">
          <div class="q-title">üéØ <span id="hud-goal">‚Äî</span></div>
          <div class="q-count"><span id="hud-goal-cur">0</span>/<span id="hud-goal-target">0</span></div>
        </div>
        <div class="q-progress">Mini: <span class="q-title mini" id="hud-mini">‚Äî</span></div>
      </div>

      <div class="hud-coach">
        <img class="coach-img" alt="coach" src="./img/coach-neutral.png" />
        <div>
          <div class="coach-line" id="coach-line">‡πÇ‡∏ü‡∏Å‡∏±‡∏™ ‚Äú‡∏Ç‡∏≠‡∏á‡∏î‡∏µ‚Äù ‡∏ô‡∏∞!</div>
          <div class="coach-sub" id="coach-sub">‡∏¢‡∏¥‡∏á‡πÉ‡∏´‡πâ‡πÑ‡∏ß ‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏û‡∏•‡∏≤‡∏î‡∏Ç‡∏¢‡∏∞ üçü</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Fever/Shield placeholder (‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ) -->
  <div class="hha-fever" aria-hidden="false">
    <div class="fever-row">
      <div class="fever-label">FEVER</div>
      <div class="fever-bar"><div class="fever-fill" id="fever-fill"></div></div>
      <div class="fever-text" id="fever-text">0%</div>
    </div>
    <div class="shield-row">
      <div class="shield-label">SHIELD</div>
      <div class="shield-pills" id="shield-pills"></div>
    </div>
  </div>

  <!-- Playfield -->
  <div id="gj-stage">
    <div class="gj-eye eye-l">
      <div class="gj-layer" id="gj-layer"></div>
      <div class="gj-crosshair"></div>
    </div>
    <div class="gj-eye eye-r">
      <div class="gj-layer"></div>
      <div class="gj-crosshair"></div>
    </div>
  </div>

  <!-- Controls -->
  <div class="hha-controls">
    <button class="btn-shoot" id="btn-shoot" type="button">TAP / SHOOT</button>
  </div>

  <!-- Low-time warning -->
  <div class="gj-warning-ring" aria-hidden="true"></div>
  <div class="gj-lowtime-overlay" aria-hidden="true">
    <div class="gj-lowtime-num" id="lowtime-num">5</div>
  </div>

  <!-- Missions Peek -->
  <div class="gj-peek" id="peek" aria-hidden="true">
    <div class="peek-card">
      <div class="peek-title">üìå Missions</div>
      <div class="peek-sub"><b>Goal:</b> <span id="peek-goal">‚Äî</span> (<span id="peek-goal-cur">0</span>/<span id="peek-goal-target">0</span>)</div>
      <div class="peek-mini"><b>Mini:</b> <span id="peek-mini">‚Äî</span></div>
      <div class="peek-tip">‡πÅ‡∏ï‡∏∞‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠/‡∏õ‡∏∏‡πà‡∏° Missions ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î</div>
    </div>
  </div>

  <!-- Start overlay (start-gated) -->
  <div class="start-overlay" id="start" aria-hidden="false">
    <div class="start-card">
      <div class="start-title">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô GoodJunkVR</div>
      <div class="start-desc">
        ‡∏¢‡∏¥‡∏á ‚Äú‡∏Ç‡∏≠‡∏á‡∏î‡∏µ‚Äù ü•¶üçé ‡πÉ‡∏´‡πâ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‚Ä¢ ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á ‚Äú‡∏Ç‡∏¢‡∏∞‚Äù üçüüçî ‚Ä¢ ‡πÄ‡∏Å‡πá‡∏ö ‚≠ê ‡πÅ‡∏•‡∏∞ üõ°Ô∏è
        <div class="muted" style="margin-top:8px;">
          ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (run=research) ‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏ä‡πà‡∏ß‡∏á‡∏ù‡∏∂‡∏Å 15 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
        </div>
      </div>
      <div class="start-meta" id="start-meta">‚Äî</div>

      <button class="btn-start" id="btn-start-auto" type="button">‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏° (Auto)</button>
      <div style="display:grid; grid-template-columns:repeat(2,1fr); gap:10px; margin-top:10px;">
        <button class="btn-start" id="btn-start-mobile" type="button">üì± Mobile</button>
        <button class="btn-start" id="btn-start-pc" type="button">üñ•Ô∏è PC</button>
        <button class="btn-start" id="btn-start-vr" type="button">ü•Ω VR</button>
        <button class="btn-start" id="btn-start-cvr" type="button">üì¶ Cardboard (cVR)</button>
      </div>
    </div>
  </div>

  <!-- End summary overlay -->
  <div class="gj-peek" id="end" aria-hidden="true">
    <div class="peek-card">
      <div class="peek-title">üèÅ Summary</div>
      <div class="peek-sub" id="end-line1">‚Äî</div>
      <div class="peek-mini" id="end-line2">‚Äî</div>
      <div class="peek-tip" id="end-meta">‚Äî</div>

      <div style="display:grid; grid-template-columns:1fr 1fr; gap:10px; margin-top:14px;">
        <button class="btn-start" id="btn-replay" type="button">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
        <button class="btn-start" id="btn-backhub" type="button">‡∏Å‡∏•‡∏±‡∏ö HUB</button>
      </div>
    </div>
  </div>

  <!-- Hidden ids expected by goodjunk.safe.js (source of truth) -->
  <span id="hud-score" style="display:none;">0</span>
  <span id="hud-time" style="display:none;">0</span>
  <span id="hud-grade" style="display:none;">‚Äî</span>
</body>
</html>