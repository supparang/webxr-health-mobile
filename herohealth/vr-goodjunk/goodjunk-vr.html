<!-- === /herohealth/vr-goodjunk/goodjunk-vr.html ===
GoodJunkVR RUN ‚Äî PRODUCTION (v4.3-std compatible)
‚úÖ Patches:
  - Add id="hudMainRow" to measure safe-top correctly (no GOAL/MINI included)
‚úÖ Pairs with:
  - ./goodjunk-vr.css
  - ./goodjunk-vr.boot.js
  - ./goodjunk.safe.js (module)
  - ../vr/vr-ui.js (auto via boot when WebXR exists)
  - (optional) ../vr/ai-hooks.js , ../vr/hha-cloud-logger.js
-->
<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>HeroHealth ‚Äî GoodJunkVR</title>
  <meta name="color-scheme" content="dark light" />
  <link rel="icon" href="../favicon.ico" type="image/x-icon" />

  <link rel="stylesheet" href="./goodjunk-vr.css" />

  <!-- Optional (Classic globals): AI Hooks + Cloud Logger -->
  <script defer src="../vr/ai-hooks.js"></script>
  <script defer src="../vr/hha-cloud-logger.js"></script>
</head>

<body class="gj view-mobile" data-view="mobile">
  <!-- TOP BAR -->
  <header class="gj-topbar" aria-label="Top Bar">
    <div class="gj-brand">
      <span class="gj-badge">ü•ó</span>
      <span class="gj-title">GoodJunkVR</span>
    </div>

    <nav class="gj-top-actions" aria-label="Top Actions">
      <button class="gj-pill" type="button" id="btnMode">RESEARCH</button>
      <button class="gj-pill" type="button" id="btnMissions">MISSIONS</button>
      <button class="gj-pill" type="button" id="btnHideHud">HUD</button>
    </nav>
  </header>

  <!-- PROGRESS BAR -->
  <div class="gj-progress" aria-label="Progress">
    <div class="gj-progress-track">
      <div class="gj-progress-fill" id="gjProgressFill" style="width:0%"></div>
    </div>

    <a class="gj-hub" id="btnHub" href="#" role="button" aria-label="Back to HUB">HUB</a>
  </div>

  <!-- HUD (TOP) -->
  <section class="gj-hud-top" id="gjHudTop" aria-label="HUD">
    <!-- ‚úÖ PATCH: ‡∏ß‡∏±‡∏î‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÅ‡∏ñ‡∏ß‡∏ô‡∏µ‡πâ -->
    <div class="hud-row" id="hudMainRow" aria-label="HUD Main Row">
      <div class="hud-card">
        <div class="hud-k">SCORE</div>
        <div class="hud-v" id="hud-score">0</div>
      </div>

      <div class="hud-card">
        <div class="hud-k">TIME</div>
        <div class="hud-v" id="hud-time">0</div>
      </div>

      <div class="hud-card">
        <div class="hud-k">MISS</div>
        <div class="hud-v" id="hud-miss">0</div>
      </div>

      <div class="hud-card hud-card-mini">
        <div class="hud-k">GRADE</div>
        <div class="hud-v" id="hud-grade">‚Äî</div>
        <div class="hud-sub">SHIELD: <span id="shieldPills">‚Äî</span></div>
      </div>
    </div>

    <!-- Missions / Quests cards (‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ boot ‡πÄ‡∏≠‡∏≤‡πÑ‡∏õ‡∏Ñ‡∏¥‡∏î safe-top) -->
    <div class="quest-row" aria-label="Quests">
      <div class="quest-card" aria-label="Goal">
        <div class="q-h">GOAL: <span id="hud-goal">‚Äî</span></div>
        <div class="q-desc" id="goalDesc">‚Äî</div>
        <div class="q-meta">
          <span><span id="hud-goal-cur">0</span> / <span id="hud-goal-target">0</span></span>
          <span class="q-tag">Goal</span>
        </div>
      </div>

      <div class="quest-card" aria-label="Mini Quest">
        <div class="q-h">MINI QUEST</div>
        <div class="q-desc" id="hud-mini">‚Äî</div>
        <div class="q-meta">
          <span id="miniTimer">‚Äî</span>
          <span class="q-tag">Mini</span>
        </div>
      </div>
    </div>
  </section>

  <!-- PLAYFIELD -->
  <main class="gj-stage" aria-label="Playfield">
    <!-- low time overlay -->
    <div class="gj-lowtime" id="lowTimeOverlay" aria-hidden="true">
      <div class="gj-lowtime-box">
        <div class="gj-lowtime-title">‚è≥</div>
        <div class="gj-lowtime-num" id="gj-lowtime-num">3</div>
      </div>
    </div>

    <!-- boss bar (optional) -->
    <div class="gj-boss" id="bossBar" aria-hidden="true" aria-label="Boss Bar">
      <div class="gj-boss-top">
        <div class="gj-boss-title">BOSS</div>
        <div class="gj-boss-hint" id="bossHint"></div>
      </div>
      <div class="gj-boss-track">
        <div class="gj-boss-fill" id="bossFill" style="width:100%"></div>
      </div>
    </div>

    <!-- Layers: left eye / right eye (right only used in cVR) -->
    <div class="gj-layer-wrap" aria-label="Layers">
      <div class="gj-layer" id="gj-layer" aria-label="Layer L"></div>
      <div class="gj-layer gj-layer-r" id="gj-layer-r" aria-label="Layer R" aria-hidden="true"></div>
    </div>
  </main>

  <!-- HUD (BOTTOM) -->
  <footer class="gj-hud-bot" id="gjHudBot" aria-label="Bottom HUD">
    <div class="fever" id="feverBox" aria-label="Fever">
      <div class="fever-head">
        <div class="fever-title">FEVER</div>
        <button class="gj-pill" type="button" id="btnHideHud2">Toggle HUD</button>
      </div>
      <div class="fever-track" role="progressbar" aria-valuemin="0" aria-valuemax="100">
        <div class="fever-fill" id="feverFill" style="width:0%"></div>
      </div>
      <div class="fever-meta">
        <div class="fever-v" id="feverText">0%</div>
        <div class="fever-desc">‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏≠‡∏á‡∏î‡∏µ‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö / ‡∏≠‡∏¢‡πà‡∏≤‡πÇ‡∏î‡∏ô‡∏Ç‡∏≠‡∏á‡πÄ‡∏™‡∏µ‡∏¢</div>
      </div>
    </div>
  </footer>

  <!-- BOOT (module) -->
  <script type="module" src="./goodjunk-vr.boot.js"></script>

  <!-- small runtime helpers -->
  <script>
    // HUB button: use ?hub= if provided
    (function(){
      try{
        const q = new URL(location.href).searchParams;
        const hub = q.get('hub');
        const a = document.getElementById('btnHub');
        if(a){
          a.href = hub || '../hub.html';
        }
      }catch(_){}
    })();

    // simple HUD toggle (adds body class hud-hidden)
    (function(){
      const toggle = ()=>{
        try{ document.body.classList.toggle('hud-hidden'); }catch(_){}
      };
      const b1 = document.getElementById('btnHideHud');
      const b2 = document.getElementById('btnHideHud2');
      if(b1) b1.addEventListener('click', toggle, {passive:true});
      if(b2) b2.addEventListener('click', toggle, {passive:true});
    })();
  </script>
</body>
</html>