<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>HeroHealth ‚Äî BrushVR Launcher</title>
  <meta name="color-scheme" content="dark" />
  <link rel="icon" href="./favicon.ico" />
  <style>
    :root{ --bg:#020617; --panel:rgba(2,6,23,.72); --stroke:rgba(148,163,184,.18); --text:#e5e7eb; --muted:#94a3b8; }
    html,body{height:100%}
    body{margin:0;background:radial-gradient(900px 520px at 20% 15%, rgba(34,211,238,.12), transparent 60%),linear-gradient(180deg,#020617,#0b1226);color:var(--text);font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Noto Sans Thai",Arial;display:grid;place-items:center}
    .card{width:min(720px,92vw);border:1px solid var(--stroke);background:var(--panel);border-radius:22px;box-shadow:0 18px 60px rgba(0,0,0,.45);padding:18px}
    .t{font-weight:900;font-size:18px}
    .s{margin-top:6px;color:var(--muted);font-size:13px;line-height:1.5}
    .mono{margin-top:10px;font-family:ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono";font-size:12px;color:rgba(229,231,235,.8);white-space:pre-wrap;word-break:break-word}
  </style>
</head>
<body>
  <div class="card">
    <div class="t">ü¶∑ BrushVR ‚Äî Launcher</div>
    <div class="s">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏≤‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏Å‡∏°‚Ä¶ (‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏¥‡∏°‡∏Ñ‡∏£‡∏ö ‡πÅ‡∏•‡∏∞‡πÄ‡∏ï‡∏¥‡∏° hub ‡πÉ‡∏´‡πâ‡πÄ‡∏™‡∏°‡∏≠)</div>
    <div class="mono" id="dbg"></div>
  </div>

<script>
(function(){
  'use strict';

  function getQS(){ try{ return new URL(location.href).searchParams; }catch{ return new URLSearchParams(); } }
  const cur = getQS();

  function detectView(){
    const v = (cur.get('view')||'').toLowerCase();
    if(v) return v; // ‚úÖ ‡πÑ‡∏°‡πà override
    const ua = navigator.userAgent||'';
    const isMobile = /Android|iPhone|iPad|iPod/i.test(ua) || (Math.min(screen.width, screen.height) <= 480);
    return isMobile ? 'mobile' : 'pc';
  }

  // build run url
  const run = new URL('./vr-brush/brush.html', location.href);

  // pass-through all params
  for(const [k,v] of cur.entries()){
    run.searchParams.set(k, v);
  }

  // ensure view (only if missing)
  if(!cur.has('view')) run.searchParams.set('view', detectView());

  // ensure hub (if missing)
  if(!cur.has('hub')){
    const hubGuess = new URL('./hub.html', location.href).toString();
    run.searchParams.set('hub', hubGuess);
  }

  // default time if missing (optional)
  if(!cur.has('time')) run.searchParams.set('time', '90');

  // debug
  const dbg = document.getElementById('dbg');
  if(dbg) dbg.textContent = '‚Üí ' + run.toString();

  // go
  location.replace(run.toString());
})();
</script>
</body>
</html>