<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>HeroHealth ‚Äî BrushVR (Launcher)</title>
  <meta name="color-scheme" content="dark light"/>
  <link rel="icon" href="./favicon.ico"/>
  <style>
    html,body{height:100%;margin:0;font-family:system-ui,-apple-system,"Noto Sans Thai",Segoe UI,Roboto,sans-serif;background:#020617;color:#e5e7eb}
    .wrap{height:100%;display:grid;place-items:center;padding:18px}
    .card{width:min(560px,92vw);border:1px solid rgba(148,163,184,.18);border-radius:22px;background:rgba(2,6,23,.75);padding:14px}
    .t{font-weight:1000;font-size:18px}
    .s{margin-top:6px;color:rgba(148,163,184,1);font-weight:900;font-size:13px;line-height:1.45}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="t">ü¶∑ Launching BrushVR‚Ä¶</div>
      <div class="s">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏û‡∏≤‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏° (vr-brush/brush.html)</div>
    </div>
  </div>

<script>
(function(){
  'use strict';

  function pageUrl(){ return location.href.split('#')[0]; }
  function qs(){ try{ return new URL(pageUrl()).searchParams; }catch{ return new URLSearchParams(); } }

  const cur = qs();
  const run = new URL('./vr-brush/brush.html', location.href);

  // pass-through all params (except hub: we will ensure it exists)
  for (const [k,v] of cur.entries()){
    if(k === 'hub') continue;
    run.searchParams.set(k, v);
  }

  // ensure hub points back to root hub (or keep provided hub)
  const hub = cur.get('hub') || './hub.html';
  run.searchParams.set('hub', new URL(hub, location.href).toString());

  // default view if missing
  if(!run.searchParams.get('view')){
    const ua = navigator.userAgent || '';
    const isMobile = /Android|iPhone|iPad|iPod/i.test(ua) || (window.matchMedia && window.matchMedia('(pointer:coarse)').matches);
    run.searchParams.set('view', isMobile ? 'mobile' : 'pc');
  }

  location.replace(run.toString());
})();
</script>
</body>
</html>