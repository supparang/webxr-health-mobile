<!-- === /herohealth/goodjunk-vr-launcher.html ===
GoodJunkVR Launcher ‚Äî PC / Mobile / Cardboard (cVR)
‚úÖ Remembers last view
‚úÖ Pass-through all query params to goodjunk-vr.html
‚úÖ Optional HUB button if hub=... exists
-->
<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>HeroHealth ‚Äî GoodJunkVR Launcher</title>
  <meta name="color-scheme" content="dark" />
  <link rel="icon" href="./favicon.ico" type="image/x-icon" />

  <style>
    :root{
      color-scheme: dark;
      --bg:#020617;
      --panel:rgba(2,6,23,.80);
      --panel2:rgba(15,23,42,.68);
      --stroke:rgba(148,163,184,.18);
      --text:#e5e7eb;
      --muted:#94a3b8;
      --accent:#22c55e;
      --warn:#f59e0b;
      --radius:22px;
      --pill:999px;
      --sat: env(safe-area-inset-top, 0px);
      --sab: env(safe-area-inset-bottom, 0px);
      --sal: env(safe-area-inset-left, 0px);
      --sar: env(safe-area-inset-right, 0px);
    }
    *{ box-sizing:border-box; }
    html,body{ margin:0; height:100%; background:var(--bg); color:var(--text); font-family:system-ui,-apple-system,"Noto Sans Thai",Segoe UI,sans-serif; }
    .wrap{
      min-height:100%;
      display:flex;
      align-items:center;
      justify-content:center;
      padding: calc(16px + var(--sat)) calc(16px + var(--sar)) calc(16px + var(--sab)) calc(16px + var(--sal));
      background:
        radial-gradient(circle at 20% 10%, rgba(34,211,238,.09), transparent 60%),
        radial-gradient(circle at 85% 85%, rgba(34,197,94,.08), transparent 55%),
        radial-gradient(circle at 50% 55%, rgba(168,85,247,.06), transparent 55%),
        #020617;
    }
    .card{
      width:min(760px, 94vw);
      background:var(--panel);
      border:1px solid var(--stroke);
      border-radius:28px;
      padding:16px;
      box-shadow: 0 22px 70px rgba(0,0,0,.55);
      backdrop-filter: blur(10px);
    }
    .head{ display:flex; gap:12px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
    .title{ font-weight:1100; font-size:22px; letter-spacing:.2px; }
    .sub{ margin-top:4px; color:var(--muted); font-weight:850; font-size:12px; }
    .meta{
      margin-top:10px;
      background:var(--panel2);
      border:1px solid var(--stroke);
      border-radius:18px;
      padding:10px 12px;
      color:rgba(229,231,235,.92);
      font-weight:900;
      font-size:12px;
      line-height:1.35;
      word-break:break-word;
    }
    .grid{
      margin-top:12px;
      display:grid;
      grid-template-columns: repeat(3, minmax(0, 1fr));
      gap:10px;
    }
    .btn{
      width:100%;
      height:72px;
      border-radius:22px;
      border:1px solid rgba(148,163,184,.20);
      background: rgba(2,6,23,.55);
      color:var(--text);
      cursor:pointer;
      text-align:left;
      padding:12px 14px;
      box-shadow: 0 18px 50px rgba(0,0,0,.35);
    }
    .btn:active{ transform: translateY(1px); }
    .btn .k{ font-weight:1100; font-size:15px; }
    .btn .d{ margin-top:4px; color:var(--muted); font-weight:850; font-size:12px; }
    .btn.primary{ border-color: rgba(34,197,94,.35); background: rgba(34,197,94,.14); }
    .btn.warn{ border-color: rgba(245,158,11,.35); background: rgba(245,158,11,.12); }

    .row{
      margin-top:12px;
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      align-items:center;
      justify-content:space-between;
    }
    .pill{
      border-radius: var(--pill);
      border:1px solid rgba(148,163,184,.20);
      background: rgba(15,23,42,.55);
      color:rgba(229,231,235,.92);
      height:36px;
      padding:0 12px;
      font-weight:950;
      cursor:pointer;
    }
    .hint{ color:var(--muted); font-weight:850; font-size:12px; }

    @media (max-width:720px){
      .grid{ grid-template-columns: 1fr; }
      .btn{ height:auto; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="head">
        <div>
          <div class="title">ü•¶üçü GoodJunkVR ‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏•‡πà‡∏ô</div>
          <div class="sub">PC / Mobile / Cardboard (cVR) ‚Äî ‡∏à‡∏≥‡∏Ñ‡πà‡∏≤‡πÇ‡∏´‡∏°‡∏î‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</div>
        </div>
        <div style="display:flex; gap:10px; flex-wrap:wrap;">
          <button class="pill" id="btnPlayLast" type="button">‚ñ∂ ‡πÄ‡∏•‡πà‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</button>
          <button class="pill" id="btnHub" type="button" style="display:none;">üè† HUB</button>
        </div>
      </div>

      <div class="meta" id="metaBox">loading‚Ä¶</div>

      <div class="grid">
        <button class="btn" id="btnPC" type="button">
          <div class="k">üñ• PC</div>
          <div class="d">‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏õ‡πâ‡∏≤ / ‡∏¢‡∏¥‡∏á‡πÑ‡∏î‡πâ ‚Ä¢ HUD ‡πÄ‡∏ï‡πá‡∏°</div>
        </button>

        <button class="btn primary" id="btnMobile" type="button">
          <div class="k">üì± Mobile</div>
          <div class="d">‡πÅ‡∏ï‡∏∞‡πÄ‡∏õ‡πâ‡∏≤ / ‡∏õ‡∏∏‡πà‡∏°‡∏¢‡∏¥‡∏á ‚Ä¢ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡πÅ‡∏ô‡∏ß‡∏ï‡∏±‡πâ‡∏á</div>
        </button>

        <button class="btn warn" id="btnCVR" type="button">
          <div class="k">üï∂ Cardboard (cVR)</div>
          <div class="d">‡∏à‡∏≠‡πÅ‡∏¢‡∏Å 2 ‡∏ï‡∏≤ ‚Ä¢ ‡∏¢‡∏¥‡∏á‡∏à‡∏≤‡∏Å crosshair ‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠</div>
        </button>
      </div>

      <div class="row">
        <div class="hint">Tip: Cardboard ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ ‚Äú‡∏´‡∏°‡∏∏‡∏ô‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô + Fullscreen‚Äù ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ô‡∏¥‡πà‡∏á</div>
        <button class="pill" id="btnOpenRun" type="button">‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏Å‡∏°‡∏ï‡∏£‡∏á ‡πÜ</button>
      </div>
    </div>
  </div>

  <script>
    const RUN_URL = './goodjunk-vr.html';

    function qs(k, def=null){
      try { return new URL(location.href).searchParams.get(k) ?? def; }
      catch { return def; }
    }

    function getParams(){
      try{
        const u = new URL(location.href);
        u.searchParams.delete('view');
        return u.searchParams;
      }catch(e){
        return new URLSearchParams();
      }
    }

    function buildRunUrl(view){
      const sp = getParams();
      if (view) sp.set('view', view);
      return RUN_URL + (sp.toString() ? ('?' + sp.toString()) : '');
    }

    function setMeta(){
      const sp = getParams();
      const diff = sp.get('diff') || 'normal';
      const time = sp.get('time') || '80';
      const run  = sp.get('run')  || 'play';
      const end  = sp.get('end')  || 'time';
      const ch   = sp.get('ch') || sp.get('challenge') || 'rush';
      const hub  = sp.get('hub') || '';
      const seed = sp.get('seed') || '';
      const miss = sp.get('miss') || '';

      const meta = [
        `diff=${diff}`,
        `time=${time}s`,
        `run=${run}`,
        `end=${end}`,
        `ch=${ch}`,
        hub ? `hub=‚úì` : `hub=‚Äî`,
        seed ? `seed=${seed}` : `seed=‚Äî`,
        miss ? `miss=${miss}` : `miss=‚Äî`
      ].join(' ‚Ä¢ ');

      document.getElementById('metaBox').textContent = meta;

      const btnHub = document.getElementById('btnHub');
      if (hub){
        btnHub.style.display = 'inline-flex';
        btnHub.addEventListener('click', ()=> location.href = hub);
      }
    }

    function saveLast(view){
      try{ localStorage.setItem('HHA_LAST_VIEW', view); }catch(e){}
    }
    function getLast(){
      try{ return String(localStorage.getItem('HHA_LAST_VIEW')||''); }catch(e){}
      return '';
    }

    function go(view){
      saveLast(view);
      location.href = buildRunUrl(view);
    }

    setMeta();

    document.getElementById('btnPC').addEventListener('click', ()=>go('pc'));
    document.getElementById('btnMobile').addEventListener('click', ()=>go('mobile'));
    document.getElementById('btnCVR').addEventListener('click', ()=>go('cvr'));

    document.getElementById('btnOpenRun').addEventListener('click', ()=>{
      location.href = buildRunUrl('');
    });

    document.getElementById('btnPlayLast').addEventListener('click', ()=>{
      const last = (getLast() || '').toLowerCase();
      if (last === 'pc' || last === 'mobile' || last === 'vr' || last === 'cvr') go(last);
      else go(/Android|iPhone|iPad|iPod/i.test(navigator.userAgent) ? 'mobile' : 'pc');
    });
  </script>
</body>
</html>