<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>HeroHealth ‚Äî Plate VR (Launcher)</title>
  <meta name="color-scheme" content="dark" />
  <link rel="icon" href="./favicon.ico" />
  <style>
    :root{ --bg:#020617; --panel:rgba(2,6,23,.72); --stroke:rgba(148,163,184,.18); --text:#e5e7eb; --muted:#94a3b8; --sat:env(safe-area-inset-top,0px); --sab:env(safe-area-inset-bottom,0px); --sal:env(safe-area-inset-left,0px); --sar:env(safe-area-inset-right,0px);}
    html,body{margin:0;height:100%;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,"Noto Sans Thai",Segoe UI,Roboto,sans-serif;}
    .wrap{min-height:100%;display:grid;place-items:center;padding:calc(14px + var(--sat)) calc(14px + var(--sar)) calc(14px + var(--sab)) calc(14px + var(--sal));}
    .card{width:min(880px,100%);background:var(--panel);border:1px solid var(--stroke);border-radius:22px;padding:16px;box-shadow:0 26px 90px rgba(0,0,0,.42);backdrop-filter:blur(10px);}
    .row{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin-top:12px}
    .btn{appearance:none;border:none;border-radius:999px;padding:10px 12px;background:rgba(2,6,23,.70);border:1px solid rgba(148,163,184,.20);color:rgba(229,231,235,.95);font:1000 12px/1 system-ui,-apple-system,"Noto Sans Thai",Segoe UI,Roboto,sans-serif;box-shadow:0 16px 40px rgba(0,0,0,.32);backdrop-filter:blur(10px);cursor:pointer}
    .btn.primary{background:rgba(34,197,94,.14);border-color:rgba(34,197,94,.30)}
    .muted{color:var(--muted);font-weight:900}
    code{color:#a7f3d0}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div style="font-weight:1200;font-size:18px">üçΩÔ∏è Balanced Plate VR</div>
      <div class="muted" style="margin-top:6px;line-height:1.4">
        Root launcher ‚Üí ‡∏à‡∏∞‡∏™‡πà‡∏á‡∏ï‡πà‡∏≠‡πÑ‡∏õ‡∏ó‡∏µ‡πà <code>/herohealth/plate/plate-vr.html</code><br/>
        ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö <b>pc / mobile / vr / cvr</b> ‡πÅ‡∏•‡∏∞ pass-through ‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ï‡∏≤‡∏° HHA Standard
      </div>

      <div class="row">
        <button class="btn primary" id="btnGo" type="button">‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏Å‡∏° ‚ñ∂</button>
        <button class="btn" id="btnGoCVR" type="button">‡πÄ‡∏Ç‡πâ‡∏≤‡πÅ‡∏ö‡∏ö Cardboard (cVR) üï∂</button>
      </div>

      <div class="muted" id="dbg" style="margin-top:10px;font-size:12px"></div>
    </div>
  </div>

  <script>
    (function(){
      const dbg = document.getElementById('dbg');
      const u = new URL(location.href);

      function go(viewOverride){
        const dest = new URL('./plate/plate-vr.html', location.href);

        // pass-through (HHA Standard)
        const keys = ['hub','run','runMode','diff','time','seed','studyId','phase','conditionGroup','log','view','v','ver'];
        keys.forEach(k=>{
          const val = u.searchParams.get(k);
          if(val != null && val !== '') dest.searchParams.set(k, val);
        });

        // normalize run
        if(!dest.searchParams.get('run') && dest.searchParams.get('runMode')){
          dest.searchParams.set('run', dest.searchParams.get('runMode'));
        }

        // set view
        if(viewOverride){
          dest.searchParams.set('view', viewOverride);
        }else if(!dest.searchParams.get('view')){
          dest.searchParams.set('view', 'mobile');
        }

        location.href = dest.toString();
      }

      if(dbg) dbg.textContent = 'URL: ' + location.href;

      document.getElementById('btnGo')?.addEventListener('click', ()=> go(null), {passive:true});
      document.getElementById('btnGoCVR')?.addEventListener('click', ()=> go('cvr'), {passive:true});
    })();
  </script>
</body>
</html>