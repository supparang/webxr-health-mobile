<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>HeroHealth ‚Äî Balanced Plate VR</title>
  <meta name="color-scheme" content="dark" />
  <link rel="icon" href="./favicon.ico" type="image/x-icon" />

  <!-- A-Frame (minimal scene so ENTER VR works + vr-ui buttons show) -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  <!-- Global FX + Logger (optional) -->
  <script src="./vr/particles.js" defer></script>
  <script src="./vr/hha-cloud-logger.js" defer></script>

  <!-- Universal VR UI -->
  <script>
    // tune crosshair lock radius here (bigger = easier)
    window.HHA_VRUI_CONFIG = { lockPx: 28, cooldownMs: 90 };
  </script>
  <script src="./vr/vr-ui.js" defer></script>

  <style>
    :root{
      color-scheme: dark;
      --bg:#020617;
      --panel:rgba(2,6,23,.78);
      --panel2:rgba(15,23,42,.70);
      --stroke:rgba(148,163,184,.18);
      --text:#e5e7eb;
      --muted:#94a3b8;
      --accent:#22c55e;
      --warn:#f59e0b;
      --bad:#ef4444;
      --cyan:#22d3ee;
      --violet:#a78bfa;
      --radius:20px;
      --pill:999px;

      --sat: env(safe-area-inset-top, 0px);
      --sar: env(safe-area-inset-right, 0px);
      --sab: env(safe-area-inset-bottom, 0px);
      --sal: env(safe-area-inset-left, 0px);
    }
    *{ box-sizing:border-box; }
    html,body{
      margin:0; padding:0;
      width:100%; height:100%;
      overflow:hidden;
      background: radial-gradient(circle at top left, rgba(56,189,248,0.12), transparent 60%),
                  radial-gradient(circle at bottom right, rgba(34,197,94,0.10), transparent 60%),
                  var(--bg);
      font-family: system-ui, -apple-system, "Noto Sans Thai", Segoe UI, Roboto, sans-serif;
      color:var(--text);
      touch-action: manipulation;
    }

    /* --- A-Frame scene behind everything --- */
    a-scene{
      position:fixed !important;
      inset:0 !important;
      z-index:0 !important;
      background: transparent !important;
    }

    /* --- FX layer (plate.safe.js uses #hitFx) --- */
    #hitFx{
      position:fixed; inset:0;
      pointer-events:none;
      opacity:0;
      transition: opacity .12s ease;
      z-index:15;
    }

    /* --- Targets layer --- */
    #plate-layer{
      position:fixed;
      inset:0;
      z-index:30;
      /* allow tap on targets */
      pointer-events:auto;
      /* keep from selecting text */
      user-select:none;
      -webkit-user-select:none;
    }

    /* --- Top HUD --- */
    .hud{
      position:fixed;
      left:calc(10px + var(--sal));
      right:calc(10px + var(--sar));
      top:calc(10px + var(--sat));
      z-index:60;
      display:grid;
      gap:10px;
      pointer-events:none; /* panels enable pointer events */
    }

    .row{
      display:flex;
      gap:10px;
      align-items:stretch;
      flex-wrap:wrap;
    }

    .panel{
      pointer-events:auto;
      background:var(--panel);
      border:1px solid var(--stroke);
      border-radius:var(--radius);
      box-shadow:0 22px 70px rgba(0,0,0,.40);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
    }

    .topbar{
      display:flex;
      gap:10px;
      align-items:center;
      padding:10px 12px;
      flex-wrap:wrap;
    }

    .pill{
      border-radius:var(--pill);
      padding:6px 10px;
      border:1px solid rgba(148,163,184,.18);
      background:rgba(2,6,23,.52);
      color:rgba(229,231,235,.95);
      font-weight:900;
      font-size:12px;
      letter-spacing:.2px;
      display:flex;
      gap:8px;
      align-items:center;
    }
    .pill b{ font-weight:1200; }
    .pill.good{ border-color:rgba(34,197,94,.30); background:rgba(34,197,94,.10); }
    .pill.warn{ border-color:rgba(245,158,11,.34); background:rgba(245,158,11,.12); }
    .pill.bad { border-color:rgba(239,68,68,.34); background:rgba(239,68,68,.10); }
    .pill.cyan{ border-color:rgba(34,211,238,.28); background:rgba(34,211,238,.10); }

    .split{
      display:grid;
      grid-template-columns: 1fr 320px;
      gap:10px;
      align-items:stretch;
    }
    @media (max-width: 860px){
      .split{ grid-template-columns: 1fr; }
    }

    /* Goal/Mini panel */
    .quest{
      padding:10px 12px;
      display:grid;
      gap:10px;
    }
    .qline{
      display:grid;
      gap:6px;
    }
    .qhead{
      display:flex;
      justify-content:space-between;
      align-items:baseline;
      gap:10px;
    }
    .qtitle{
      font-weight:1200;
      font-size:13px;
      color:rgba(229,231,235,.98);
    }
    .qcount{
      font-weight:1000;
      font-size:12px;
      color:rgba(148,163,184,.95);
    }
    .bar{
      height:10px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.18);
      background:rgba(2,6,23,.55);
      overflow:hidden;
    }
    .fill{
      height:100%;
      width:0%;
      border-radius:999px;
      background: linear-gradient(90deg, rgba(34,197,94,.95), rgba(34,211,238,.90));
    }
    .fill.warn{
      background: linear-gradient(90deg, rgba(245,158,11,.95), rgba(167,139,250,.90));
    }

    .hint{
      font-weight:900;
      font-size:12px;
      color:rgba(148,163,184,.95);
      padding-top:2px;
    }

    /* Coach panel (right) */
    #coachPanel{
      padding:10px 12px;
      display:flex;
      gap:10px;
      align-items:center;
    }
    #coachImg{
      width:54px; height:54px;
      border-radius:18px;
      border:1px solid rgba(148,163,184,.18);
      background:rgba(2,6,23,.55);
      box-shadow:0 18px 44px rgba(0,0,0,.28);
      object-fit:cover;
      flex:0 0 auto;
    }
    #coachMsg{
      font-weight:1000;
      font-size:13px;
      line-height:1.35;
      color:rgba(229,231,235,.98);
    }

    /* Fever + shield */
    .meter{
      display:flex;
      align-items:center;
      gap:10px;
      padding:10px 12px;
    }
    .meter .lab{
      font-weight:1200;
      font-size:12px;
      color:rgba(148,163,184,.95);
      display:flex;
      gap:6px;
      align-items:center;
    }
    .meter .track{
      flex:1;
      height:12px;
      border-radius:999px;
      border:1px solid rgba(148,163,184,.18);
      background:rgba(2,6,23,.55);
      overflow:hidden;
    }
    #uiFeverFill{
      height:100%;
      width:0%;
      border-radius:999px;
      background: linear-gradient(90deg, rgba(34,197,94,.95), rgba(245,158,11,.95), rgba(239,68,68,.95));
    }

    /* Bottom buttons */
    #hudBtns{
      position:fixed;
      left:calc(10px + var(--sal));
      right:calc(10px + var(--sar));
      bottom:calc(10px + var(--sab));
      z-index:70;
      display:flex;
      gap:10px;
      justify-content:flex-end;
      align-items:center;
      pointer-events:auto;
    }
    .btn{
      appearance:none;
      border:none;
      border-radius:18px;
      padding:11px 12px;
      background:rgba(15,23,42,.62);
      border:1px solid rgba(148,163,184,.20);
      color:rgba(229,231,235,.96);
      font: 1100 13px/1 system-ui, -apple-system, "Noto Sans Thai", Segoe UI, Roboto, sans-serif;
      cursor:pointer;
      box-shadow:0 18px 44px rgba(0,0,0,.28);
      backdrop-filter: blur(10px);
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active{ transform: translateY(1px); }
    .btn.primary{
      background:rgba(34,197,94,.14);
      border-color:rgba(34,197,94,.30);
    }
    .btn.warn{
      background:rgba(245,158,11,.14);
      border-color:rgba(245,158,11,.30);
    }
    .btn.bad{
      background:rgba(239,68,68,.14);
      border-color:rgba(239,68,68,.30);
    }

    /* Start overlay */
    #startOverlay{
      position:fixed; inset:0;
      z-index:120;
      display:none;
      background: radial-gradient(circle at center, rgba(2,6,23,.55), rgba(2,6,23,.92));
      padding:16px;
      place-items:center;
    }
    .startCard{
      width:min(860px, 100%);
      border-radius:24px;
      border:1px solid rgba(148,163,184,.18);
      background:rgba(2,6,23,.78);
      box-shadow:0 26px 88px rgba(0,0,0,.52);
      padding:14px;
      display:grid;
      gap:12px;
    }
    .startTop{
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      flex-wrap:wrap;
    }
    .title{
      font-weight:1300;
      font-size:16px;
      letter-spacing:.2px;
      display:flex;
      gap:8px;
      align-items:center;
    }
    .sub{
      font-weight:900;
      font-size:12px;
      color:rgba(148,163,184,.95);
      line-height:1.4;
    }
    .startGrid{
      display:grid;
      grid-template-columns: 1.2fr .8fr;
      gap:12px;
    }
    @media (max-width: 860px){
      .startGrid{ grid-template-columns: 1fr; }
    }
    .startBox{
      padding:12px;
      border-radius:20px;
      border:1px solid rgba(148,163,184,.16);
      background:rgba(15,23,42,.55);
    }
    .kvs{
      display:flex; flex-wrap:wrap;
      gap:8px;
      margin-top:10px;
    }
    .kv{
      border-radius:999px;
      padding:6px 10px;
      border:1px solid rgba(148,163,184,.16);
      background:rgba(2,6,23,.50);
      font-weight:1000;
      font-size:12px;
      color:rgba(229,231,235,.95);
    }

    /* Paused overlay */
    #hudPaused{
      position:fixed; inset:0;
      z-index:115;
      display:none;
      place-items:center;
      background: rgba(2,6,23,.68);
      padding:16px;
    }
    .pauseCard{
      width:min(520px, 96vw);
      border-radius:24px;
      border:1px solid rgba(148,163,184,.18);
      background:rgba(2,6,23,.84);
      box-shadow:0 26px 88px rgba(0,0,0,.52);
      padding:14px;
      display:grid;
      gap:12px;
      text-align:center;
    }

    /* Result overlay */
    #resultBackdrop{
      position:fixed; inset:0;
      z-index:130;
      display:none;
      place-items:center;
      background: radial-gradient(circle at center, rgba(2,6,23,.48), rgba(2,6,23,.92));
      padding:16px;
    }
    .resultCard{
      width:min(980px, 100%);
      border-radius:26px;
      border:1px solid rgba(148,163,184,.18);
      background:rgba(2,6,23,.82);
      box-shadow:0 28px 92px rgba(0,0,0,.58);
      padding:14px;
      display:grid;
      gap:12px;
    }
    .resultGrid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    @media (max-width: 860px){
      .resultGrid{ grid-template-columns: 1fr; }
    }
    .bigGrade{
      font-size:44px;
      font-weight:1400;
      letter-spacing:.8px;
    }
    .statGrid{
      display:grid;
      grid-template-columns: repeat(3, 1fr);
      gap:8px;
    }
    @media (max-width: 520px){
      .statGrid{ grid-template-columns: repeat(2, 1fr); }
    }
    .stat{
      padding:10px 10px;
      border-radius:18px;
      border:1px solid rgba(148,163,184,.16);
      background:rgba(15,23,42,.55);
    }
    .stat .k{
      font-size:11px;
      font-weight:1000;
      color:rgba(148,163,184,.95);
    }
    .stat .v{
      margin-top:4px;
      font-size:16px;
      font-weight:1300;
      color:rgba(229,231,235,.98);
    }

    /* Boss & Storm HUD (stacked above bottom buttons, not blocking vr-ui on right) */
    .fxHud{
      position:fixed;
      left:calc(10px + var(--sal));
      bottom:calc(78px + var(--sab)); /* above btn row */
      z-index:72;
      display:none;
      pointer-events:none;
      width:min(520px, calc(100vw - 24px));
    }
    .fxCard{
      pointer-events:auto;
      border-radius:22px;
      border:1px solid rgba(148,163,184,.16);
      background:rgba(2,6,23,.78);
      box-shadow:0 22px 70px rgba(0,0,0,.42);
      backdrop-filter: blur(12px);
      padding:10px 12px;
      display:grid;
      gap:6px;
    }
    .fxTitle{ font-weight:1400; font-size:13px; letter-spacing:.2px; }
    .fxHint{ font-weight:1000; font-size:12px; color:rgba(148,163,184,.95); line-height:1.35; }
    .fxProg{ font-weight:1400; font-size:12px; color:rgba(229,231,235,.98); }

    #bossHud .fxTitle{ color:rgba(245,158,11,.98); }
    #stormHud .fxTitle{ color:rgba(34,211,238,.98); }

    /* Optional strict view-cvr */
    /* body.view-cvr .plateTarget{ pointer-events:none; } */

  </style>
</head>

<body class="view-mobile">

  <!-- A-Frame minimal scene -->
  <a-scene
    embedded
    vr-mode-ui="enabled: false"
    renderer="colorManagement: true; antialias: true; alpha: true"
    background="transparent: true">
    <a-entity id="rig" position="0 1.6 0">
      <a-camera look-controls="enabled:true" wasd-controls-enabled="false"></a-camera>
    </a-entity>
  </a-scene>

  <div id="hitFx"></div>

  <!-- Targets -->
  <div id="plate-layer" aria-label="Plate targets layer"></div>

  <!-- HUD top -->
  <div class="hud" id="hudTop">
    <div class="panel topbar">
      <div class="pill good">üçΩÔ∏è <b>PLATE</b></div>
      <div class="pill cyan">‚è± <b id="uiTime">0</b>s</div>
      <div class="pill">üéØ Score <b id="uiScore">0</b></div>
      <div class="pill">‚ö° Combo <b id="uiCombo">0</b></div>
      <div class="pill">üèÜ Max <b id="uiComboMax">0</b></div>
      <div class="pill bad">üí• Miss <b id="uiMiss">0</b></div>
      <div class="pill">‚úÖ Plate <b id="uiPlateHave">0</b>/5</div>
      <div class="pill">üéØ Acc <b id="uiAcc">0%</b></div>
      <div class="pill warn">‚≠ê Grade <b id="uiGrade">C</b></div>
      <div class="pill">üõ°Ô∏è <b id="uiShieldN">0</b></div>
    </div>

    <div class="split">
      <!-- Goal + Mini -->
      <div class="panel quest" id="miniPanel">
        <div class="qline">
          <div class="qhead">
            <div class="qtitle">GOAL: <span id="uiGoalTitle">‚Äî</span></div>
            <div class="qcount" id="uiGoalCount">0/0</div>
          </div>
          <div class="bar"><div class="fill" id="uiGoalFill"></div></div>
        </div>

        <div class="qline">
          <div class="qhead">
            <div class="qtitle">MINI: <span id="uiMiniTitle">‚Äî</span></div>
            <div class="qcount"><span id="uiMiniTime">--</span> ‚Ä¢ <span id="uiMiniCount">0/0</span></div>
          </div>
          <div class="bar"><div class="fill warn" id="uiMiniFill"></div></div>
        </div>

        <div class="hint" id="uiHint">‡πÅ‡∏ï‡∏∞‡πÄ‡∏õ‡πâ‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏î‡∏µ‡πÉ‡∏´‡πâ‡πÑ‡∏ß ‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Ç‡∏¢‡∏∞ üçü</div>

        <div class="row" style="gap:8px; margin-top:2px;">
          <div class="pill">ü•¶ <b id="uiG1">0</b></div>
          <div class="pill">üçé <b id="uiG2">0</b></div>
          <div class="pill">üêü <b id="uiG3">0</b></div>
          <div class="pill">üçö <b id="uiG4">0</b></div>
          <div class="pill">ü•ë <b id="uiG5">0</b></div>
        </div>

        <div class="panel" style="margin-top:6px;">
          <div class="meter">
            <div class="lab">üî• FEVER</div>
            <div class="track"><div id="uiFeverFill"></div></div>
          </div>
        </div>
      </div>

      <!-- Coach -->
      <div class="panel" id="coachPanel">
        <img id="coachImg" src="./img/coach-neutral.png" alt="Coach" />
        <div id="coachMsg">‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡∏∏‡∏¢! ‡πÄ‡∏ï‡∏¥‡∏°‡∏à‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö 5 ‡∏´‡∏°‡∏π‡πà üí™</div>
      </div>
    </div>
  </div>

  <!-- Boss HUD -->
  <div class="fxHud" id="bossHud">
    <div class="fxCard">
      <div class="fxTitle" id="bossTitle">üëπ BOSS</div>
      <div class="fxHint" id="bossHint">‚Äî</div>
      <div class="fxProg" id="bossProg">0/0</div>
    </div>
  </div>
  <div id="bossFx" style="display:none"></div>

  <!-- Storm HUD -->
  <div class="fxHud" id="stormHud" style="bottom: calc(158px + var(--sab));">
    <div class="fxCard">
      <div class="fxTitle" id="stormTitle">üå™Ô∏è STORM</div>
      <div class="fxHint" id="stormHint">‚Äî</div>
    </div>
  </div>
  <div id="stormFx" style="display:none"></div>

  <!-- Bottom buttons -->
  <div id="hudBtns">
    <button class="btn warn" id="btnPause" type="button">‚è∏ Pause</button>
    <button class="btn" id="btnRestart" type="button">üîÑ Restart</button>
    <button class="btn primary" id="btnEnterVR" type="button">üï∂ ENTER VR</button>
  </div>

  <!-- Paused -->
  <div id="hudPaused">
    <div class="pauseCard">
      <div class="title">‚è∏ ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß</div>
      <div class="sub">‡∏Å‡∏î Pause ‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠</div>
      <div style="display:flex; gap:10px; justify-content:center; flex-wrap:wrap;">
        <button class="btn primary" id="btnResume" type="button" onclick="document.getElementById('btnPause')?.click()">‚ñ∂ ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠</button>
        <button class="btn" id="btnRestart2" type="button" onclick="document.getElementById('btnRestart')?.click()">üîÑ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
      </div>
    </div>
  </div>

  <!-- Start overlay -->
  <div id="startOverlay">
    <div class="startCard">
      <div class="startTop">
        <div>
          <div class="title">üçΩÔ∏è Balanced Plate VR ‚Äî ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°!</div>
          <div class="sub">‡πÅ‡∏ï‡∏∞‡πÄ‡∏õ‡πâ‡∏≤‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏î‡∏µ ‚Ä¢ ‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Ç‡∏¢‡∏∞ ‚Ä¢ ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö ‚Ä¢ ‡∏ú‡πà‡∏≤‡∏ô GOAL + MINI + STORM + BOSS</div>
        </div>
        <button class="btn primary" id="btnStart" type="button">‚ñ∂ START</button>
      </div>

      <div class="startGrid">
        <div class="startBox">
          <div class="sub">
            ‡πÇ‡∏´‡∏°‡∏î: <b id="uiRunPreview">play</b> ‚Ä¢ ‡∏£‡∏∞‡∏î‡∏±‡∏ö: <b id="uiDiffPreview">normal</b> ‚Ä¢ ‡πÄ‡∏ß‡∏•‡∏≤: <b id="uiTimePreview">90</b>s
            <br/>Tip: ‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠‡∏≠‡∏≤‡∏à‡∏Ç‡∏≠‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï Gyro ‡πÄ‡∏û‡∏∑‡πà‡∏≠ ‚ÄúVR-feel‚Äù (‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏â‡∏≤‡∏Å‡∏ô‡∏¥‡∏î ‡πÜ)
          </div>

          <div class="kvs">
            <div class="kv">üéØ ‡∏¢‡∏¥‡∏á‡∏î‡πâ‡∏ß‡∏¢ crosshair (view-cvr) ‡πÑ‡∏î‡πâ</div>
            <div class="kv">üå™Ô∏è STORM ‡∏Ñ‡∏•‡∏∑‡πà‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©</div>
            <div class="kv">üëπ BOSS ‡∏ä‡πà‡∏ß‡∏á‡∏ó‡πâ‡∏≤‡∏¢</div>
            <div class="kv">üß™ Study = seeded deterministic</div>
          </div>
        </div>

        <div class="startBox">
          <div class="sub"><b>Controls</b></div>
          <div class="sub" style="margin-top:6px">
            ‚Ä¢ ‡πÅ‡∏ï‡∏∞‡πÄ‡∏õ‡πâ‡∏≤ = ‡πÄ‡∏Å‡πá‡∏ö‡πÅ‡∏ï‡πâ‡∏°<br/>
            ‚Ä¢ ‡πÇ‡∏´‡∏°‡∏î Cardboard/cVR: ‡πÅ‡∏ï‡∏∞‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ = ‡∏¢‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠<br/>
            ‚Ä¢ ‡∏õ‡∏∏‡πà‡∏° ENTER VR: ‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà WebXR (‡∏ñ‡πâ‡∏≤‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö)
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Result -->
  <div id="resultBackdrop">
    <div class="resultCard">
      <div class="row" style="justify-content:space-between; align-items:center;">
        <div>
          <div class="title">üèÅ ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•</div>
          <div class="sub">Mode: <b id="rMode">play</b></div>
        </div>
        <div class="bigGrade" id="rGrade">A</div>
      </div>

      <div class="resultGrid">
        <div class="statGrid">
          <div class="stat"><div class="k">Score</div><div class="v" id="rScore">0</div></div>
          <div class="stat"><div class="k">Max Combo</div><div class="v" id="rMaxCombo">0</div></div>
          <div class="stat"><div class="k">Miss</div><div class="v" id="rMiss">0</div></div>
          <div class="stat"><div class="k">Perfect</div><div class="v" id="rPerfect">0%</div></div>
          <div class="stat"><div class="k">Goals</div><div class="v" id="rGoals">0/0</div></div>
          <div class="stat"><div class="k">Minis</div><div class="v" id="rMinis">0/0</div></div>
        </div>

        <div class="statGrid">
          <div class="stat"><div class="k">ü•¶</div><div class="v" id="rG1">0</div></div>
          <div class="stat"><div class="k">üçé</div><div class="v" id="rG2">0</div></div>
          <div class="stat"><div class="k">üêü</div><div class="v" id="rG3">0</div></div>
          <div class="stat"><div class="k">üçö</div><div class="v" id="rG4">0</div></div>
          <div class="stat"><div class="k">ü•ë</div><div class="v" id="rG5">0</div></div>
          <div class="stat"><div class="k">Total</div><div class="v" id="rGTotal">0</div></div>
        </div>
      </div>

      <div class="row" style="justify-content:flex-end; pointer-events:auto;">
        <button class="btn" id="btnPlayAgain" type="button">‚ñ∂ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
        <button class="btn primary" id="btnBackHub" type="button">üè† ‡∏Å‡∏•‡∏±‡∏ö HUB</button>
      </div>
    </div>
  </div>

  <!-- IMPORTANT: IDs required by plate.safe.js (do not remove) -->
  <div style="display:none">
    <div id="result"></div>
    <button id="btnBack"></button>
  </div>

  <!-- Plate logic -->
  <script src="./plate/plate.safe.js" defer></script>

  <script>
    // (Optional) view auto from URL ?view=pc/mobile/vr/cvr
    (function(){
      try{
        const v = new URL(location.href).searchParams.get('view') || 'mobile';
        document.body.classList.remove('view-pc','view-mobile','view-vr','view-cvr');
        document.body.classList.add('view-' + v);
      }catch(e){}
    })();
  </script>
</body>
</html>