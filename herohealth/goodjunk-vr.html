<!-- === /herohealth/goodjunk-vr.html ===
GoodJunkVR LAUNCHER ‚Äî PRODUCTION (ROOT)
‚úÖ Choose PC/Mobile / Cardboard (cVR) / VR
‚úÖ Pass-through hub params: run,diff,time,seed,pid,api,studyId,phase,conditionGroup,hub
‚úÖ Remembers last view
-->
<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>HeroHealth ‚Äî GoodJunkVR (Launcher)</title>
  <meta name="color-scheme" content="dark light"/>
  <link rel="icon" href="./favicon.ico"/>

  <style>
    :root{
      --bg:#020617; --panel:rgba(2,6,23,.62); --panel2:rgba(15,23,42,.66);
      --stroke:rgba(148,163,184,.18); --text:#e5e7eb; --muted:#94a3b8;
      --radius:18px; --shadow:0 18px 60px rgba(0,0,0,.45);
      --good:#22c55e; --cyan:#22d3ee; --violet:#a78bfa;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; color:var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Noto Sans Thai";
      background:
        radial-gradient(1200px 700px at 12% 10%, rgba(34,197,94,.14), transparent 55%),
        radial-gradient(1000px 600px at 85% 18%, rgba(34,211,238,.10), transparent 55%),
        radial-gradient(900px 520px at 55% 92%, rgba(167,139,250,.10), transparent 55%),
        linear-gradient(180deg, var(--bg), #0b1226);
      overflow:hidden;
    }
    .wrap{ max-width: 980px; margin: 0 auto; padding: 18px 14px 24px; }
    .top{
      display:flex; gap:10px; align-items:flex-start; justify-content:space-between; flex-wrap:wrap;
      margin-bottom: 14px;
    }
    .title{
      background: linear-gradient(180deg, var(--panel), var(--panel2));
      border:1px solid var(--stroke); border-radius: var(--radius);
      box-shadow: var(--shadow); padding: 12px 14px;
      flex: 1 1 520px;
    }
    .title h1{ margin:0; font-size: 18px; letter-spacing:.2px; }
    .title p{ margin:6px 0 0; color: var(--muted); font-size: 13px; line-height:1.4; }
    .chips{ display:flex; gap:8px; flex-wrap:wrap; }
    .chip{
      border:1px solid var(--stroke);
      background: rgba(2,6,23,.50);
      border-radius: 999px;
      padding: 8px 10px;
      color: var(--muted);
      font-weight: 900;
      font-size: 12px;
    }
    .grid{
      display:grid;
      grid-template-columns: repeat(3, minmax(0,1fr));
      gap: 12px;
      margin-top: 10px;
    }
    @media (max-width: 920px){ .grid{ grid-template-columns: 1fr; } }
    .card{
      background: linear-gradient(180deg, rgba(2,6,23,.60), rgba(15,23,42,.64));
      border:1px solid var(--stroke);
      border-radius: var(--radius);
      box-shadow: 0 14px 50px rgba(0,0,0,.32);
      padding: 12px 12px 14px;
    }
    .card h2{ margin:0; font-size: 15px; letter-spacing:.2px; }
    .card p{ margin:8px 0 0; color: rgba(229,231,235,.82); font-size: 13px; line-height:1.45; }
    .btnrow{ margin-top: 12px; display:flex; gap:8px; flex-wrap:wrap; }
    button{
      appearance:none; border:1px solid rgba(148,163,184,.22);
      background: rgba(2,6,23,.55);
      color: var(--text);
      border-radius: 999px;
      padding: 10px 12px;
      font-weight: 1000;
      cursor: pointer;
      box-shadow: 0 10px 30px rgba(0,0,0,.18);
    }
    button.primary{ background: rgba(34,197,94,.18); border-color: rgba(34,197,94,.35); }
    button.alt{ background: rgba(34,211,238,.14); border-color: rgba(34,211,238,.28); }
    button.vr{ background: rgba(167,139,250,.14); border-color: rgba(167,139,250,.28); }
    .footer{
      margin-top: 14px;
      color: var(--muted);
      font-size: 12px;
      line-height: 1.45;
    }
    .mono{ font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div class="title">
        <h1>üçÄ HeroHealth ‚Äî GoodJunkVR</h1>
        <p>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏•‡πà‡∏ô (PC/Mobile / Cardboard / VR). Launcher ‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏™‡πà‡∏á‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÄ‡∏î‡∏¥‡∏°‡∏ï‡πà‡∏≠‡πÑ‡∏õ RUN (folder) ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
      </div>
      <div class="chips">
        <div class="chip" id="cRun">run: ‚Äî</div>
        <div class="chip" id="cDiff">diff: ‚Äî</div>
        <div class="chip" id="cTime">time: ‚Äî</div>
        <div class="chip" id="cPid">pid: ‚Äî</div>
      </div>
    </div>

    <div class="grid">
      <div class="card">
        <h2>üñ•Ô∏è PC / üì± Mobile (Tap)</h2>
        <p>‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÄ‡∏£‡πá‡∏ß / ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏£‡∏¥‡∏á‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ (‡πÅ‡∏ï‡∏∞‡πÄ‡∏õ‡πâ‡∏≤‡πÑ‡∏î‡πâ)</p>
        <div class="btnrow">
          <button class="primary" id="btnPlay">‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏•‡πà‡∏ô (auto)</button>
          <button id="btnPc">‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö PC</button>
          <button id="btnMobile">‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö Mobile</button>
        </div>
      </div>

      <div class="card">
        <h2>üì¶ Cardboard (cVR)</h2>
        <p>‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏ö‡∏ö split-screen 2 ‡∏ï‡∏≤ ‡∏¢‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠ (crosshair) ‡∏ú‡πà‡∏≤‡∏ô <span class="mono">hha:shoot</span></p>
        <div class="btnrow">
          <button class="alt" id="btnCvr">‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏•‡πà‡∏ô cVR</button>
        </div>
      </div>

      <div class="card">
        <h2>ü•Ω VR (WebXR)</h2>
        <p>‡πÉ‡∏ä‡πâ <span class="mono">vr-ui.js</span> ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Enter VR / Recenter + ‡∏¢‡∏¥‡∏á‡∏à‡∏≤‡∏Å crosshair</p>
        <div class="btnrow">
          <button class="vr" id="btnVr">‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏•‡πà‡∏ô VR</button>
        </div>
      </div>
    </div>

    <div class="footer">
      RUN file: <span class="mono">/herohealth/vr-goodjunk/goodjunk-vr.html</span><br/>
      ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ 404: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏´‡πá‡∏ô 404 ‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå logger/particles ‡∏ó‡∏µ‡πà‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ ‡πÉ‡∏´‡πâ‡∏ñ‡∏≠‡∏î script ‡∏≠‡∏≠‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏ß‡∏≤‡∏á‡πÑ‡∏ü‡∏•‡πå‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö
    </div>
  </div>

  <script>
    (function(){
      const LS_KEY = 'HHA_GJ_LAST_VIEW';
      function qs(k, def=null){
        try { return new URL(location.href).searchParams.get(k) ?? def; }
        catch { return def; }
      }
      function setChip(id, text){
        const el = document.getElementById(id);
        if(el) el.textContent = text;
      }
      function isMobileUA(){
        const ua = String(navigator.userAgent||'').toLowerCase();
        return /android|iphone|ipad|ipod/.test(ua);
      }

      const run = qs('run','play');
      const diff = qs('diff','normal');
      const time = qs('time','80');
      const pid = qs('pid','anon');

      setChip('cRun',  'run: ' + run);
      setChip('cDiff', 'diff: ' + diff);
      setChip('cTime', 'time: ' + time);
      setChip('cPid',  'pid: ' + pid);

      function buildRunUrl(view){
        const base = './vr-goodjunk/goodjunk-vr.html';
        const u = new URL(base, location.href);

        // pass-through standard params
        const pass = [
          'run','diff','time','seed','pid','api','studyId','study','phase','conditionGroup','cond','hub','debug'
        ];
        for(const k of pass){
          const v = qs(k, null);
          if(v != null) u.searchParams.set(k, v);
        }

        // force view if provided
        if(view) u.searchParams.set('view', view);

        return u.toString();
      }

      function go(view){
        try{ localStorage.setItem(LS_KEY, view || ''); }catch(e){}
        location.href = buildRunUrl(view);
      }

      function lastView(){
        try{ return localStorage.getItem(LS_KEY) || ''; }catch(e){ return ''; }
      }

      // buttons
      document.getElementById('btnPc')?.addEventListener('click', ()=>go('pc'));
      document.getElementById('btnMobile')?.addEventListener('click', ()=>go('mobile'));
      document.getElementById('btnCvr')?.addEventListener('click', ()=>go('cvr'));
      document.getElementById('btnVr')?.addEventListener('click', ()=>go('vr'));

      // auto
      document.getElementById('btnPlay')?.addEventListener('click', ()=>{
        const lv = lastView();
        if(lv) return go(lv);
        return go(isMobileUA() ? 'mobile' : 'pc');
      });
    })();
  </script>
</body>
</html>