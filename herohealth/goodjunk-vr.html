<!-- === /herohealth/goodjunk-vr.html ===
GoodJunkVR (PRODUCTION) ‚Äî HHA Standard
‚úÖ DOM emoji targets (dual-eye for VR/cVR)
‚úÖ HUD + Quest + Coach + Fever/Shield
‚úÖ Boot gate: engine starts ONLY after pressing "‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô"
‚úÖ Quest Peek (missions visible even when HUD is hidden in VR)
‚úÖ VR Compact HUD (Score/Time/Grade) + VR Toast (low-time tick + warning)
‚úÖ End overlay (Replay / Back HUB / Copy JSON) + flush-hardened
-->

<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>HeroHealth ‚Äî GoodJunk VR</title>
  <meta name="color-scheme" content="dark" />
  <link rel="icon" href="./favicon.ico" type="image/x-icon" />

  <!-- UI -->
  <link rel="stylesheet" href="./vr-goodjunk/goodjunk-vr.css" />

  <!-- Universal VR UI (Enter VR/Exit/Recenter + crosshair/tap shoot -> hha:shoot) -->
  <script src="./vr/vr-ui.js" defer></script>

  <!-- Global FX + Fever + HUD + Logger -->
  <script src="./vr/particles.js" defer></script>
  <script src="./vr/ui-fever.js" defer></script>
  <script src="./vr/hha-hud.js" defer></script>
  <script src="./vr/hha-cloud-logger.js" defer></script>

  <!-- Boot (ESM) -->
  <script type="module" src="./vr-goodjunk/goodjunk-vr.boot.js"></script>
</head>

<body>
  <!-- ===== HUD ===== -->
  <div class="hha-hud">
    <div class="hud-top">
      <div class="hud-badge">
        <div class="hud-title">GoodJunkVR</div>
        <div class="hud-sub" id="hudMeta">‚Äî</div>

        <div class="viewbar" id="viewbar">
          <button class="pill" id="btnViewPC" type="button">PC</button>
          <button class="pill" id="btnViewMobile" type="button">Mobile</button>
          <button class="pill" id="btnViewVR" type="button">VR</button>
          <button class="pill" id="btnViewCVR" type="button">cVR</button>

          <button class="pill ghost" id="btnPeek" type="button">Missions</button>
          <button class="pill ghost" id="btnToggleHud" type="button">HUD</button>

          <button class="pill ghost" id="btnEnterFS" type="button">Enter Fullscreen</button>
          <button class="pill ghost" id="btnEnterVR" type="button">Enter VR</button>
        </div>
      </div>

      <div class="hud-stats">
        <div class="hud-stat"><div class="k">Score</div><div class="v" id="hhaScore">0</div></div>
        <div class="hud-stat"><div class="k">Combo</div><div class="v" id="hhaCombo">0</div></div>
        <div class="hud-stat"><div class="k">Miss</div><div class="v" id="hhaMiss">0</div></div>
        <div class="hud-stat"><div class="k">Time</div><div class="v" id="hhaTime">0</div></div>
        <div class="hud-stat grade"><div class="k">Grade</div><div class="v" id="hhaGrade">‚Äî</div></div>
      </div>
    </div>

    <div class="hud-mid">
      <div class="hud-quest">
        <div class="q-row">
          <div class="q-title" id="hudGoalTitle">Goal: ‚Äî</div>
          <div class="q-count" id="hudGoalCount">0/0</div>
        </div>
        <div class="q-row">
          <div class="q-title mini" id="hudMiniTitle">Mini: ‚Äî</div>
          <div class="q-count" id="hudMiniCount">0/0</div>
          <div class="q-timer" id="hudMiniTimer"></div>
        </div>
        <div class="q-progress" id="hudQProgress">Goals 0/0 ‚Ä¢ Minis 0/0</div>
      </div>

      <div class="hud-coach">
        <img id="hudCoachImg" class="coach-img" src="./img/coach-neutral.png" alt="coach" />
        <div class="coach-talk">
          <div class="coach-line" id="hudCoachLine">‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡∏∏‡∏¢! ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏≠‡∏á‡∏î‡∏µ ‡∏´‡∏•‡∏µ‡∏Å‡∏Ç‡∏¢‡∏∞ ü•¶üö´</div>
          <div class="coach-sub" id="hudCoachSub">‡πÄ‡∏•‡πá‡∏á‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏¢‡∏¥‡∏á / ‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏õ‡πâ‡∏≤‡∏Å‡πá‡πÑ‡∏î‡πâ</div>
        </div>
      </div>
    </div>
  </div>

  <!-- ===== Fever/Shield UI ===== -->
  <div class="hha-fever" id="hhaFever">
    <div class="fever-row">
      <div class="fever-label">FEVER</div>
      <div class="fever-bar"><div class="fever-fill" id="feverBar"></div></div>
      <div class="fever-text" id="feverText">0%</div>
    </div>
    <div class="shield-row">
      <div class="shield-label">SHIELD</div>
      <div class="shield-pills" id="shieldPills"></div>
    </div>
  </div>

  <!-- ===== Quest Peek (always available) ===== -->
  <div class="gj-peek" id="gjPeek" aria-hidden="true">
    <div class="peek-card">
      <div class="peek-title">üéØ ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</div>
      <div class="peek-sub" id="gjPeekGoal">Goal: ‚Äî</div>
      <div class="peek-mini" id="gjPeekMini">Mini: ‚Äî</div>
      <div class="peek-tip">Tip: ‡πÇ‡∏´‡∏°‡∏î VR ‡∏ã‡πà‡∏≠‡∏ô HUD ‡πÑ‡∏î‡πâ ‡πÅ‡∏ï‡πà‡∏Å‡∏î ‚ÄúMissions‚Äù ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏î‡∏π‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡πÑ‡∏î‡πâ‡∏ï‡∏•‡∏≠‡∏î</div>
    </div>
  </div>

  <!-- ===== Playfield (dual-eye) ===== -->
  <div id="gj-stage" aria-label="playfield">
    <div class="gj-eye eye-l" id="eyeL">
      <!-- VR Compact HUD (Left eye) -->
      <div class="vr-compact" id="vrCompactHud-l" aria-hidden="true">
        <div class="vr-pill">
          <span class="vr-k">Score</span><span class="vr-v" id="vrScore-l">0</span>
        </div>
        <div class="vr-pill">
          <span class="vr-k">Time</span><span class="vr-v" id="vrTime-l">0</span>
        </div>
        <div class="vr-pill grade">
          <span class="vr-k">Grade</span><span class="vr-v" id="vrGrade-l">‚Äî</span>
        </div>
      </div>

      <!-- VR Toast (Left eye) -->
      <div class="vr-toast" id="vrToast-l" hidden>
        <div class="vr-toast-card warn" id="vrToastText-l">‚Äî</div>
      </div>

      <div class="gj-layer" id="gj-layer-l" aria-label="targets layer left"></div>
      <div class="gj-crosshair" id="gj-crosshair-l" aria-hidden="true"></div>
      <div class="atk-ring" id="atk-ring-l" aria-hidden="true"></div>
      <div class="atk-laser" id="atk-laser-l" aria-hidden="true"></div>
    </div>

    <div class="gj-eye eye-r" id="eyeR" aria-hidden="true">
      <!-- VR Compact HUD (Right eye) -->
      <div class="vr-compact" id="vrCompactHud-r" aria-hidden="true">
        <div class="vr-pill">
          <span class="vr-k">Score</span><span class="vr-v" id="vrScore-r">0</span>
        </div>
        <div class="vr-pill">
          <span class="vr-k">Time</span><span class="vr-v" id="vrTime-r">0</span>
        </div>
        <div class="vr-pill grade">
          <span class="vr-k">Grade</span><span class="vr-v" id="vrGrade-r">‚Äî</span>
        </div>
      </div>

      <!-- VR Toast (Right eye) -->
      <div class="vr-toast" id="vrToast-r" hidden>
        <div class="vr-toast-card warn" id="vrToastText-r">‚Äî</div>
      </div>

      <div class="gj-layer" id="gj-layer-r" aria-label="targets layer right"></div>
      <div class="gj-crosshair" id="gj-crosshair-r" aria-hidden="true"></div>
      <div class="atk-ring" id="atk-ring-r" aria-hidden="true"></div>
      <div class="atk-laser" id="atk-laser-r" aria-hidden="true"></div>
    </div>

    <!-- end summary placeholder (will be filled by boot end-overlay binder) -->
    <div id="end-summary"></div>
  </div>

  <!-- ===== Controls ===== -->
  <div class="hha-controls">
    <button id="btnShoot" class="btn-shoot" type="button">‡∏¢‡∏¥‡∏á</button>
  </div>

  <!-- ===== Start Overlay ===== -->
  <div id="startOverlay" class="start-overlay" hidden>
    <div class="start-card">
      <div class="start-title">GoodJunk VR</div>
      <div class="start-desc">
        ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡∏≠‡∏á‡∏î‡∏µ ü•¶ ‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏µ‡∏Å‡∏Ç‡∏¢‡∏∞ üçü<br/>
        <span class="muted">‡∏ä‡πà‡∏ß‡∏á‡πÅ‡∏£‡∏Å‡∏ô‡∏∏‡πà‡∏° ‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÇ‡∏´‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏≠‡∏á</span>
      </div>
      <div class="start-meta" id="startMeta">‚Äî</div>
      <button id="btnStart" class="btn-start" type="button">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô</button>
    </div>
  </div>

  <!-- ===== VR Hint Overlay ===== -->
  <div id="vrHint" class="vr-hint" hidden>
    <div class="vr-card">
      <div class="vr-title">‡πÇ‡∏´‡∏°‡∏î VR/‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ö‡∏≠‡∏£‡πå‡∏î</div>
      <div class="vr-desc">
        ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏´‡∏°‡∏∏‡∏ô‡∏à‡∏≠‡πÄ‡∏õ‡πá‡∏ô <b>‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô</b> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡πÄ‡∏õ‡πâ‡∏≤‡∏≠‡∏¢‡∏π‡πà‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏™‡∏≤‡∏¢‡∏ï‡∏≤<br/>
        <span class="muted">Tip: ‡∏Å‡∏î ‚ÄúEnter Fullscreen‚Äù ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Ç‡πâ‡∏≤ VR/cVR ‡∏à‡∏∞‡∏ô‡∏¥‡πà‡∏á‡∏Å‡∏ß‡πà‡∏≤</span>
      </div>
      <button id="btnVrOk" class="btn-start" type="button">‡πÇ‡∏≠‡πÄ‡∏Ñ</button>
    </div>
  </div>

  <!-- ===== End Overlay (HHA Standard) ===== -->
  <div class="end-overlay" id="endOverlay" hidden>
    <div class="end-card">
      <div class="end-head">
        <div>
          <div class="end-title" id="endTitle">‡∏à‡∏ö‡πÄ‡∏Å‡∏°!</div>
          <div class="end-sub" id="endSub">‚Äî</div>
        </div>
        <div class="end-grade" id="endGrade">‚Äî</div>
      </div>

      <div class="end-grid">
        <div class="end-item"><div class="k">Score</div><div class="v" id="endScore">0</div></div>
        <div class="end-item"><div class="k">Accuracy</div><div class="v" id="endAcc">0%</div></div>
        <div class="end-item"><div class="k">Combo Max</div><div class="v" id="endCombo">0</div></div>
        <div class="end-item"><div class="k">Miss</div><div class="v" id="endMiss">0</div></div>
        <div class="end-item"><div class="k">Time Played</div><div class="v" id="endTimePlayed">0s</div></div>
        <div class="end-item"><div class="k">Goals / Minis</div><div class="v" id="endQuest">0/0 ‚Ä¢ 0/0</div></div>
      </div>

      <div class="end-actions">
        <button class="btn-primary" id="btnReplay" type="button">‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà</button>
        <button class="btn-ghost" id="btnBackHub" type="button">‡∏Å‡∏•‡∏±‡∏ö HUB</button>
        <button class="btn-ghost" id="btnCopyJson" type="button">Copy JSON</button>
      </div>

      <div class="end-foot" id="endFoot">Tip: ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÉ‡∏ä‡πâ seed ‡∏Ñ‡∏á‡∏ó‡∏µ‡πà / ‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏∞‡∏™‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà</div>
    </div>
  </div>

</body>
</html>