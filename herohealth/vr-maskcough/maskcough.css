/* === /herohealth/vr-maskcough/css/maskcough.css === */
:root{
  --bg:#020617;
  --panel: rgba(2,6,23,.72);
  --panel2: rgba(15,23,42,.55);
  --stroke: rgba(148,163,184,.18);

  --text:#e5e7eb;
  --muted:#94a3b8;

  --good:#22c55e;
  --bad:#ef4444;
  --accent:#38bdf8;

  --sat: env(safe-area-inset-top, 0px);
  --sar: env(safe-area-inset-right, 0px);
  --sab: env(safe-area-inset-bottom, 0px);
  --sal: env(safe-area-inset-left, 0px);
}

*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans Thai",sans-serif}

#mc-wrap{position:relative;min-height:100%;overflow:hidden}
#mc-flash{
  position:fixed;inset:0;pointer-events:none;opacity:0;
  background:rgba(239,68,68,.16);
  transition:opacity .12s linear;
  z-index:40;
}

.mc-stage{
  position:fixed;inset:0;
  padding:calc(var(--sat) + 10px) calc(var(--sar) + 10px) calc(var(--sab) + 128px) calc(var(--sal) + 10px);
}

.mc-layer{
  position:relative;
  width:100%;height:100%;
  border-radius:22px;
  border:1px solid rgba(148,163,184,.10);
  background:
    radial-gradient(1200px 600px at 30% 25%, rgba(56,189,248,.10), transparent 55%),
    radial-gradient(1200px 700px at 70% 70%, rgba(34,197,94,.08), transparent 55%),
    rgba(2,6,23,.25);
  overflow:hidden;
  touch-action: manipulation;
}

/* Targets */
.t{
  position:absolute;
  width: 66px; height: 66px;
  border-radius: 999px;
  display:flex; align-items:center; justify-content:center;
  font-size: 28px;
  user-select:none;
  transform: translate(-50%,-50%) scale(1);
  border:1px solid rgba(255,255,255,.16);
  background: rgba(255,255,255,.06);
  box-shadow: 0 12px 30px rgba(0,0,0,.22);
  will-change: transform, opacity;
}
.t.good{ outline: 2px solid rgba(34,197,94,.18); }
.t.bad{ outline: 2px solid rgba(239,68,68,.18); }
.t.mask{ outline: 2px solid rgba(56,189,248,.22); }
.t.cough{ outline: 2px solid rgba(255,79,216,.22); }

.pop{ animation: pop .16s ease; }
@keyframes pop{ 0%{ transform: translate(-50%,-50%) scale(.9);} 100%{ transform: translate(-50%,-50%) scale(1.08);} }

.fade{ animation: fade .20s ease forwards; }
@keyframes fade{ to{ opacity:0; transform: translate(-50%,-50%) scale(.8);} }

/* Prompt */
.mc-prompt{
  position:fixed;
  left:50%;
  top:calc(var(--sat) + 12px);
  transform:translateX(-50%) translateY(-4px);
  max-width:min(720px, calc(100vw - 24px));
  padding:10px 14px;
  border-radius:14px;
  border:1px solid rgba(148,163,184,.18);
  background:rgba(2,6,23,.78);
  color:var(--text);
  z-index:60;
  opacity:0;
  transition:opacity .18s ease, transform .18s ease;
  pointer-events:none;
  text-align:center;
  font-weight:900;
}
.mc-prompt.show{opacity:1; transform:translateX(-50%) translateY(0)}

/* HUD */
.mc-hud{
  position:fixed;
  left:calc(var(--sal) + 10px);
  right:calc(var(--sar) + 10px);
  bottom:calc(var(--sab) + 10px);
  z-index:50;

  border:1px solid rgba(148,163,184,.18);
  border-radius:18px;
  background:rgba(2,6,23,.70);
  backdrop-filter: blur(10px);
  padding:10px 10px 10px;
}

.mc-hud-row{
  display:flex;gap:8px;flex-wrap:wrap;align-items:center;justify-content:flex-start;
  margin-bottom:8px;
}

.mc-pill{
  display:inline-flex;align-items:center;gap:8px;
  padding:6px 10px;border-radius:999px;
  border:1px solid rgba(148,163,184,.18);
  background:rgba(15,23,42,.45);
  color:#e2e8f0;
  font-weight:900;
  font-size:12px;
}
.mc-pill b{font-weight:1000}

.mc-bars{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-bottom:10px}
@media (max-width:720px){ .mc-bars{grid-template-columns:1fr} }

.mc-bar-label{display:flex;justify-content:space-between;align-items:center;color:var(--muted);font-size:12px;margin-bottom:6px}
.mc-bar-track{height:10px;border-radius:999px;border:1px solid rgba(148,163,184,.18);background:rgba(15,23,42,.35);overflow:hidden}
.mc-bar-fill{height:100%;border-radius:999px;background:rgba(34,197,94,.65)}
.mc-bar-fill.mc-bad{background:rgba(239,68,68,.60)}

.mc-controls{display:flex;gap:8px;flex-wrap:wrap;justify-content:flex-start}
.mc-btn{
  appearance:none;
  border:1px solid rgba(148,163,184,.18);
  background:rgba(15,23,42,.55);
  color:var(--text);
  border-radius:14px;
  padding:10px 12px;
  font-weight:1000;
  cursor:pointer;
  user-select:none;
}
.mc-btn:active{transform:translateY(1px)}
.mc-btn.mc-primary{border-color:rgba(34,197,94,.35);background:rgba(34,197,94,.20)}
.mc-btn.mc-accent{border-color:rgba(56,189,248,.40);background:rgba(56,189,248,.18)}
.mc-btn.mc-ghost{background:transparent;color:rgba(148,163,184,.95)}

/* End overlay */
.mc-end{
  position:fixed;inset:0;
  background:rgba(2,6,23,.72);
  display:flex;align-items:center;justify-content:center;
  padding:calc(var(--sat) + 16px) calc(var(--sar) + 16px) calc(var(--sab) + 16px) calc(var(--sal) + 16px);
  z-index:80;
}
.mc-end[hidden]{display:none}
.mc-end-card{
  width:min(860px,100%);
  border:1px solid rgba(148,163,184,.18);
  border-radius:20px;
  background:rgba(2,6,23,.82);
  padding:14px;
}
.mc-end-head{display:flex;align-items:center;justify-content:space-between;gap:10px;margin-bottom:10px;flex-wrap:wrap}
.mc-end-title{font-size:18px;font-weight:1100}
.mc-end-grid{
  display:grid;grid-template-columns:repeat(3,1fr);
  gap:10px;
}
@media (max-width:720px){ .mc-end-grid{grid-template-columns:repeat(2,1fr)} }
.mc-end-item{
  border:1px solid rgba(148,163,184,.14);
  background:rgba(15,23,42,.35);
  border-radius:16px;
  padding:10px;
}
.mc-end-item .k{color:var(--muted);font-size:12px}
.mc-end-item .v{font-size:18px;font-weight:1100;margin-top:2px}

.mc-end-badges-wrap{margin-top:12px}
.mc-end-sub{color:var(--muted);font-size:12px;margin-bottom:6px}
.mc-end-badges{display:flex;flex-wrap:wrap;gap:8px}
.mc-badge-chip{
  display:inline-flex;align-items:center;gap:8px;
  padding:6px 10px;border-radius:999px;
  border:1px solid rgba(148,163,184,.18);
  background:rgba(15,23,42,.45);
  font-size:12px;font-weight:1000;
}

.mc-end-note{margin-top:10px;color:rgba(148,163,184,.90);font-size:12px;word-break:break-word}
.mc-end-actions{display:flex;gap:10px;flex-wrap:wrap;justify-content:flex-end;margin-top:12px}

/* Toast */
.toast{
  position: fixed;
  left: 50%;
  bottom: calc(18px + var(--sab));
  transform: translateX(-50%);
  background: rgba(2,6,23,.85);
  border:1px solid rgba(148,163,184,.22);
  color:var(--text);
  padding:10px 12px;
  border-radius: 14px;
  box-shadow: 0 12px 40px rgba(0,0,0,.35);
  backdrop-filter: blur(8px);
  z-index: 9999;
  max-width: 92vw;
  font-size: 13px;
  opacity: 0;
  transition: opacity .18s ease;
  pointer-events:none;
}
.toast.show{ opacity: 1; }

/* cVR strict: disable pointer events on layer targets (vr-ui shoots instead) */
#mc-wrap[data-view="cvr"] .mc-layer *{ pointer-events:none !important; }
#mc-wrap[data-view="cvr"] .mc-hud{ pointer-events:auto; }
#mc-wrap[data-view="cvr"] .mc-end{ pointer-events:auto; }