<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>HeroHealth ‚Äî Brush (Plaque Breaker)</title>
  <meta name="color-scheme" content="dark light"/>
  <link rel="icon" href="../favicon.ico"/>
  <link rel="stylesheet" href="./brush.css?v=20260214a"/>
</head>

<body>
  <!-- Minimal A-Frame scene for Enter VR reliability (optional but recommended) -->
  <a-scene
    embedded
    vr-mode-ui="enabled: false"
    renderer="colorManagement:true"
    background="color: #060a12">
    <a-entity position="0 1.6 -2">
      <a-sphere radius="0.16" color="#1f2937" opacity="0.35"></a-sphere>
      <a-ring radius-inner="0.22" radius-outer="0.24" color="#334155" opacity="0.30"></a-ring>
    </a-entity>
    <a-entity camera look-controls position="0 1.6 0"></a-entity>
  </a-scene>

  <div id="br-wrap" data-state="menu" data-view="pc">
    <!-- TOP HUD -->
    <header class="br-hudTop">
      <div class="br-brand">
        <span class="br-pill">HeroHealth ¬∑ Hygiene</span>
        <div class="br-titleRow">
          <h1 class="br-title">ü™• Brush ‚Äî Plaque Breaker</h1>
          <span class="br-tag" id="br-diffTag">normal</span>
        </div>
        <p class="br-sub">‡πÅ‡∏ï‡∏∞/‡∏¢‡∏¥‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠ ‚Äú‡πÅ‡∏õ‡∏£‡∏á‡∏Ñ‡∏£‡∏≤‡∏ö‡∏û‡∏•‡∏±‡∏Ñ‚Äù ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ ‚Ä¢ Perfect ‚Üí FEVER ‚Ä¢ ‡πÄ‡∏à‡∏≠‡∏ö‡∏≠‡∏™‡∏Ñ‡∏£‡∏≤‡∏ö‡∏´‡∏ô‡∏≤!</p>
      </div>

      <div class="br-ctx">
        <div class="br-ctxrow"><span class="k">view</span><span id="br-ctx-view" class="v">-</span></div>
        <div class="br-ctxrow"><span class="k">seed</span><span id="br-ctx-seed" class="v">-</span></div>
        <div class="br-ctxrow"><span class="k">time</span><span id="br-ctx-time" class="v">-</span></div>
      </div>
    </header>

    <!-- PLAY FIELD -->
    <main class="br-stage">
      <div id="br-layer" class="br-layer" aria-label="play layer"></div>

      <!-- center dot for balance-like aim feedback (optional) -->
      <div class="br-center" aria-hidden="true"></div>

      <!-- bottom HUD -->
      <footer class="br-hudBottom">
        <div class="br-stats">
          <div class="br-stat">
            <div class="k">Score</div><div class="v" id="tScore">0</div>
          </div>
          <div class="br-stat">
            <div class="k">Combo</div><div class="v" id="tCombo">0</div>
          </div>
          <div class="br-stat">
            <div class="k">Miss</div><div class="v" id="tMiss">0</div>
          </div>
          <div class="br-stat">
            <div class="k">Time</div><div class="v"><span id="tTime">0</span>s</div>
          </div>
        </div>

        <div class="br-bars">
          <div class="br-barBox">
            <div class="br-barHead"><span class="k">Clean Meter</span><span class="v" id="tClean">0%</span></div>
            <div class="br-barTrack"><div class="br-barFill" id="bClean"></div></div>
          </div>
          <div class="br-barBox">
            <div class="br-barHead"><span class="k">Fever</span><span class="v" id="tFever">OFF</span></div>
            <div class="br-barTrack"><div class="br-barFill br-fever" id="bFever"></div></div>
          </div>
        </div>

        <div class="br-actions">
          <button class="br-btn br-ghost" id="btnHow" type="button">‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô</button>
          <button class="br-btn br-warn" id="btnRecenter" type="button">Recenter</button>
          <button class="br-btn br-primary" id="btnPause" type="button">Pause</button>
        </div>
      </footer>

      <!-- MENU OVERLAY -->
      <section id="br-menu" class="br-overlay" aria-label="menu">
        <div class="br-card">
          <h2 class="br-h2">ü™• Brush ‚Äî Plaque Breaker</h2>
          <p class="br-help">
            ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ‚Äú‡πÅ‡∏õ‡∏£‡∏á‡∏Ñ‡∏£‡∏≤‡∏ö‚Äù ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏≤‡∏¢‡πÑ‡∏õ<br/>
            ‚Ä¢ ü¶† ‡∏û‡∏•‡∏±‡∏Ñ = ‡πÅ‡∏ï‡∏∞/‡∏¢‡∏¥‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ó‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏≠‡∏≤‡∏î<br/>
            ‚Ä¢ üíé ‡∏Ñ‡∏£‡∏≤‡∏ö‡∏´‡∏ô‡∏≤ = ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏î‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á (‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡∏ä‡πà‡∏ß‡∏¢!)<br/>
            ‚Ä¢ üßº Perfect (‡∏Å‡∏î‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤) ‚Üí ‡πÑ‡∏î‡πâ‡πÅ‡∏ï‡πâ‡∏°‡∏û‡∏¥‡πÄ‡∏®‡∏© + ‡∏ä‡∏≤‡∏£‡πå‡∏à FEVER
          </p>

          <div class="br-menuGrid">
            <div class="br-miniBox">
              <div class="k">Difficulty</div>
              <div class="v" id="mDiff">normal</div>
              <div class="br-mini">‡πÉ‡∏ä‡πâ ?diff=easy|normal|hard</div>
            </div>
            <div class="br-miniBox">
              <div class="k">Time limit</div>
              <div class="v" id="mTime">60s</div>
              <div class="br-mini">‡πÉ‡∏ä‡πâ ?time=60|80|90</div>
            </div>
            <div class="br-miniBox">
              <div class="k">Controls</div>
              <div class="v">Tap / Crosshair</div>
              <div class="br-mini">‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ cVR ‡∏¢‡∏¥‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏Å‡∏ö‡∏≤‡∏ó</div>
            </div>
          </div>

          <div class="br-row">
            <button class="br-btn br-primary" id="btnStart" type="button">‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
            <a class="br-btn br-ghost br-link" id="btnBack" href="../hub.html">üè∞ ‡∏Å‡∏•‡∏±‡∏ö HUB</a>
          </div>
        </div>
      </section>

      <!-- SUMMARY OVERLAY -->
      <section id="br-end" class="br-overlay" hidden aria-label="summary">
        <div class="br-card br-cardWide">
          <div class="br-endHead">
            <h2 class="br-h2">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•</h2>
            <span class="br-tag" id="endGrade">‚Äî</span>
          </div>

          <div class="br-sumGrid">
            <div class="br-sumBox"><div class="k">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div><div class="v" id="sScore">0</div></div>
            <div class="br-sumBox"><div class="k">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥</div><div class="v" id="sAcc">0%</div></div>
            <div class="br-sumBox"><div class="k">Miss</div><div class="v" id="sMiss">0</div></div>
            <div class="br-sumBox"><div class="k">Combo ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</div><div class="v" id="sCombo">0</div></div>
            <div class="br-sumBox"><div class="k">Clean</div><div class="v" id="sClean">0%</div></div>
            <div class="br-sumBox"><div class="k">‡πÄ‡∏ß‡∏•‡∏≤</div><div class="v" id="sTime">0s</div></div>
          </div>

          <div class="br-reflect">
            <div class="br-help"><b>‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Ñ‡∏¥‡∏î</b>: ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å ‚Äú‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å‚Äù ‡πÄ‡∏õ‡πá‡∏ô‡∏¢‡∏±‡∏á‡πÑ‡∏á?</div>
            <div class="br-choices">
              <label class="br-choice"><input type="radio" name="feel" value="easy"> ‡∏á‡πà‡∏≤‡∏¢</label>
              <label class="br-choice"><input type="radio" name="feel" value="ok" checked> ‡∏û‡∏≠‡∏î‡∏µ</label>
              <label class="br-choice"><input type="radio" name="feel" value="hard"> ‡∏¢‡∏≤‡∏Å</label>
            </div>
          </div>

          <div class="br-row br-rowRight">
            <button class="br-btn br-ghost" id="btnRetry" type="button">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
            <a class="br-btn br-primary br-link" id="btnBackHub2" href="../hub.html">‡∏Å‡∏•‡∏±‡∏ö HUB</a>
          </div>

          <div class="br-note" id="endNote"></div>
        </div>
      </section>

      <div class="br-toast" id="toast"></div>
      <div class="br-fatal br-hidden" id="fatal"></div>
    </main>
  </div>

  <!-- Required: Universal VR UI (crosshair + enter/exit + recenter + hha:shoot) -->
  <script src="../vr/vr-ui.js?v=20260214a"></script>

  <!-- Optional: Fun Boost wave/fever feel (if you already have these in /herohealth/vr/) -->
  <script src="../vr/fun-boost.js?v=20260214a"></script>
  <script src="../vr/fun-boost.fx.js?v=20260214a"></script>

  <!-- Engine -->
  <script src="./brush.safe.js?v=20260214a"></script>
</body>
</html>