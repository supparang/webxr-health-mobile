<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>HeroHealth ‚Äî BrushVR</title>
  <meta name="color-scheme" content="dark light"/>
  <link rel="icon" href="../favicon.ico"/>

  <!-- ‚úÖ CSS -->
  <link rel="stylesheet" href="./brush.css?v=20260216b"/>

  <!-- ‚úÖ REQUIRED: A-Frame MUST load BEFORE <a-scene> markup -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
</head>

<body data-view="pc">
  <!-- fatal -->
  <div id="fatal" class="br-fatal br-hidden"></div>

  <!-- Tap-to-start overlay (mobile/vr unlock) -->
  <div id="tapStart" class="br-tap" style="display:none">
    <div class="br-tapCard">
      <div class="br-tapTitle">ü¶∑ BrushVR</div>
      <div class="br-tapSub">‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏° (‡∏õ‡∏•‡∏î‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á/‡∏ó‡∏±‡∏ä‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠)</div>
      <button id="tapBtn" class="br-btn br-primary" type="button">‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°</button>
    </div>
  </div>

  <!-- Minimal A-Frame scene for WebXR Enter VR reliability -->
  <a-scene
    embedded
    vr-mode-ui="enabled: false"
    renderer="colorManagement:true"
    background="color: #060a12">
    <a-entity position="0 1.6 -2">
      <a-sphere radius="0.18" color="#1f2937" opacity="0.45"></a-sphere>
      <a-ring radius-inner="0.25" radius-outer="0.27" color="#334155" opacity="0.35"></a-ring>
    </a-entity>
    <a-entity camera look-controls position="0 1.6 0"></a-entity>
  </a-scene>

  <div id="br-wrap" data-view="pc" data-state="menu">
    <!-- TOP HUD -->
    <header class="br-top">
      <div class="br-brand">
        <span class="br-pill">HeroHealth ¬∑ Hygiene</span>
        <h1 class="br-title">BrushVR ‚Äî Plaque Breaker</h1>
        <p class="br-sub">‡πÅ‡∏õ‡∏£‡∏á‡∏Ñ‡∏£‡∏≤‡∏ö‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô ¬∑ ‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤ = PERFECT ¬∑ ‡∏°‡∏µ‡∏ö‡∏≠‡∏™‡∏Ñ‡∏£‡∏≤‡∏ö‡∏´‡∏ô‡∏≤ üíé</p>
      </div>

      <div class="br-ctx">
        <div class="br-ctxrow"><span class="k">view</span><span id="br-ctx-view" class="v">-</span></div>
        <div class="br-ctxrow"><span class="k">seed</span><span id="br-ctx-seed" class="v">-</span></div>
        <div class="br-ctxrow"><span class="k">time</span><span id="br-ctx-time" class="v">-</span></div>
        <div class="br-ctxrow"><span class="k">diff</span><span id="br-diffTag" class="v">-</span></div>
      </div>
    </header>

    <!-- STAGE -->
    <main class="br-stage" role="application" aria-label="BrushVR game">
      <div id="br-layer" class="br-layer" aria-label="play layer"></div>

      <!-- ACTIONS -->
      <div class="br-actions">
        <button id="btnPause" class="br-btn br-ghost" type="button">Pause</button>
        <button id="btnHow" class="br-btn br-ghost" type="button">‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô</button>
        <button id="btnRecenter" class="br-btn br-ghost" type="button">Recenter</button>
      </div>

      <!-- HUD meters -->
      <section class="br-hud">
        <div class="br-hudGrid">
          <div class="br-box">
            <div class="row"><span class="k">Score</span><span class="v" id="tScore">0</span></div>
            <div class="row"><span class="k">Combo</span><span class="v" id="tCombo">0</span></div>
            <div class="row"><span class="k">Miss</span><span class="v" id="tMiss">0</span></div>
            <div class="row"><span class="k">Time</span><span class="v"><span id="tTime">0</span>s</span></div>
          </div>

          <div class="br-box">
            <div class="br-barLabel">
              <span class="k">Clean</span><span class="v" id="tClean">0%</span>
            </div>
            <div class="br-bar"><i id="bClean" class="fill good"></i></div>

            <div class="br-barLabel" style="margin-top:10px">
              <span class="k">Fever</span><span class="v" id="tFever">OFF</span>
            </div>
            <div class="br-bar"><i id="bFever" class="fill pink"></i></div>
          </div>

          <div class="br-mini">
            <div class="k">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</div>
            <div class="v">diff=<span id="mDiff">-</span> ¬∑ time=<span id="mTime">-</span></div>
            <div class="k" style="margin-top:6px">cVR</div>
            <div class="v">‡πÇ‡∏´‡∏°‡∏î view=cvr ‡∏¢‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏Å‡∏ö‡∏≤‡∏ó (vr-ui)</div>
          </div>
        </div>
      </section>
    </main>

    <!-- MENU -->
    <div id="br-menu" class="br-menu" aria-hidden="false">
      <div class="br-card">
        <div class="br-cardHead">
          <div class="br-cardTitle">ü™• ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÅ‡∏õ‡∏£‡∏á!</div>
          <div class="br-cardSub">‡πÅ‡∏ï‡∏∞/‡∏¢‡∏¥‡∏á ‚Äúü¶†‚Äù ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô ¬∑ ‡∏ö‡∏≠‡∏™ ‚Äúüíé‚Äù ‡∏ï‡πâ‡∏≠‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏Ñ‡∏£‡∏±‡πâ‡∏á</div>
        </div>

        <div class="br-cardList">
          <div class="item"><b>Perfect</b> = ‡πÅ‡∏ï‡∏∞‡∏ï‡∏≠‡∏ô ‚Äú‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤‚Äù ‡∏à‡∏∞‡πÑ‡∏î‡πâ‡πÇ‡∏ö‡∏ô‡∏±‡∏™</div>
          <div class="item"><b>Boss</b> = üíé ‡∏ï‡πâ‡∏≠‡∏á‡∏¢‡∏¥‡∏á/‡πÅ‡∏ï‡∏∞‡∏´‡∏•‡∏≤‡∏¢‡∏ó‡∏µ‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡∏Å</div>
          <div class="item"><b>‡∏ä‡∏ô‡∏∞</b> = Clean ‡∏ñ‡∏∂‡∏á 100%</div>
        </div>

        <div class="br-cardActions">
          <button id="btnStart" class="br-btn br-primary" type="button">‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
          <a id="btnBack" class="br-btn br-ghost br-link" href="../hub.html">üè∞ ‡∏Å‡∏•‡∏±‡∏ö HUB</a>
        </div>
      </div>
    </div>

    <!-- END SUMMARY -->
    <div id="br-end" class="br-end" hidden>
      <div class="br-endCard">
        <div class="br-endHead">
          <div class="br-endTitle">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•</div>
          <div class="br-endGrade">Grade: <b id="endGrade">C</b></div>
        </div>

        <div class="br-endGrid">
          <div class="box"><div class="k">Score</div><div class="v" id="sScore">0</div></div>
          <div class="box"><div class="k">Accuracy</div><div class="v" id="sAcc">0%</div></div>
          <div class="box"><div class="k">Miss</div><div class="v" id="sMiss">0</div></div>
          <div class="box"><div class="k">Max Combo</div><div class="v" id="sCombo">0</div></div>
          <div class="box"><div class="k">Clean</div><div class="v" id="sClean">0%</div></div>
          <div class="box"><div class="k">Time</div><div class="v" id="sTime">0s</div></div>
        </div>

        <div class="br-endNote" id="endNote">-</div>

        <div class="br-endActions">
          <button id="btnRetry" class="br-btn br-ghost" type="button">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
          <a id="btnBackHub2" class="br-btn br-primary br-link" href="../hub.html">‡∏Å‡∏•‡∏±‡∏ö HUB</a>
        </div>
      </div>
    </div>

    <div id="toast" class="br-toast"></div>
  </div>

  <!-- ‚úÖ Optional fun boost -->
  <script src="../vr/fun-boost.js"></script>
  <script src="../vr/fun-boost.fx.js"></script>

  <!-- ‚úÖ Universal VR UI -->
  <script src="../vr/vr-ui.js?v=20260216b"></script>

  <!-- ‚úÖ Engine & Boot -->
  <script src="./brush.safe.js?v=20260216b"></script>
  <script src="./brush.boot.js?v=20260216b"></script>
</body>
</html>