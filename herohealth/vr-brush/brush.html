<!-- === /herohealth/vr-brush/brush.html ===
BrushVR RUN ‚Äî PRODUCTION (HHA Standard-ish) ‚Äî v20260210a
‚úÖ Views: pc/mobile/vr/cvr (auto detect, NO override if ?view exists)
‚úÖ Tap-to-start gate (mobile/cvr)
‚úÖ Uses: ../vr/vr-ui.js => Enter VR/Exit/Recenter + crosshair + hha:shoot
‚úÖ Engine: ./brush.safe.js (window.BrushVR.boot)
‚úÖ Boot:   ./brush.boot.js  (starts engine + end overlay)
-->

<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>HeroHealth ‚Äî BrushVR</title>
  <meta name="color-scheme" content="dark light"/>
  <meta name="theme-color" content="#020617"/>
  <link rel="icon" href="../favicon.ico"/>

  <link rel="stylesheet" href="./brush.css"/>
</head>

<body data-view="pc" class="view-pc">
  <!-- ===== Tap-to-start overlay (mobile/cvr) ===== -->
  <div id="tapStart" class="tapStart" aria-hidden="false">
    <div class="tapCard">
      <div class="tapTitle">Tap to Start</div>
      <div class="tapSub">‡πÅ‡∏ï‡∏∞‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏° (‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠/‡∏Ñ‡∏≤‡∏£‡πå‡∏î‡∏ö‡∏≠‡∏£‡πå‡∏î)</div>
      <button class="tapBtn" id="tapBtn" type="button">START</button>
      <div class="tapHint">Tip: ‡πÇ‡∏´‡∏°‡∏î cVR ‡∏¢‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡πÄ‡∏õ‡πâ‡∏≤‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠ (crosshair)</div>
    </div>
  </div>

  <!-- ===== Minimal A-Frame scene (helps Enter VR reliability) =====
       NOTE: kept behind + invisible; we rely on vr-ui.js buttons -->
  <a-scene
    embedded
    vr-mode-ui="enabled: true"
    renderer="antialias: true; colorManagement: true; physicallyCorrectLights: false"
    style="position:fixed;inset:0;z-index:0;opacity:0.001;pointer-events:none;">
    <a-entity position="0 1.6 -1"></a-entity>
  </a-scene>

  <!-- ===== HUD (top) ===== -->
  <header class="hud">
    <section id="hud-timer" class="hudCard hudTimer">
      <div class="row">
        <div class="label">TIME</div>
        <div id="tLeft" class="value">00:00</div>
      </div>
      <div class="bar"><div id="tFill" class="fill"></div></div>
      <div id="tPhase" class="sub">INTRO</div>
    </section>

    <section id="hud-combo" class="hudCard hudCombo">
      <div class="row">
        <div class="label">COMBO</div>
        <div class="value"><span id="cCombo">0</span></div>
      </div>
      <div class="sub">Multiplier <span id="cMul">x1.0</span></div>
      <div class="miniHint">BANK ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡πÅ‡∏•‡∏Å UV/Shield</div>
    </section>

    <section id="hud-coverage" class="hudCard hudCoverage">
      <div class="row">
        <div class="label">COVERAGE</div>
        <div class="value">4 Zones</div>
      </div>
      <div class="grid">
        <div id="cov-q1" class="cell"><div class="k">Q1</div><div class="p">0%</div></div>
        <div id="cov-q2" class="cell"><div class="k">Q2</div><div class="p">0%</div></div>
        <div id="cov-q3" class="cell"><div class="k">Q3</div><div class="p">0%</div></div>
        <div id="cov-q4" class="cell"><div class="k">Q4</div><div class="p">0%</div></div>
      </div>
      <div class="sub">‡∏ú‡πà‡∏≤‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏Ñ‡∏£‡∏ö ‚â• 80% + ‡∏≠‡∏¢‡∏π‡πà‡πÇ‡∏ã‡∏ô‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥</div>
    </section>
  </header>

  <!-- ===== HUD (floating) ===== -->
  <aside class="hudFloat">
    <section id="hud-boss" class="hudCard hudBoss" data-on="0">
      <div class="row">
        <div class="label">BOSS</div>
        <div id="bPhase" class="value">Phase 1/4</div>
      </div>
      <div class="bar"><div id="bFill" class="fill"></div></div>
      <div class="sub">Phase 3‚Äì4 ‡∏°‡∏µ Weak Spot üéØ</div>
    </section>

    <section id="hud-uv" class="hudCard hudUV" data-on="0">
      <div class="row">
        <div class="label">UV</div>
        <button id="uvBtn" class="uvBtn" type="button">UV</button>
      </div>
      <div id="uvEnergy" class="dots">
        <span class="dot"></span><span class="dot"></span><span class="dot"></span>
      </div>
      <div id="uvSub" class="sub">Reveal stealth plaque</div>
    </section>

    <section id="hud-toast" class="toast" data-on="0">
      <div id="toastT" class="toastT">‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</div>
      <div id="toastS" class="toastS">‚Ä¶</div>
    </section>
  </aside>

  <!-- ===== DOM90 play layer ===== -->
  <main id="playLayer" class="playLayer" aria-label="play"></main>

  <!-- ===== VR UI aim tuning ===== -->
  <script>
    // Important: must be set BEFORE vr-ui.js loads
    // lockPx = ‡∏£‡∏∞‡∏¢‡∏∞‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏õ‡πâ‡∏≤‡∏à‡∏≤‡∏Å‡∏à‡∏∏‡∏î‡∏¢‡∏¥‡∏á (crosshair / tap)
    window.HHA_VRUI_CONFIG = { lockPx: 30, cooldownMs: 90 };
  </script>

  <!-- ===== Universal VR UI (ENTER VR/EXIT/RECENTER + crosshair + hha:shoot) ===== -->
  <script src="../vr/vr-ui.js"></script>

  <!-- ===== A-Frame (optional): load after vr-ui (to avoid blocking) ===== -->
  <script defer src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  <!-- ===== Engine then Boot (ORDER MUST BE THIS) ===== -->
  <script src="./brush.safe.js"></script>
  <script src="./brush.boot.js"></script>
</body>
</html>