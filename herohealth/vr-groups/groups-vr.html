<!-- === /herohealth/vr-groups/groups-vr.html ===
GroupsVR RUN ‚Äî PRODUCTION (NO LAUNCHER)
‚úÖ Auto-detect view (pc/mobile/vr/cvr) ‚Äî does NOT rely on ?view override
‚úÖ Uses: ./groups-vr.css (D) + ./groups.safe.js (B)
‚úÖ Uses: ../vr/vr-ui.js (EnterVR/Exit/Recenter + crosshair + hha:shoot)
‚úÖ Uses: ../vr/particles.js + ../vr/hha-cloud-logger.js
‚úÖ Practice 15s in cVR then auto start real run (runMode=play) using same seed
‚úÖ End overlay shows Score/Rank/Acc/Miss split
-->
<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>HeroHealth ‚Äî Food Groups VR</title>
  <meta name="color-scheme" content="dark" />
  <link rel="icon" href="../favicon.ico" type="image/x-icon" />

  <!-- A-Frame: minimal scene for reliable Enter VR -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  <link rel="stylesheet" href="./groups-vr.css" />

  <!-- Global FX + Logger + Universal VR UI -->
  <script src="../vr/particles.js" defer></script>
  <script src="../vr/hha-cloud-logger.js" defer></script>
  <script src="../vr/vr-ui.js" defer></script>

  <!-- Engine (B) + Boot (C) -->
  <script src="./groups.safe.js" defer></script>
  <script src="./groups-vr.boot.js" defer></script>
</head>

<body class="view-mobile">
  <!-- Minimal XR scene behind DOM (Enter VR needs a-scene) -->
  <a-scene class="xr-scene" embedded vr-mode-ui="enabled:false" renderer="antialias:true; colorManagement:true">
    <a-entity camera position="0 1.6 0"></a-entity>
  </a-scene>

  <!-- HUD -->
  <div class="hud" aria-hidden="false">
    <div class="hudLeft">
      <div class="pill"><span class="lbl">TIME</span><span class="val" id="hudTime">‚Äî</span></div>
      <div class="pill"><span class="lbl">SCORE</span><span class="val" id="hudScore">0</span></div>
      <div class="pill"><span class="lbl">COMBO</span><span class="val" id="hudCombo">0</span></div>
    </div>
    <div class="hudRight">
      <div class="pill"><span class="lbl">MISS</span><span class="val" id="hudMiss">0</span></div>
      <div class="pill"><span class="lbl">ACC</span><span class="val" id="hudAcc">0%</span></div>
      <div class="pill"><span class="lbl">RANK</span><span class="val" id="hudRank">‚Äî</span></div>
    </div>
  </div>

  <!-- Quest -->
  <div class="questTop" aria-hidden="false">
    <div class="questCard">
      <div class="qTitle">
        <div id="goalTitle">‚Äî</div>
        <div class="tag"><span id="goalNow">0</span>/<span id="goalTotal">0</span></div>
      </div>
      <div class="bar"><div class="fill" id="goalFill"></div></div>
      <div class="qSub" id="goalSub">‚Äî</div>
    </div>

    <div class="questCard">
      <div class="qTitle">
        <div id="miniTitle">‚Äî</div>
        <div class="tag"><span id="miniNow">0</span>/<span id="miniTotal">0</span></div>
      </div>
      <div class="bar"><div class="fill" id="miniFill"></div></div>
      <div class="qSub"><span id="miniSub">‚Äî</span> <span id="miniTimer"></span></div>
    </div>
  </div>

  <!-- Coach -->
  <div class="coachWrap" aria-hidden="false">
    <div class="coachCard">
      <img class="coachImg" id="coachImg" src="../img/coach-neutral.png" alt="coach" />
      <div class="coachBubble">
        <div class="coachName">HERO COACH</div>
        <div class="coachText" id="coachText">‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÅ‡∏•‡πâ‡∏ß! üéØ</div>
      </div>
    </div>
  </div>

  <!-- Play Layer -->
  <div class="playLayer" id="playLayer" aria-hidden="false"></div>

  <!-- Power -->
  <div class="powerWrap" aria-hidden="false">
    <div class="powerCard">
      <div class="pHead">POWER ‚Äî SWITCH GROUP</div>
      <div class="bar powerBar"><div class="fill" id="powerFill"></div></div>
      <div class="pFoot"><span id="powerNow">0</span>/<span id="powerThr">0</span> ‚Ä¢ ‡∏™‡∏∞‡∏™‡∏°‡πÉ‡∏´‡πâ‡πÄ‡∏ï‡πá‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠ ‚Äú‡∏™‡∏•‡∏±‡∏ö‡∏´‡∏°‡∏π‡πà‚Äù</div>
    </div>
  </div>

  <!-- End Overlay -->
  <div class="overlay hidden" id="endOverlay" aria-hidden="true">
    <div class="panel">
      <div class="title">‡∏à‡∏ö‡πÄ‡∏Å‡∏°‡πÅ‡∏•‡πâ‡∏ß üèÅ</div>
      <div class="sub" id="endSub">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</div>

      <div class="grid2">
        <div class="stat"><div class="k">SCORE</div><div class="v" id="endScore">0</div></div>
        <div class="stat"><div class="k">RANK</div><div class="v" id="endRank">‚Äî</div></div>
        <div class="stat"><div class="k">ACCURACY</div><div class="v" id="endAcc">0%</div></div>
        <div class="stat"><div class="k">MISS (TOTAL)</div><div class="v" id="endMiss">0</div></div>
      </div>

      <div class="grid2" style="margin-top:10px;">
        <div class="stat"><div class="k">MISS AIM</div><div class="v" id="endMissAim">0</div></div>
        <div class="stat"><div class="k">MISS MISTAKE</div><div class="v" id="endMissMist">0</div></div>
      </div>

      <div class="row row2">
        <button class="btn btn-ghost" id="btnBack">‡∏Å‡∏•‡∏±‡∏ö HUB</button>
        <button class="btn btn-strong" id="btnRestart">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
      </div>

      <div class="note" id="endNote">Tip: Aim miss = ‡∏¢‡∏¥‡∏á‡∏ß‡∏∑‡∏î / Mistake = ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏¥‡∏î‡∏´‡∏°‡∏π‡πà‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏î‡∏ô‡∏Ç‡∏¢‡∏∞</div>
    </div>
  </div>
</body>
</html>