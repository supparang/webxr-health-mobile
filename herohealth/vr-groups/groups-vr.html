<!-- === /herohealth/vr-groups/groups-vr.html ===
Food Groups VR ‚Äî PRODUCTION HTML
‚úÖ HUD ‡∏≠‡∏¢‡∏π‡πà‡πÄ‡∏´‡∏ô‡∏∑‡∏≠ gameplay
‚úÖ fg-layer ‡∏£‡∏≠‡∏á‡∏£‡∏±‡∏ö VR feel translate (--vx/--vy)
‚úÖ Start/Result overlays
‚úÖ A-Frame embedded ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏°‡∏µ‡∏õ‡∏∏‡πà‡∏° Enter VR (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á HUD)
‚úÖ ‡πÇ‡∏´‡∏•‡∏î: audio.js -> particles.js -> hha-cloud-logger.js -> css -> GameEngine.js -> boot.js
-->

<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>HeroHealth ‚Äî Food Groups VR</title>
  <meta name="color-scheme" content="dark" />
  <link rel="icon" href="../favicon.ico" type="image/x-icon" />

  <!-- A-Frame (‡πÉ‡∏ä‡πâ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏õ‡∏∏‡πà‡∏° Enter VR + sky feel ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô) -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  <!-- Global FX + logger (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) -->
  <script src="../vr/audio.js" defer></script> <!-- (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå‡∏Å‡∏•‡∏≤‡∏á) ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡πá‡∏•‡∏ö‡πÑ‡∏î‡πâ -->
  <script src="./audio.js" defer></script>
  <script src="../vr/particles.js" defer></script>
  <script src="../vr/hha-cloud-logger.js" defer></script>

  <!-- CSS -->
  <link rel="stylesheet" href="./groups-vr.css" />

  <style>
    /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏à‡∏∏‡∏î‡πÅ‡∏™‡∏î‡∏á‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏Ñ‡πâ‡∏ä‡πÄ‡∏•‡πá‡∏Å ‡πÜ ‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á */
    .coach-strip{
      position:fixed;
      left:calc(10px + var(--sal));
      right:calc(10px + var(--sar));
      bottom:calc(12px + var(--sab));
      z-index:9;
      display:flex;
      gap:10px;
      align-items:center;
      padding:10px 12px;
      border-radius:18px;
      background:rgba(2,6,23,.64);
      border:1px solid rgba(148,163,184,.18);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow:0 18px 60px rgba(0,0,0,.42);
      pointer-events:none;
    }
    .coach-emoji{
      width:36px;height:36px;
      display:grid;place-items:center;
      border-radius:12px;
      background:rgba(34,211,238,.10);
      border:1px solid rgba(34,211,238,.20);
      font-size:20px;
      flex:0 0 auto;
    }
    .coach-text{
      font-weight:900;
      font-size:13px;
      line-height:1.25;
      opacity:.96;
      overflow:hidden;
      text-overflow:ellipsis;
      white-space:nowrap;
    }

    /* Result grid */
    .result-grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
      margin-top:10px;
    }
    .result-item{
      background:rgba(2,6,23,.40);
      border:1px solid rgba(148,163,184,.18);
      border-radius:16px;
      padding:10px;
      display:flex;
      justify-content:space-between;
      gap:10px;
      font-weight:900;
    }
    .result-item span:last-child{ color:var(--muted); font-weight:1000; }

    .top-exit{
      position:fixed;
      right:calc(10px + var(--sar));
      top:calc(10px + var(--sat));
      z-index:10;
      display:flex;
      gap:8px;
      pointer-events:auto;
    }
    .mini-btn{
      padding:10px 12px;
      border-radius:14px;
      border:1px solid rgba(148,163,184,.22);
      background:rgba(2,6,23,.55);
      color:var(--text);
      font-weight:1000;
      cursor:pointer;
    }
    .mini-btn:active{ transform: translateY(1px); }
  </style>
</head>

<body>

  <!-- A-Frame scene ‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏°‡∏µ VR button -->
  <a-scene embedded vr-mode-ui="enabled: true" renderer="antialias: true; colorManagement: true">
    <a-entity position="0 1.6 0">
      <a-camera wasd-controls-enabled="false" look-controls-enabled="true"></a-camera>
    </a-entity>
    <a-sky color="#020617"></a-sky>
  </a-scene>

  <!-- Gameplay layer (DOM targets) -->
  <div class="fg-layer" id="fg-layer" aria-label="gameplay layer"></div>

  <!-- HUD -->
  <div class="hud-top">
    <!-- Left -->
    <div class="hud-card hud-left">
      <div class="hud-row"><div class="hud-title">SCORE</div><div class="hud-val" id="hudScore">0</div></div>
      <div class="hud-row"><div class="hud-title">COMBO</div><div class="hud-val" id="hudCombo">0</div></div>
      <div class="hud-row"><div class="hud-title">MISS</div><div class="hud-val" id="hudMiss">0</div></div>
      <div class="hud-row"><div class="hud-title">FEVER</div><div class="hud-val" id="hudFever">0%</div></div>
      <div class="hud-row"><div class="hud-title">SHIELD</div><div class="hud-val" id="hudShield">0</div></div>
    </div>

    <!-- Mid -->
    <div class="hud-card hud-mid">
      <div class="hud-group-row">
        <div class="hud-group" id="hudGroup">‡∏´‡∏°‡∏π‡πà 1</div>
        <div class="hud-timer" id="hudTimer">90s</div>
      </div>

      <div class="power-wrap">
        <div class="power-label">
          <span>POWER (Swap)</span>
          <span id="hudPowerText">0/8</span>
        </div>
        <div class="power-bar">
          <div class="power-fill" id="hudPowerFill" style="width:0%"></div>
        </div>
      </div>

      <div class="quest-wrap">
        <!-- Goal -->
        <div class="quest-line" id="hud-goal-line">
          <div class="q-badge">GOAL</div>
          <div class="q-text" id="hudGoalText">‡∏™‡∏•‡∏±‡∏ö‡∏´‡∏°‡∏π‡πà‡πÉ‡∏´‡πâ‡πÑ‡∏ß + ‡∏≠‡∏¢‡πà‡∏≤‡πÇ‡∏î‡∏ô‡∏Ç‡∏¢‡∏∞!</div>
          <div class="q-num" id="hudGoalNum">‚Äî</div>
        </div>
        <div class="qbar">
          <div class="qbar-track"><div class="qbar-fill goal" id="hudGoalBar" style="width:0%"></div></div>
          <div class="qbar-timer" id="hudGoalTimer"></div>
        </div>

        <!-- Mini -->
        <div class="quest-line" id="hud-mini-line">
          <div class="q-badge mini">MINI</div>
          <div class="q-text" id="hudMiniText">‚Äî</div>
          <div class="q-num" id="hudMiniNum">‚Äî</div>
        </div>
        <div class="qbar">
          <div class="qbar-track"><div class="qbar-fill mini" id="hudMiniBar" style="width:0%"></div></div>
          <div class="qbar-timer" id="hudMiniTimer"></div>
        </div>
      </div>
    </div>

    <!-- Right -->
    <div class="hud-card hud-right">
      <div class="rank-box">
        <div>
          <div class="rank-title">RANK</div>
          <div class="rank-sub">
            <span>ACC</span><span id="hudAcc">0%</span>
          </div>
        </div>
        <div class="rank-grade" id="hudGrade">C</div>
      </div>
      <div class="rank-sub" style="margin-top:10px">
        <span>AVG RT</span><span id="hudRt">‚Äî</span>
      </div>
    </div>
  </div>

  <!-- Quick exit -->
  <div class="top-exit">
    <button class="mini-btn" id="btnRestart">üîÅ Restart</button>
    <button class="mini-btn" id="btnBackHub">üè† HUB</button>
  </div>

  <!-- Coach strip -->
  <div class="coach-strip" id="coachStrip">
    <div class="coach-emoji" id="coachEmoji">üé∂</div>
    <div class="coach-text" id="coachText">‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏´‡∏•‡∏±‡∏Å 5 ‡∏´‡∏°‡∏π‡πà‡∏Ç‡∏≠‡∏á‡πÑ‡∏ó‡∏¢ ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏ô‡∏à‡∏≥‡πÑ‡∏ß‡πâ‡∏≠‡∏¢‡πà‡∏≤‡πÑ‡∏î‡πâ‡πÅ‡∏õ‡∏•‡∏ú‡∏±‡∏ô</div>
  </div>

  <!-- Start overlay -->
  <div class="start-overlay" id="startOverlay">
    <div class="start-card">
      <h1 class="start-title">Food Groups VR ‚Äî ‡πÄ‡∏Å‡∏° 5 ‡∏´‡∏°‡∏π‡πà üéµ</h1>
      <p class="start-sub">
        ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢: ‡πÄ‡∏Å‡πá‡∏ö ‚Äú‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ñ‡∏π‡∏Å‡∏´‡∏°‡∏π‡πà‚Äù ‡πÉ‡∏´‡πâ‡πÑ‡∏ß ‡∏™‡∏•‡∏±‡∏ö‡∏´‡∏°‡∏π‡πà‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô ‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏ö‡∏Ç‡∏¢‡∏∞!<br/>
        ‡∏°‡∏µ Storm, Boss, Star Power ‡πÅ‡∏•‡∏∞ Mini ‚ÄúNo-Junk Zone‚Äù ‡πÅ‡∏ö‡∏ö‡πÇ‡∏´‡∏î‡∏à‡∏£‡∏¥‡∏á üòà
      </p>

      <div class="start-grid">
        <div class="pill">‡∏•‡∏≤‡∏Å/‡πÄ‡∏≠‡∏µ‡∏¢‡∏á‡∏à‡∏≠ = VR feel</div>
        <div class="pill">Star = x2 + Magnet + Shield</div>
        <div class="pill">Ice = Freeze</div>
        <div class="pill">Boss = ‡∏Å‡∏î‡πÉ‡∏´‡πâ HP ‡∏´‡∏°‡∏î</div>
      </div>

      <div class="start-actions">
        <button class="btn primary" id="btnStart2D">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô (2D)</button>
        <button class="btn ghost" id="btnStartVR">‡πÄ‡∏£‡∏¥‡πà‡∏° + ‡πÄ‡∏Ç‡πâ‡∏≤ VR</button>
      </div>

      <div class="start-note">
        Tip: ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ Seed ‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏à‡∏±‡∏¢ ‡πÉ‡∏™‡πà‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå <b>?seed=xxx</b>
      </div>
    </div>
  </div>

  <!-- Result overlay -->
  <div class="result-overlay" id="resultOverlay">
    <div class="result-card">
      <h2 class="start-title" style="margin-bottom:8px;">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏• üéâ</h2>
      <p class="start-sub" id="resultTitle">‚Äî</p>

      <div class="result-grid">
        <div class="result-item"><span>Grade</span><span id="rGrade">‚Äî</span></div>
        <div class="result-item"><span>Accuracy</span><span id="rAcc">‚Äî</span></div>
        <div class="result-item"><span>Score</span><span id="rScore">‚Äî</span></div>
        <div class="result-item"><span>Combo Max</span><span id="rCombo">‚Äî</span></div>
        <div class="result-item"><span>Miss</span><span id="rMiss">‚Äî</span></div>
        <div class="result-item"><span>Junk Error</span><span id="rJunk">‚Äî</span></div>
        <div class="result-item"><span>Avg RT</span><span id="rAvgRt">‚Äî</span></div>
        <div class="result-item"><span>Median RT</span><span id="rMedRt">‚Äî</span></div>
      </div>

      <div class="result-actions">
        <button class="btn primary" id="btnPlayAgain">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
        <button class="btn ghost" id="btnBackHub2">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤ HUB</button>
      </div>
    </div>
  </div>

  <!-- Engine -->
  <script src="./GameEngine.js" defer></script>
  <script type="module" src="./groups-vr.boot.js"></script>
</body>
</html>