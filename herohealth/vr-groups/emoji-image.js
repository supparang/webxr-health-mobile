// vr-groups/emoji-image.js
// ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• "‡∏´‡∏°‡∏π‡πà 1‚Äì5" ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Food Groups VR (‡∏´‡∏°‡∏π‡πà‡∏•‡∏∞ ~5 ‡πÄ‡∏°‡∏ô‡∏π)

(function (ns) {
  'use strict';

  ns = ns || (window.GAME_MODULES = window.GAME_MODULES || {});

  // ===== ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏´‡∏°‡∏π‡πà‡∏´‡∏•‡∏±‡∏Å + ‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏°‡∏π‡πà =====
  const GROUP_TYPES = [
    {
      id: 1,
      label: '‡∏´‡∏°‡∏π‡πà 1 ‡∏Ç‡πâ‡∏≤‡∏ß-‡πÅ‡∏õ‡πâ‡∏á',
      color: '#22c55e',
      emojis: ['üçö','üçô','üçû','ü•ñ','ü•®'] // ‡∏Ç‡πâ‡∏≤‡∏ß ‡∏õ‡∏±‡πâ‡∏ô‡∏Ç‡πâ‡∏≤‡∏ß ‡∏Ç‡∏ô‡∏°‡∏õ‡∏±‡∏á ‡∏Ø‡∏•‡∏Ø
    },
    {
      id: 2,
      label: '‡∏´‡∏°‡∏π‡πà 2 ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠-‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô',
      color: '#eab308',
      emojis: ['üçó','ü•ö','ü•©','üç£','ü•ú'] // ‡πÑ‡∏Å‡πà ‡πÑ‡∏Ç‡πà ‡πÄ‡∏ô‡∏∑‡πâ‡∏≠ ‡∏õ‡∏•‡∏≤ ‡∏ñ‡∏±‡πà‡∏ß
    },
    {
      id: 3,
      label: '‡∏´‡∏°‡∏π‡πà 3 ‡∏ú‡∏±‡∏Å',
      color: '#16a34a',
      emojis: ['ü•¶','ü•ï','ü•í','üßÑ','üßÖ']
    },
    {
      id: 4,
      label: '‡∏´‡∏°‡∏π‡πà 4 ‡∏ú‡∏•‡πÑ‡∏°‡πâ',
      color: '#f97316',
      emojis: ['üçé','üçå','üçâ','üçá','üçì']
    },
    {
      id: 5,
      label: '‡∏´‡∏°‡∏π‡πà 5 ‡∏ô‡∏°-‡∏ú‡∏•‡∏¥‡∏ï‡∏†‡∏±‡∏ì‡∏ë‡πå‡∏ô‡∏°',
      color: '#38bdf8',
      emojis: ['ü•õ','üßÄ','üç¶','üç®','üçß']
    }
  ];

  // ===== ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡πâ‡∏≤‡∏¢‡πà‡∏≠‡∏¢ (‡πÅ‡∏ï‡πà‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ id ‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏°‡∏π‡πà 1‚Äì5) =====
  const GROUPS = [];
  GROUP_TYPES.forEach(gt => {
    gt.emojis.forEach(em => {
      GROUPS.push({
        id: gt.id,
        label: gt.label,
        emoji: em,
        color: gt.color,
        img: ''   // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ sprite PNG ‡∏Ñ‡πà‡∏≠‡∏¢‡∏°‡∏≤‡πÉ‡∏™‡πà‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á
      });
    });
  });

  // ===== ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡∏∏‡πà‡∏° / ‡∏î‡∏∂‡∏á‡∏ï‡∏≤‡∏°‡∏´‡∏°‡∏π‡πà =====
  function pickRandomGroup() {
    if (!GROUPS.length) return null;
    const idx = Math.floor(Math.random() * GROUPS.length);
    return GROUPS[idx];
  }

  // ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÑ‡∏î‡πâ ‚Äú‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏°‡∏π‡πà‚Äù ‡∏ï‡∏≤‡∏° id (‡πÄ‡∏ä‡πà‡∏ô ‡∏à‡∏∞‡πÉ‡∏ä‡πâ label ‡πÄ‡∏â‡∏¢ ‡πÜ)
  function getGroupTypeById(id) {
    id = parseInt(id, 10);
    return GROUP_TYPES.find(g => g.id === id) || null;
  }

  // export ‡πÄ‡∏Ç‡πâ‡∏≤ namespace
  ns.foodGroupsEmoji = {
    all: GROUPS,            // ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡πâ‡∏≤‡∏¢‡πà‡∏≠‡∏¢‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    types: GROUP_TYPES,     // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏´‡∏°‡∏π‡πà‡∏´‡∏•‡∏±‡∏Å
    pickRandomGroup,
    getGroupTypeById
  };

})(window.GAME_MODULES || (window.GAME_MODULES = {}));
