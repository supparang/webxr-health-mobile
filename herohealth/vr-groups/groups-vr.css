/* ======================
   PACK X + Y ADD-ONS
   ====================== */

/* zone vibe */
body.groups-zone-on .fg-layer::before{
  opacity: calc(var(--nojunk-on, 0) * 0.28);
  border: 2px dashed rgba(34,211,238,.40);
  box-shadow: 0 0 0 2px rgba(34,197,94,.14) inset;
}
body.groups-zone-urgent .fg-layer::before{
  animation: zonePulse .22s ease-in-out infinite;
  border-color: rgba(239,68,68,.55);
}
@keyframes zonePulse{
  0%,100%{ filter: drop-shadow(0 10px 26px rgba(239,68,68,.10)); }
  50%{ filter: drop-shadow(0 14px 34px rgba(239,68,68,.22)); }
}

/* reward styles */
.fg-target.fg-reward{
  border-color: rgba(255,255,255,.92);
  box-shadow:
    0 0 0 2px rgba(34,211,238,.18) inset,
    0 18px 36px rgba(0,0,0,.42),
    0 0 22px rgba(34,211,238,.18);
  animation: rewardPop .20s ease-out both, fgFloat 1.05s ease-in-out .20s infinite;
}
@keyframes rewardPop{
  from{ transform: translate(-50%,-50%) scale(calc(var(--s,1)*0.70)); opacity:0; }
  to  { transform: translate(-50%,-50%) scale(var(--s,1)); opacity:1; }
}
.fg-star{  background: linear-gradient(135deg, rgba(250,204,21,.36), rgba(34,211,238,.20)); }
.fg-ice{   background: linear-gradient(135deg, rgba(34,211,238,.26), rgba(148,163,184,.18)); }
.fg-diamond{ background: linear-gradient(135deg, rgba(167,139,250,.26), rgba(34,197,94,.20)); }

/* boss teleport flash */
.fg-boss.fg-boss-teleport{
  animation: bossBlink .18s ease-out both;
}
@keyframes bossBlink{
  0%{ filter: brightness(1.0); transform: translate(-50%,-50%) scale(var(--s,1)); opacity:1; }
  40%{ filter: brightness(1.4); transform: translate(-50%,-50%) scale(calc(var(--s,1)*1.05)); opacity:.55; }
  100%{ filter: brightness(1.0); transform: translate(-50%,-50%) scale(var(--s,1)); opacity:1; }
}

/* freeze/overdrive body vibes */
body.groups-freeze .fg-target{
  filter: saturate(.92) contrast(1.02);
}
body.groups-freeze .hud-top,
body.groups-freeze .hudTop{
  filter: hue-rotate(8deg) brightness(1.05);
}
body.groups-overdrive .fg-target{
  box-shadow:
    0 18px 36px rgba(0,0,0,.42),
    0 0 26px rgba(34,211,238,.20);
}

/* ======================
   Crosshair + Dwell (optional)
   (ถ้า run html มี crosshair element)
   ====================== */
.crosshair{
  position:fixed;
  left:50%; top:50%;
  transform: translate(-50%,-50%);
  z-index: 65;
  pointer-events:none;
  width:74px; height:74px;
  display:grid; place-items:center;
  opacity:.90;
}
.chRing{
  position:absolute; inset:0;
  border-radius:999px;
  border:2px solid rgba(148,163,184,.24);
  box-shadow: 0 0 0 2px rgba(2,6,23,.40) inset;
}
.chRing::after{
  content:"";
  position:absolute; inset:6px;
  border-radius:999px;
  border:3px solid rgba(34,211,238,.0);
  border-top-color: rgba(34,211,238,.92);
  border-right-color: rgba(34,197,94,.70);
  transform: rotate(calc(360deg * var(--p, 0)));
  opacity: clamp(0, var(--p,0), 1);
}
.chDot{
  width:8px; height:8px;
  border-radius:999px;
  background:rgba(226,232,240,.95);
  box-shadow: 0 0 12px rgba(34,211,238,.22);
}
.chLabel{
  position:absolute;
  bottom:-18px;
  font-size:10px;
  font-weight:900;
  color:rgba(148,163,184,.95);
  letter-spacing:.4px;
}

/* aim lock / urgent shake */
body.aim-lock .crosshair{ opacity: 1; }
body.dwell-urgent .crosshair{ animation: dwellPulse .14s ease-in-out infinite; }
@keyframes dwellPulse{
  0%,100%{ transform: translate(-50%,-50%) scale(1.00); }
  50%{ transform: translate(-50%,-50%) scale(1.03); }
}
body.dwell-urgent{
  animation: screenShake .12s ease-in-out infinite;
}
@keyframes screenShake{
  0%,100%{ transform: translate(0,0); }
  25%{ transform: translate(0.6px,-0.5px); }
  50%{ transform: translate(-0.6px,0.4px); }
  75%{ transform: translate(0.4px,0.6px); }
}