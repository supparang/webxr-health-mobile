/* (คงเดิมทั้งหมดจากเวอร์ชันก่อน) */

/* ===== ADD: Lock Ring ===== */
.lock-ring{
  position:fixed;
  left:50%;
  top:50%;
  width:96px;
  height:96px;
  transform:translate(-50%,-50%);
  z-index:25;
  pointer-events:none;
  opacity:0;
  filter: drop-shadow(0 10px 28px rgba(0,0,0,.35));
  transition: opacity 140ms ease-out, transform 140ms ease-out;
}
.lock-ring.on{
  opacity:1;
  transform:translate(-50%,-50%) scale(1.02);
}
.lock-ring .ring{
  width:100%;
  height:100%;
  transform: rotate(-90deg);
}
.lock-ring circle{
  fill: none;
  stroke-linecap: round;
}
.lock-ring .track{ stroke: rgba(148,163,184,.18); stroke-width: 8; }
.lock-ring .prog{ stroke: rgba(34,197,94,.75); stroke-width: 8; }

.lock-ring .track2{ stroke: rgba(148,163,184,.14); stroke-width: 6; }
.lock-ring .prog2{ stroke: rgba(250,204,21,.80); stroke-width: 6; }

.lock-label{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  font-size:11px;
  font-weight:1000;
  letter-spacing:.6px;
  color: rgba(226,232,240,.95);
  text-shadow: 0 10px 24px rgba(0,0,0,.55);
}

/* ===== ADD: Panic FX (Rush window low time) ===== */
.fg-root.panic{
  animation: panicShake 260ms ease-in-out infinite;
}
.fg-root.panic::after{
  content:'';
  position:fixed; inset:0;
  pointer-events:none;
  background: radial-gradient(900px 700px at 50% 55%, rgba(245,158,11,.10), rgba(239,68,68,.06), rgba(2,6,23,0) 60%);
  opacity:.55;
  animation: panicFlash 520ms ease-in-out infinite;
  z-index:12;
}

@keyframes panicShake{
  0%{ transform: translate3d(0,0,0); }
  25%{ transform: translate3d(0.6px,-0.3px,0); }
  50%{ transform: translate3d(-0.5px,0.4px,0); }
  75%{ transform: translate3d(0.4px,0.3px,0); }
  100%{ transform: translate3d(0,0,0); }
}
@keyframes panicFlash{
  0%,100%{ opacity:.35; }
  50%{ opacity:.65; }
}
