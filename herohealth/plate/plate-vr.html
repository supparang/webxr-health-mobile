<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>HeroHealth ‚Äî PlateVR</title>
  <meta name="color-scheme" content="dark light"/>
  <meta name="theme-color" content="#020617"/>
  <link rel="icon" href="../favicon.ico"/>

  <!-- UI/CSS -->
  <link rel="stylesheet" href="./plate-vr.css"/>

  <!-- Universal VR UI (ENTER VR/EXIT/RECENTER + crosshair + hha:shoot) -->
  <script src="../vr/vr-ui.js"></script>
</head>
<body>
  <div id="app">

    <!-- Optional FX layers -->
    <div id="bossFx"></div>
    <div id="stormFx"></div>

    <!-- Playfield (targets spawn inside, but positioned fixed by CSS) -->
    <div id="plate-layer" aria-label="Plate playfield"></div>

    <!-- HUD -->
    <section id="hud" aria-label="HUD">
      <div class="hudRow">
        <div class="chip score">
          <div class="lbl">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
          <div class="val" id="hudScore">0</div>
        </div>
        <div class="chip time">
          <div class="lbl">‡πÄ‡∏ß‡∏•‡∏≤</div>
          <div class="val" id="hudTime">0</div>
        </div>
        <div class="chip combo">
          <div class="lbl">‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö</div>
          <div class="val" id="hudCombo">0</div>
        </div>
      </div>

      <div class="card" aria-label="Quests">
        <div class="cardTitle">
          <div class="t">‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à</div>
          <div class="hint">‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö 5 ‡∏´‡∏°‡∏π‡πà + ‡∏Ñ‡∏∏‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô</div>
        </div>

        <div class="qItem">
          <div class="qText">
            <div class="name" id="goalName">Goal</div>
            <div class="sub" id="goalSub">‚Äî</div>
          </div>
          <div class="qProg">
            <div class="qNums" id="goalNums">0/0</div>
            <div class="bar"><i id="goalBar"></i></div>
          </div>
        </div>

        <div class="qItem">
          <div class="qText">
            <div class="name" id="miniName">Mini</div>
            <div class="sub" id="miniSub">‚Äî</div>
          </div>
          <div class="qProg">
            <div class="qNums" id="miniNums">0/0</div>
            <div class="bar"><i id="miniBar"></i></div>
          </div>
        </div>
      </div>
    </section>

    <!-- Coach bubble -->
    <div id="coachCard" aria-hidden="true">
      <div class="inner">
        <div id="coachMsg">‚Äî</div>
        <div id="coachMeta">Coach</div>
      </div>
    </div>

    <!-- End Overlay -->
    <section id="endOverlay" aria-hidden="true">
      <div class="endPanel" role="dialog" aria-label="‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•">
        <div class="endTitle">
          <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•</h2>
          <div class="tag">
            <span>PlateVR</span>
            <span id="badgePill" style="margin-left:10px; display:none;"></span>
          </div>
        </div>

        <!-- KPI grid -->
        <div class="endGrid" aria-label="KPI">
          <div class="kpi"><div class="k">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div><div class="v" id="kScore">0</div></div>
          <div class="kpi"><div class="k">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô</div><div class="v" id="kAcc">‚Äî</div></div>
          <div class="kpi"><div class="k">‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</div><div class="v" id="kCombo">0</div></div>

          <div class="kpi"><div class="k">‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à</div><div class="v" id="kGoals">0/0</div></div>
          <div class="kpi"><div class="k">‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Ñ‡∏ß‡∏™</div><div class="v" id="kMini">0/0</div></div>
          <div class="kpi"><div class="k">Miss (‡∏£‡∏ß‡∏°)</div><div class="v" id="kMiss">0</div></div>

          <!-- optional breakdown -->
          <div class="kpi"><div class="k">Miss: ‡πÇ‡∏î‡∏ô‡∏Ç‡∏≠‡∏á‡∏´‡∏ß‡∏≤‡∏ô/‡∏ó‡∏≠‡∏î</div><div class="v" id="kMissJunk">0</div></div>
          <div class="kpi"><div class="k">Miss: ‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏î‡∏µ‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤</div><div class="v" id="kMissTimeout">0</div></div>
          <div class="kpi"><div class="k">‡πÄ‡∏Å‡∏£‡∏î</div><div class="v" id="kGrade">‚Äî</div></div>
        </div>

        <!-- ‚úÖ NEW: Plate breakdown (‡πÄ‡∏î‡πá‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏ñ‡∏∂‡∏á‡∏à‡∏∞‡∏ï‡∏≠‡∏ö Evaluate ‡πÑ‡∏î‡πâ) -->
        <div class="card" style="max-width:none; pointer-events:auto;">
          <div class="cardTitle">
            <div class="t">üçΩÔ∏è ‡∏à‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô (‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà)</div>
            <div class="hint" id="plateVerdictHint">‚Äî</div>
          </div>

          <div class="qItem" style="align-items:flex-start;">
            <div class="qText" style="flex:1;">
              <div class="name">‡∏™‡∏£‡∏∏‡∏õ‡∏ï‡∏≤‡∏° 5 ‡∏´‡∏°‡∏π‡πà (‡∏ô‡∏±‡∏ö‡∏à‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡πá‡∏ö‡πÑ‡∏î‡πâ)</div>
              <div class="sub" id="plateList">‚Äî</div>
              <div class="sub" id="plateMissing" style="margin-top:6px;">‚Äî</div>
            </div>
            <div class="qProg" style="min-width:220px; align-items:stretch;">
              <div class="qNums" id="plateScoreExplain">‚Äî</div>
              <div class="bar" style="width:100%;"><i id="plateBalanceBar"></i></div>
              <div class="sub" id="plateTip" style="margin-top:8px;">‚Äî</div>
            </div>
          </div>
        </div>

        <!-- ‚úÖ Evaluate (‡∏ä‡∏±‡∏î‡πÜ ‡∏ß‡πà‡∏≤‡∏ï‡∏≠‡∏ö‡∏≠‡∏∞‡πÑ‡∏£) -->
        <div class="card" style="max-width:none; pointer-events:auto; margin-top:10px;">
          <div class="cardTitle">
            <div class="t">üß† Evaluate (‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•)</div>
            <div class="hint" id="evalPrompt">‚Äî</div>
          </div>

          <div class="qItem" style="flex-direction:column; align-items:stretch; gap:10px;">
            <label style="display:flex; gap:10px; align-items:flex-start;">
              <input type="radio" name="evalReason" value="too_much" id="evalTooMuch"/>
              <div>
                <div class="name">‡∏°‡∏≤‡∏Å‡πÑ‡∏õ</div>
                <div class="sub">‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏¢‡∏≠‡∏∞‡πÄ‡∏Å‡∏¥‡∏ô ‚Üí ‡∏Ñ‡∏ß‡∏£‡∏•‡∏î</div>
              </div>
            </label>

            <label style="display:flex; gap:10px; align-items:flex-start;">
              <input type="radio" name="evalReason" value="too_little" id="evalTooLittle"/>
              <div>
                <div class="name">‡∏ô‡πâ‡∏≠‡∏¢‡πÑ‡∏õ</div>
                <div class="sub">‡∏ö‡∏≤‡∏á‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô ‚Üí ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°</div>
              </div>
            </label>

            <label style="display:flex; gap:10px; align-items:flex-start;">
              <input type="radio" name="evalReason" value="add_what" id="evalAddWhat"/>
              <div style="flex:1;">
                <div class="name">‡∏Ñ‡∏ß‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏∞‡πÑ‡∏£</div>
                <div class="sub">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡πà‡∏≤‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° ‚Äú‡∏ú‡∏±‡∏Å/‡∏ú‡∏•‡πÑ‡∏°‡πâ/‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô/‡∏Ñ‡∏≤‡∏£‡πå‡∏ö‚Äù</div>
                <div style="margin-top:8px;">
                  <select id="evalAddSelect" class="btn" style="width:100%; padding:10px 12px;">
                    <option value="">‚Äî ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å ‚Äî</option>
                    <option value="veg">‡∏ú‡∏±‡∏Å (‡∏´‡∏°‡∏π‡πà 3)</option>
                    <option value="fruit">‡∏ú‡∏•‡πÑ‡∏°‡πâ (‡∏´‡∏°‡∏π‡πà 4)</option>
                    <option value="protein">‡πÇ‡∏õ‡∏£‡∏ï‡∏µ‡∏ô (‡∏´‡∏°‡∏π‡πà 1)</option>
                    <option value="carb">‡∏Ç‡πâ‡∏≤‡∏ß/‡πÅ‡∏õ‡πâ‡∏á (‡∏´‡∏°‡∏π‡πà 2)</option>
                    <option value="fat">‡πÑ‡∏Ç‡∏°‡∏±‡∏ô (‡∏´‡∏°‡∏π‡πà 5)</option>
                  </select>
                </div>
              </div>
            </label>

            <button class="btn" id="btnSaveEvaluate">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•</button>
            <div class="sub" id="evalStatus">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</div>
          </div>
        </div>

        <!-- ‚úÖ Create (‡∏õ‡∏£‡∏±‡∏ö 1 ‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏´‡πá‡∏ô‡∏ú‡∏•‡∏ó‡∏±‡∏ô‡∏ó‡∏µ + silent badge) -->
        <div class="card" style="max-width:none; pointer-events:auto; margin-top:10px;">
          <div class="cardTitle">
            <div class="t">‚ú® Create (‡∏õ‡∏£‡∏±‡∏ö 1 ‡∏≠‡∏¢‡πà‡∏≤‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏´‡πá‡∏ô‡∏ú‡∏•‡∏ó‡∏±‡∏ô‡∏ó‡∏µ)</div>
            <div class="hint" id="createPrompt">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å 1 ‡∏õ‡∏∏‡πà‡∏° ‚Üí ‡∏î‡∏π ‚Äú‡∏Å‡πà‡∏≠‡∏ô/‡∏´‡∏•‡∏±‡∏á‚Äù ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡∏£‡∏±‡∏ö badge</div>
          </div>

          <div class="hudRow" style="pointer-events:auto; margin-bottom:10px;">
            <button class="btn" id="btnAdjVeg">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ú‡∏±‡∏Å ü•¶</button>
            <button class="btn" id="btnAdjRice">‡∏•‡∏î‡∏Ç‡πâ‡∏≤‡∏ß üçö‚¨áÔ∏è</button>
            <button class="btn" id="btnAdjSnack">‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ç‡∏ô‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏ú‡∏•‡πÑ‡∏°‡πâ üç≠‚û°Ô∏èüçé</button>
          </div>

          <div class="qItem" style="align-items:flex-start;">
            <div class="qText" style="flex:1;">
              <div class="name">‡∏Å‡πà‡∏≠‡∏ô‡∏õ‡∏£‡∏±‡∏ö</div>
              <div class="sub" id="beforePlate">‚Äî</div>
            </div>
            <div class="qText" style="flex:1;">
              <div class="name">‡∏´‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏±‡∏ö (‡∏à‡∏≥‡∏•‡∏≠‡∏á)</div>
              <div class="sub" id="afterPlate">‚Äî</div>
            </div>
          </div>

          <div class="qItem" style="margin-top:10px; flex-direction:column; align-items:stretch; gap:10px;">
            <div class="sub" id="createEffect">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö‡∏Å‡πà‡∏≠‡∏ô ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏∞‡πÄ‡∏´‡πá‡∏ô‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏Ñ‡∏≤‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞‡∏î‡∏µ‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡∏£‡∏á‡πÑ‡∏´‡∏ô</div>
            <button class="btn primary" id="btnClaimBadge" disabled>‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏±‡∏ö + ‡∏£‡∏±‡∏ö Badge</button>
            <div class="sub" id="badgeStatus">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö badge</div>
          </div>
        </div>

        <!-- Buttons -->
        <div class="endBtns">
          <button class="btn" id="btnRestart">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
          <button class="btn primary" id="btnBackHub">‡∏Å‡∏•‡∏±‡∏ö HUB</button>
        </div>
      </div>
    </section>
  </div>

  <!-- Boot (module) -->
  <script type="module" src="./plate.boot.js"></script>
</body>
</html>