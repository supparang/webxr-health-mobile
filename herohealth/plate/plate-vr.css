/* =========================================================
   /herohealth/plate/plate-vr.css
   PATCH A3 — Target positioning + HUD safe vars
========================================================= */

:root{
  /* ...ของเดิม... */

  /* ✅ HUD safe space for spawner (mode-factory reads these) */
  --hud-top-safe: 140px;      /* กันแถบคะแนน/เวลา/คอมโบ */
  --hud-bottom-safe: 260px;   /* กัน quest card + ปุ่ม/safe bottom */

  /* ถ้าเป็นมือถือให้กันมากขึ้นนิด */
}

@media (max-width:900px){
  :root{
    --hud-top-safe: 130px;
    --hud-bottom-safe: 290px;
  }
}

/* ---------------------------------------------------------
   Spawn Layer (Targets)
--------------------------------------------------------- */
#plate-layer{
  position:fixed;
  inset:0;
  z-index:10;
  pointer-events:auto;
  touch-action:none;
}

/* ✅ FIX: เอา vars --x --y --s มาใช้จริง */
.plateTarget{
  position:absolute;
  left:calc(var(--x, 50) * 1%);
  top:calc(var(--y, 50) * 1%);
  width:calc(var(--s, 64) * 1px);
  height:calc(var(--s, 64) * 1px);

  transform:translate(-50%,-50%);
  display:grid;
  place-items:center;

  border-radius:999px;
  font-size:28px;
  font-weight:900;
  user-select:none;
  cursor:pointer;

  background:
    radial-gradient(circle at 30% 25%, rgba(255,255,255,.10), transparent 36%),
    rgba(2,6,23,.60);

  border:1px solid var(--stroke);
  box-shadow:
    0 18px 48px rgba(0,0,0,.32),
    inset 0 1px 0 rgba(255,255,255,.08);

  animation: pop .14s ease-out, wobble 1.8s ease-in-out infinite;
}

/* hit feedback (optional) */
.plateTarget.is-hit{
  animation: hitPop .12s ease-out;
}
@keyframes hitPop{
  0%{ transform:translate(-50%,-50%) scale(1); opacity:1; }
  100%{ transform:translate(-50%,-50%) scale(.85); opacity:0; }
}

.plateTarget[data-kind="good"]{
  border-color:rgba(34,197,94,.35);
  box-shadow:
    0 18px 48px rgba(0,0,0,.32),
    0 0 24px rgba(34,197,94,.18);
}

.plateTarget[data-kind="junk"]{
  border-color:rgba(239,68,68,.35);
  box-shadow:
    0 18px 48px rgba(0,0,0,.32),
    0 0 24px rgba(239,68,68,.18);
  animation-duration:1.2s;
}

@media (max-width:900px){
  .plateTarget{
    font-size:24px;
  }
}