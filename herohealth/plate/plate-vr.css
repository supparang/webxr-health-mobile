/* === /herohealth/plate/plate-vr.css ===
Balanced Plate VR — PRODUCTION CSS (ROOT: /herohealth/plate-vr.html)
✅ Responsive: PC / Mobile / VR / cVR
✅ HUD Top + Mini panel + Coach + Buttons (safe-area aware)
✅ Play area safe-zone (avoid HUD overlap in JS) + visual guide
✅ Targets: emoji crisp + float + wobble + spawn pop + hit flash
✅ Fever / Shield / Grade chips
✅ Pause/Start/Result overlays
✅ Works with plate.safe.js + plate-hud.js
*/

:root{
  color-scheme: dark;
  --bg:#020617;
  --panel: rgba(2,6,23,.70);
  --panel2: rgba(15,23,42,.62);
  --stroke: rgba(148,163,184,.18);

  --text:#e5e7eb;
  --muted:#94a3b8;

  --good:#22c55e;
  --warn:#f59e0b;
  --bad:#ef4444;
  --cyan:#22d3ee;
  --violet:#a78bfa;
  --gold:#facc15;

  --radius:18px;
  --pill:999px;

  /* safe-area */
  --sat: env(safe-area-inset-top, 0px);
  --sar: env(safe-area-inset-right, 0px);
  --sab: env(safe-area-inset-bottom, 0px);
  --sal: env(safe-area-inset-left, 0px);

  /* spacing */
  --pad: 10px;
  --hudTopH: 94px;     /* used only for mental model; JS uses actual rects */
  --btnBarH: 62px;

  /* target look */
  --tShadow: 0 18px 44px rgba(0,0,0,.28);
  --tStroke: rgba(148,163,184,.18);
  --tBg: rgba(2,6,23,.55);
  --tBlur: blur(10px);

  font-family: system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans Thai",sans-serif;
}

*,
*::before,
*::after{ box-sizing:border-box; }

html,body{
  width:100%;
  height:100%;
  margin:0;
  overflow:hidden;
  background: var(--bg);
  color: var(--text);
  touch-action: manipulation;
}

body{
  /* subtle nebula */
  background:
    radial-gradient(circle at top left, rgba(56,189,248,.16), transparent 60%),
    radial-gradient(circle at bottom right, rgba(34,197,94,.14), transparent 60%),
    radial-gradient(circle at 70% 30%, rgba(168,85,247,.10), transparent 50%),
    var(--bg);
}

/* A-Frame scene stays behind DOM */
a-scene{ pointer-events:none; }

/* ----------------------------
   Play layer + FX
---------------------------- */
#plate-layer{
  position:fixed;
  inset:0;
  z-index:10;
  pointer-events:auto;
  /* VR-feel look applies transform from JS */
  will-change: transform;
  transform: translate(0,0);
}

/* hitFx overlay pulses via JS */
#hitFx{
  position:fixed;
  inset:0;
  z-index:25;
  pointer-events:none;
  opacity:0;
  transition: opacity .12s ease;
}

/* ----------------------------
   HUD TOP
---------------------------- */
#hudTop{
  position:fixed;
  top: calc(var(--sat) + 10px);
  left: calc(var(--sal) + 10px);
  right: calc(var(--sar) + 10px);
  z-index:60;

  border:1px solid var(--stroke);
  border-radius: 22px;
  background: linear-gradient(180deg, rgba(15,23,42,.55), rgba(2,6,23,.55));
  box-shadow: 0 22px 70px rgba(0,0,0,.35);
  backdrop-filter: blur(10px);
  padding: 10px 10px 9px;
}

.hudRow{
  display:flex;
  gap:8px;
  align-items:stretch;
  justify-content:space-between;
}

.hudStat{
  flex: 1 1 0;
  min-width: 74px;
  background: rgba(2,6,23,.46);
  border:1px solid rgba(148,163,184,.14);
  border-radius: 16px;
  padding: 8px 9px;
  box-shadow: 0 14px 40px rgba(0,0,0,.22);
}

.hudStat .k{
  font-size:10px;
  font-weight:1100;
  color: rgba(148,163,184,.95);
  letter-spacing:.3px;
}
.hudStat .v{
  font-size:16px;
  font-weight:1200;
  margin-top:3px;
  line-height:1.05;
}
.muted{ color: rgba(148,163,184,.92); font-weight:900; }

/* chips */
.plateChip{
  border-color: rgba(34,197,94,.22);
  background: rgba(34,197,94,.08);
}
.timeChip{
  border-color: rgba(34,211,238,.22);
  background: rgba(34,211,238,.08);
}
.gradeChip{
  border-color: rgba(148,163,184,.18);
  background: rgba(15,23,42,.40);
}

/* row2 */
.hudRow2{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin-top:8px;
}

/* fever */
.feverWrap{
  display:flex;
  gap:10px;
  align-items:center;
  flex: 1 1 auto;
  min-width: 220px;
}
.feverLabel{
  font-weight:1200;
  font-size:12px;
  letter-spacing:.2px;
  color: rgba(148,163,184,.95);
}
.feverBar{
  position:relative;
  flex: 1 1 auto;
  height: 12px;
  border-radius: 999px;
  border:1px solid rgba(148,163,184,.14);
  overflow:hidden;
  background: rgba(2,6,23,.42);
  box-shadow: 0 14px 40px rgba(0,0,0,.20);
}
.feverFill{
  position:absolute;
  inset:0;
  width:0%;
  border-radius: 999px;
  background: linear-gradient(90deg, rgba(34,197,94,.85), rgba(250,204,21,.85), rgba(239,68,68,.88));
  transition: width .12s linear