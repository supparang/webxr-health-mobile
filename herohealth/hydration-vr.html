<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>HeroHealth ‚Äî Hydration VR (Launcher)</title>
  <meta name="color-scheme" content="dark" />
  <link rel="icon" href="./favicon.ico" type="image/x-icon" />
  <style>
    :root{
      color-scheme: dark;
      --bg:#020617;
      --panel:rgba(2,6,23,.78);
      --stroke:rgba(148,163,184,.18);
      --text:#e5e7eb;
      --muted:#94a3b8;
      --accent:#22c55e;
      --warn:#f59e0b;
      --radius:22px;
      --pill:999px;
      --sat: env(safe-area-inset-top, 0px);
      --sab: env(safe-area-inset-bottom, 0px);
    }
    *{ box-sizing:border-box; }
    html,body{ height:100%; margin:0; background:radial-gradient(circle at 10% 10%, rgba(34,211,238,.14), transparent 55%),
                               radial-gradient(circle at 90% 80%, rgba(34,197,94,.10), transparent 55%),
                               var(--bg);
              color:var(--text); font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial; }
    .wrap{ min-height:100%; display:grid; place-items:center; padding:calc(18px + var(--sat)) 16px calc(18px + var(--sab)); }
    .card{ width:min(720px, 100%); border:1px solid var(--stroke); background:var(--panel);
           border-radius:var(--radius); padding:18px; box-shadow:0 24px 80px rgba(0,0,0,.45); }
    .top{ display:flex; gap:14px; align-items:center; justify-content:space-between; flex-wrap:wrap; }
    .title{ font-weight:900; letter-spacing:.2px; font-size:18px; }
    .sub{ color:var(--muted); font-size:13px; line-height:1.35; margin-top:6px; }
    .grid{ margin-top:14px; display:grid; gap:10px; grid-template-columns:repeat(2, minmax(0,1fr)); }
    @media (max-width:560px){ .grid{ grid-template-columns:1fr; } }
    button{
      width:100%;
      border-radius:16px;
      border:1px solid rgba(148,163,184,.18);
      background:rgba(15,23,42,.65);
      color:var(--text);
      padding:12px 12px;
      font-weight:800;
      cursor:pointer;
      text-align:left;
    }
    button small{ display:block; font-weight:600; color:var(--muted); margin-top:4px; }
    .row{ margin-top:12px; display:flex; gap:10px; flex-wrap:wrap; align-items:center; }
    .pill{ border:1px solid rgba(148,163,184,.18); border-radius:var(--pill); padding:8px 10px; color:var(--muted); font-size:12px; }
    .hint{ margin-top:10px; font-size:12px; color:var(--muted); }
    .accent{ color:var(--accent); font-weight:900; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="top">
        <div>
          <div class="title">Hydration Quest VR</div>
          <div class="sub">‡πÄ‡∏•‡πà‡∏ô‡πÑ‡∏î‡πâ‡∏Ñ‡∏£‡∏ö: PC / Mobile / cVR (Cardboard ‡∏¢‡∏¥‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠) / VR (Enter VR)</div>
        </div>
        <div class="pill" id="det">Detecting‚Ä¶</div>
      </div>

      <div class="grid">
        <button id="btnAuto">‚ñ∂Ô∏è ‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏ö‡∏ö Auto Detect
          <small>‡πÉ‡∏´‡πâ‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á (‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥)</small>
        </button>

        <button id="btnPC">üñ•Ô∏è PC
          <small>‡πÄ‡∏°‡∏≤‡∏™‡πå/‡∏à‡∏≠‡πÉ‡∏´‡∏ç‡πà</small>
        </button>

        <button id="btnMobile">üì± Mobile
          <small>‡πÅ‡∏ï‡∏∞‡∏¢‡∏¥‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πâ‡∏≤</small>
        </button>

        <button id="btnCVR">üï∂Ô∏è cVR / Cardboard (Crosshair)
          <small>‡∏¢‡∏¥‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏•‡∏≤‡∏á‡∏à‡∏≠ + aim assist</small>
        </button>
      </div>

      <div class="row">
        <span class="pill">Tip: ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÄ‡∏î‡πá‡∏Å ‡∏õ.5 ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÄ‡∏õ‡∏¥‡∏î <span class="accent">kids=1</span></span>
        <span class="pill">‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢: <span class="accent">run=research</span> (‡∏•‡∏î adaptive + ‡∏•‡∏î‡πÇ‡∏Ñ‡πâ‡∏ä)</span>
      </div>

      <div class="hint">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏: ‡∏ñ‡πâ‡∏≤‡∏Ñ‡∏∏‡∏ì‡πÉ‡∏™‡πà <b>?view=...</b> ‡∏°‡∏≤‡πÄ‡∏≠‡∏á Launcher ‡∏à‡∏∞ ‚Äú‡πÑ‡∏°‡πà override‚Äù ‡πÉ‡∏´‡πâ‡πÇ‡∏î‡∏¢‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</div>
    </div>
  </div>

<script>
(function(){
  const qs=(k,def=null)=>{ try{ return new URL(location.href).searchParams.get(k) ?? def; }catch(_){ return def; } };

  function detectViewNoOverride(){
    const explicit = String(qs('view','')).toLowerCase();
    if (explicit) return explicit;

    const isTouch = ('ontouchstart' in window) || (navigator.maxTouchPoints|0) > 0;
    const w = Math.max(1, innerWidth||1);
    const h = Math.max(1, innerHeight||1);
    const landscape = w >= h;

    // cVR heuristic: touch + landscape + enough width
    if (isTouch){
      if (landscape && w >= 740) return 'cvr';
      return 'mobile';
    }
    return 'pc';
  }

  function go(view){
    const u = new URL(location.href);
    // Keep all params, just set view if not explicit already
    if (!u.searchParams.get('view')) u.searchParams.set('view', view);

    // run page
    const run = new URL('./hydration-vr/hydration-vr.html', location.href);
    // pass through ALL params
    run.search = u.search;
    location.href = run.toString();
  }

  const det = document.getElementById('det');
  const v = detectViewNoOverride();
  det.textContent = 'Auto view = ' + v;

  document.getElementById('btnAuto').onclick = ()=>go(v);
  document.getElementById('btnPC').onclick = ()=>go('pc');
  document.getElementById('btnMobile').onclick = ()=>go('mobile');
  document.getElementById('btnCVR').onclick = ()=>go('cvr');
})();
</script>
</body>
</html>