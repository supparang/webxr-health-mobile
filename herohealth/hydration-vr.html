<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>Hero Health ‚Äî Hydration Quest VR</title>
  <meta name="color-scheme" content="light dark" />
  <link rel="icon" href="./favicon.ico" type="image/x-icon">

  <!-- A-Frame core -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>

  <style>
    /* ‡πÉ‡∏ä‡πâ‡∏ä‡∏∏‡∏î‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÅ‡∏•‡∏∞‡∏™‡πÑ‡∏ï‡∏•‡πå‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö GoodJunk / Groups */
    :root{
      color-scheme: light dark;
      --bg-main:#020617;
      --panel:#020617;
      --panel-soft:#0b1120;
      --accent:#22c55e;
      --accent-soft:rgba(34,197,94,0.18);
      --danger:#f97316;
      --text-main:#e5e7eb;
      --text-soft:#9ca3af;
    }
    *{ box-sizing:border-box; }

    /* (‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å block CSS ‡∏ó‡∏±‡πâ‡∏á‡∏ä‡∏∏‡∏î‡∏à‡∏≤‡∏Å‡πÑ‡∏ü‡∏•‡πå‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢)
       countdown-overlay, hud-root, hud-top, hud-card, hud-main, hud-metrics,
       hud-quest, coach-bubble, hint-center, end-toast, hud-mode-badge, vr-btn, a-scene ‡∏Ø‡∏•‡∏Ø
       ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ò‡∏µ‡∏°‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡πÄ‡∏Å‡∏° */
    /* ... ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡πÉ‡∏´‡πâ‡∏¢‡∏≤‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ paste CSS ‡∏ó‡∏±‡πâ‡∏á‡∏Å‡πâ‡∏≠‡∏ô‡∏à‡∏≤‡∏Å groups-vr.html ‡∏°‡∏≤‡πÉ‡∏ä‡πâ‡∏ã‡πâ‡∏≥‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ... */
  </style>
</head>
<body>

  <!-- ===== A-Frame Scene ===== -->
  <a-scene
    vr-mode-ui="enabled: true"
    renderer="antialias: true; colorManagement: true; physicallyCorrectLights: true"
    background="color: #020617">

    <a-entity id="rig" position="0 1.6 0">
      <a-camera id="hydration-camera"
                wasd-controls-enabled="false"
                look-controls="pointerLockEnabled: false">
        <a-entity id="cursor"
                  cursor="fuse: false; rayOrigin: mouse"
                  raycaster="objects: [data-hha-tgt]"
                  geometry="primitive: ring; radiusInner: 0.01; radiusOuter: 0.016"
                  material="shader: flat; color: #ffffff"
                  position="0 0 -0.9">
        </a-entity>
      </a-camera>
    </a-entity>

    <a-entity light="type: hemisphere; color: #ffffff; groundColor: #4b5563; intensity: 0.9"></a-entity>
    <a-entity light="type: directional; intensity: 0.65" position="1 2 0.5"></a-entity>
    <a-plane position="0 0 0" rotation="-90 0 0" width="16" height="16"
             material="color: #020617; metalness: 0; roughness: 1"></a-plane>
    <a-sky color="#020617"></a-sky>
  </a-scene>

  <!-- ===== HUD ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏°‡πÄ‡∏õ‡πá‡∏ô Hydration Quest ===== -->
  <!-- ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ copy ‡∏ä‡∏∏‡∏î HUD ‡∏à‡∏≤‡∏Å groups-vr.html ‡∏°‡∏≤ ‡πÅ‡∏•‡πâ‡∏ß‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏™‡πà‡∏ß‡∏ô:
       - hud-main-mode -> "Hydration Quest VR"
       - end-title -> "‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏• ‚Ä¢ Hydration Quest VR"
     ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡∏Å‡∏±‡∏ô‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î -->

  <!-- Fever UI + Particles -->
  <script src="./vr/ui-fever.js"></script>
  <script src="./vr/particles.js"></script>

  <!-- Boot script -->
  <script type="module">
    import { GameEngine } from './vr-hydration/GameEngine.js';
    import { attachTouchLook } from './vr-goodjunk/touch-look-goodjunk.js';
    import { initCloudLogger } from './vr/hha-cloud-logger.js';

    function getParam(name, fallback){
      const url = new URL(window.location.href);
      const v = url.searchParams.get(name);
      return v !== null && v !== '' ? v : fallback;
    }

    // (‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á element ‡∏ï‡πà‡∏≤‡∏á ‡πÜ ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö groups-vr.html:
    // elScore, elCombo, elMiss, elDiff, elTime, elRunHUD, elQuest*, elCoach*, elEnd*, btnReplay, btnBackHub, btnVR ‡∏Ø‡∏•‡∏Ø)

    // ... ‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å logic ‡∏ó‡∏±‡πâ‡∏á‡∏Å‡πâ‡∏≠‡∏ô‡∏à‡∏≤‡∏Å groups-vr.html ‡∏°‡∏≤‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ...
    // ‡∏à‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏â‡∏û‡∏≤‡∏∞ Hydration:

    // 1) ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡πÇ‡∏Ñ‡πâ‡∏ä‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô:
    //   setCoach('‡∏à‡∏¥‡∏ö‡∏ô‡πâ‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ï‡∏≤‡∏°‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à ‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏ô‡πâ‡∏≥‡∏´‡∏ß‡∏≤‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞ ‡πÜ ‡∏ô‡∏∞ üíß');

    // 2) logger config:
    //   initCloudLogger({
    //     endpoint: 'https://script.google.com/macros/s/AKfycbxunS2aJ3NlznqAtn2iTln0JsMJ2OdsYx6pVvfVDVn-CkQzDiSDh1tep3yJHnKa0VIH/exec',
    //     projectTag: 'HeroHealth-HydrationVR',
    //     mode: 'HydrationVR',
    //     runMode,
    //     diff,
    //     durationSec: dur,
    //     studentKey,
    //     profile: studentProfile,
    //     debug: false
    //   });

    // 3) log prefix (console / warning):
    //   console.warn('[HydrationVR] ...');

    // 4) ‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏° coach ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö miss / fever ‡∏õ‡∏£‡∏±‡∏ö‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏Å‡∏±‡∏ö‡∏ô‡πâ‡∏≥:
    //   - miss: '‡∏û‡∏•‡∏≤‡∏î‡πÅ‡∏Å‡πâ‡∏ß‡∏ô‡πâ‡∏≥‡∏ô‡∏¥‡∏î‡∏ô‡∏∂‡∏á ‡∏•‡∏≠‡∏á‡∏à‡∏¥‡∏ö‡∏ô‡πâ‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏ï‡∏≤‡∏°‡πÄ‡∏õ‡πâ‡∏≤‡∏ô‡∏∞ üíß'
    //   - fever: 'FEVER ‡∏ô‡πâ‡∏≥! ‡∏à‡∏¥‡∏ö‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡πÜ ‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡πÄ‡∏•‡∏¢! üî•'

    // ‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠: computeGrade, questAllDone ‚Üí GameEngine.stop('quest-complete')
    // ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏•‡πà‡∏ô: easy 80 / normal 60 / hard 45 ‡πÉ‡∏ä‡πâ logic ‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö groups-vr.html ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢
  </script>

</body>
</html>