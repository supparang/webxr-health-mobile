<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Play – Shadow Breaker</title>
  <link rel="stylesheet" href="src/styles.css"/>
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <script src="src/components.js" defer></script>
</head>
<body>
  <!-- Top HUD -->
  <div class="hud">
    <div class="badge" id="hudScore">—</div>
    <div class="badge" id="hudCombo">—</div>
    <div class="badge" id="hudTime">—</div>
    <div class="badge" id="hudArcane">—</div>
    <div class="badge interactive"><a href="index.html" style="color:#8bd8ff;text-decoration:none" id="backLink">Back</a></div>
  </div>

  <!-- Bottom HUD -->
  <div class="hud bottom">
    <div class="badge" id="hudHP">HP: 100</div>
    <div class="badge" id="hudOverload">Overload: 0%</div>
    <div class="badge" id="hudBoss">Boss HP: —</div>
  </div>

  <div id="toast" class="toast"></div>
  <div id="objective">Objective: ทำคะแนนให้ถึง 400 เพื่อเรียก Mini Boss</div>

  <!-- Overload Power Bar (POS-2 center-bottom) -->
  <div id="overloadBarWrap">
    <div id="overloadBarGlow"></div>
    <div id="overloadBarCrack"></div>
    <div id="overloadBarFill"></div>
    <div id="overloadBarText">Overload: 0%</div>
  </div>

  <!-- A-Frame Scene -->
  <a-scene shadow-breaker-game renderer="colorManagement: true; physicallyCorrectLights: true; antialias: false; sortObjects: true; foveationLevel: 2; powerPreference: high-performance">
    <a-assets timeout="10000">
      <img id="bg" src="https://images.unsplash.com/photo-1499346030926-9a72daac6c63?q=80&w=1920&auto=format&fit=crop" crossorigin="anonymous">
    </a-assets>

    <a-sky src="#bg" color="#111122"></a-sky>
    <a-entity id="spawner"></a-entity>

    <a-entity id="rig" position="0 1.6 0">
      <a-camera id="camera" wasd-controls-enabled="false"></a-camera>
      <!-- Mouse cursor and VR lasers -->
      <a-entity cursor="rayOrigin: mouse; fuse:false" raycaster="objects: .clickable; far: 30; interval: 0"></a-entity>
      <a-entity laser-controls="hand: right" raycaster="objects: .clickable; far: 30; interval: 0"></a-entity>
      <a-entity laser-controls="hand: left"  raycaster="objects: .clickable; far: 30; interval: 0"></a-entity>
    </a-entity>

    <a-entity light="type: ambient; color: #BBB"></a-entity>
    <a-entity light="type: directional; intensity: 0.6" position="0 4 -2"></a-entity>
  </a-scene>

  <!-- Overload FX overlay -->
  <div id="overlayFX" aria-hidden="true">
    <div class="fx-vignette"></div>
    <div class="fx-veil"></div>
    <div class="fx-sparks"></div>
  </div>

  <!-- Heat Haze / Distortion overlay -->
  <div id="heatHaze" aria-hidden="true"></div>
</body>
</html>
