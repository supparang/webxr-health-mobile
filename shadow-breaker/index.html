<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Shadow Breaker – Training Hub</title>
  <link rel="stylesheet" href="src/styles.css"/>
  <script>
    let I18N=null, CUR=localStorage.getItem('sb_lang')||'th';
    const $ = (id)=>document.getElementById(id);
    const T = (k)=> (I18N && I18N[CUR] && I18N[CUR][k]) || k;

    async function loadI18n(){ const r=await fetch('src/i18n.json'); I18N=await r.json(); applyTexts(); }
    function setLang(v){ CUR=v; localStorage.setItem('sb_lang',v); applyTexts(); }
    function applyTexts(){
      if(!I18N) return;
      $('title').textContent   = T('title');
      $('subtitle').textContent= T('subtitle');
      $('lblTraining').textContent = T('training','Training');
      $('btnCombat').textContent = T('modeCombat','Arcane Combat');
      $('btnDash').textContent   = T('modeDash','Rift Dash');
      $('btnImpact').textContent = T('modeImpact','Impact Breaker');
      $('btnFlow').textContent   = T('modeFlow','Spirit Flow');

      $('lblDiff').textContent = T('difficulty');
      $('optEasy').textContent   = T('easy');
      $('optNormal').textContent = T('normal');
      $('optHard').textContent   = T('hard');
      $('btnTH').textContent = 'ไทย'; $('btnEN').textContent='English';
    }
    function start(game){
      const diff=$('selDiff').value;
      const mode='timed'; // ค่าเริ่ม – ยังใช้โหมดจับเวลาได้
      location.href=`play.html?game=${game}&mode=${mode}&diff=${diff}&map=city`;
    }
    window.addEventListener('DOMContentLoaded', loadI18n);
  </script>
</head>
<body>
  <div class="center-card">
    <div class="card">
      <h1 id="title">SHADOW BREAKER</h1>
      <h2 id="subtitle">Neo Anime Tech • Training Hub</h2>

      <div class="row" style="justify-content:space-between;align-items:center;margin:10px 0">
        <strong id="lblTraining">Training</strong>
        <div class="row">
          <button class="btn"        id="btnCombat" onclick="start('combat')">Arcane Combat</button>
          <button class="btn"        id="btnDash"   onclick="start('dash')">Rift Dash</button>
          <button class="btn"        id="btnImpact" onclick="start('impact')">Impact Breaker</button>
          <button class="btn"        id="btnFlow"   onclick="start('flow')">Spirit Flow</button>
        </div>
      </div>

      <div class="row" style="margin-top:12px;align-items:center">
        <div style="min-width:120px"><strong id="lblDiff">Difficulty</strong></div>
        <select id="selDiff" class="btn secondary" style="flex:0 0 auto">
          <option value="easy" id="optEasy">Easy</option>
          <option value="normal" id="optNormal" selected>Normal</option>
          <option value="hard" id="optHard">Hard</option>
        </select>
        <div class="row" style="margin-left:auto">
          <button class="btn secondary" id="btnTH" onclick="setLang('th')">ไทย</button>
          <button class="btn secondary" id="btnEN" onclick="setLang('en')">English</button>
        </div>
      </div>

      <p style="opacity:.8;margin-top:12px">
        Tip: โหมด <b>Arcane Combat</b> คือ Shadow Breaker (เกมที่ 1) ส่วนอีก 3 โหมดเป็นฟิตเนสเสริมสำหรับ ป.5
      </p>
    </div>
  </div>
</body>
</html>
