<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
  <title>Hero Health - Geometry Mode</title>
  <link rel="icon" href="./favicon.ico" type="image/x-icon" />
  <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>

  <style>
    body { margin: 0; overflow: hidden; background: #000; font-family: sans-serif; }
    
    #ui-layer {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      pointer-events: none; z-index: 100;
      display: flex; flex-direction: column; justify-content: space-between;
    }
    .pointer-auto { pointer-events: auto; }

    /* UI ‡∏™‡∏ß‡∏¢‡πÜ ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏° */
    .hud-top { padding: 15px; display: flex; justify-content: space-between; }
    .card {
      background: rgba(0, 20, 40, 0.9); padding: 10px 15px; border-radius: 12px;
      border: 1px solid #00ffcc; color: white;
    }
    .val-big { font-size: 24px; font-weight: bold; color: #00ffcc; }

    /* ‡πÄ‡∏õ‡πâ‡∏≤‡πÄ‡∏•‡πá‡∏á‡πÅ‡∏î‡∏á */
    #crosshair {
      position: absolute; top: 50%; left: 50%; 
      transform: translate(-50%, -50%);
      width: 40px; height: 40px;
    }
    #crosshair::before, #crosshair::after {
      content: ''; position: absolute; background: #ff0055;
      box-shadow: 0 0 10px #ff0055;
    }
    #crosshair::before { left: 50%; top: 0; height: 100%; width: 4px; transform: translateX(-50%); }
    #crosshair::after { top: 50%; left: 0; width: 100%; height: 4px; transform: translateY(-50%); }

    .hud-bot { padding: 30px; text-align: center; }
    .btn { background: #00ffcc; color: #000; padding: 10px 30px; border-radius: 20px; border:none; font-weight:bold; }
  </style>
</head>
<body>

  <div id="ui-layer">
    <div class="hud-top">
      <div class="card pointer-auto">
        <div style="font-size:10px;">SCORE</div>
        <div class="val-big" id="score">0</div>
      </div>
      <div class="card pointer-auto">
        <div style="font-size:10px;">WATER</div>
        <div class="val-big" id="water">50%</div>
      </div>
    </div>
    <div id="crosshair"></div>
    <div class="hud-bot">
      <div class="card pointer-auto">Shoot the Blue Balls! üîµ</div>
    </div>
  </div>

  <a-scene background="color: #0f172a">
    
    <a-entity light="type: ambient; color: #FFF; intensity: 0.8"></a-entity>
    <a-entity light="type: directional; color: #FFF; intensity: 0.8; position: -1 2 1"></a-entity>
    
    <a-grid helper geometry="primitive: plane; width: 50; height: 50" rotation="-90 0 0" material="color: #00ffcc; opacity: 0.1; transparent: true"></a-grid>

    <a-box position="0 1.6 -3" 
           color="red" 
           scale="0.5 0.5 0.5"
           animation="property: rotation; to: 0 360 0; loop: true; dur: 3000">
           <a-text value="TEST TARGET" align="center" position="0 0.8 0" color="white" scale="2 2 2"></a-text>
    </a-box>

    <a-entity id="rig" position="0 0 0">
      <a-camera position="0 1.6 0" look-controls="enabled: true">
        <a-entity cursor="fuse: false" position="0 0 -1" geometry="primitive: ring; radiusInner: 0.001; radiusOuter: 0.002" material="opacity:0" raycaster="objects: .clickable"></a-entity>
      </a-camera>
    </a-entity>

    <a-entity id="spawner"></a-entity>
  </a-scene>

  <script>
    let score = 0;
    let water = 50;

    function spawnOrb() {
      const ent = document.createElement('a-entity');
      
      // ‡∏™‡∏∏‡πà‡∏°‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á
      const angle = Math.random() * Math.PI * 2;
      const dist = 3; 
      const x = Math.sin(angle) * dist;
      const z = Math.cos(angle) * dist;
      const y = 1.0 + Math.random();

      ent.setAttribute('position', {x, y, z});
      
      // üî• ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏à‡∏≤‡∏Å Emoji ‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏π‡∏Å‡∏ö‡∏≠‡∏•‡πÄ‡∏£‡∏Ç‡∏≤‡∏Ñ‡∏ì‡∏¥‡∏ï (Sphere)
      // ‡∏™‡∏µ‡∏ü‡πâ‡∏≤ (Cyan) + ‡∏ú‡∏¥‡∏ß‡∏°‡∏±‡∏ô‡∏ß‡∏≤‡∏ß (Standard Material)
      ent.setAttribute('geometry', 'primitive: sphere; radius: 0.4');
      ent.setAttribute('material', 'color: #00ffff; metalness: 0.5; roughness: 0.2');
      
      ent.setAttribute('class', 'clickable');

      // Animation ‡πÄ‡∏î‡πâ‡∏á‡∏î‡∏∂‡πã‡∏á
      ent.setAttribute('animation', 'property: scale; from: 0 0 0; to: 1 1 1; dur: 500; easing: easeOutElastic');

      ent.addEventListener('click', () => {
        score += 100;
        water += 10;
        document.getElementById('score').innerText = score;
        document.getElementById('water').innerText = water + "%";
        
        // ‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡∏ï‡∏≠‡∏ô‡πÅ‡∏ï‡∏Å (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏™‡∏µ‡∏Ç‡∏≤‡∏ß‡πÅ‡∏•‡πâ‡∏ß‡∏´‡∏≤‡∏¢‡πÑ‡∏õ)
        ent.setAttribute('material', 'color: #ffffff; opacity: 0.5; transparent: true');
        ent.setAttribute('animation__die', 'property: scale; to: 2 2 2; dur: 100');
        setTimeout(() => ent.remove(), 100);
      });
      
      // ‡∏´‡∏≤‡∏¢‡πÑ‡∏õ‡πÄ‡∏≠‡∏á‡πÉ‡∏ô 3 ‡∏ß‡∏¥
      setTimeout(() => { if(ent.parentNode) ent.remove(); }, 3000);

      document.getElementById('spawner').appendChild(ent);
    }

    // Spawn ‡∏£‡∏±‡∏ß‡πÜ ‡∏ó‡∏∏‡∏Å 0.8 ‡∏ß‡∏¥
    setInterval(spawnOrb, 800);
  </script>
</body>
</html>
