<!DOCTYPE html>
<html>
<head>
    <title>Hero Academy</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-link-control/dist/aframe-link-control.min.js"></script>
</head>
<body>
    <a-scene hero-hub>
        <a-assets>
            <img id="floor" src="https://cdn.aframe.io/a-saturday-night/images/floor.jpg">
            <img id="wall" src="https://cdn.glitch.global/027329ad-4573-41a3-b0ee-73591c28c614/wall_tiles.jpg?v=1678887467645">
        </a-assets>

        <a-entity
            camera="active: true"
            look-controls="pointerLockEnabled: false"
            wasd-controls="acceleration: 10"
            position="0 1.6 0">
            <a-cursor
                id="cursor"
                raycaster="objects: .clickable"
                fuse="false">
            </a-cursor>
        </a-entity>

        <a-plane src="#floor" rotation="-90 0 0" width="20" height="20"></a-plane>
        <a-box src="#wall" position="0 2.5 -10" width="20" height="5" depth="0.1"></a-box>
        <a-box src="#wall" position="0 2.5 10" width="20" height="5" depth="0.1"></a-box>
        <a-box src="#wall" position="-10 2.5 0" rotation="0 90 0" width="20" height="5" depth="0.1"></a-box>
        <a-box src="#wall" position="10 2.5 0" rotation="0 90 0" width="20" height="5" depth="0.1"></a-box>
        <a-sky color="#ECECEC"></a-sky>

        <a-text value="Hero Academy - Welcome!" position="-2 4 -9.8" color="#333" width="6"></a-text>

        <a-box id="clean-zone-portal" class="clickable" position="-6 1.6 -8" color="#4CAF50"
            link="href: clean-zone.html; title: Go to Clean Zone; image: #">
            <a-text value="üßº Clean Zone" position="0 0 0.51" align="center"></a-text>
            <a-sphere id="clean-status" radius="0.2" position="0 1 0.5" color="red"></a-sphere>
        </a-box>

        <a-box id="smile-zone-portal" class="clickable" position="-3 1.6 -8" color="#03A9F4"
            link="href: smile-zone.html; title: Go to Smile Zone; image: #">
            <a-text value="ü¶∑ Smile Zone" position="0 0 0.51" align="center"></a-text>
            <a-sphere id="smile-status" radius="0.2" position="0 1 0.5" color="red"></a-sphere>
        </a-box>

        <a-box id="eat-zone-portal" class="clickable" position="0 1.6 -8" color="#FF9800"
            link="href: eat-zone.html; title: Go to Eat Zone; image: #">
            <a-text value="üçΩÔ∏è Eat Zone" position="0 0 0.51" align="center"></a-text>
            <a-sphere id="eat-status" radius="0.2" position="0 1 0.5" color="red"></a-sphere>
        </a-box>

        <a-box id="safe-zone-portal" class="clickable" position="3 1.6 -8" color="#F44336"
            link="href: safe-zone.html; title: Go to Safe Zone; image: #">
            <a-text value="üò∑ Safe Zone" position="0 0 0.51" align="center"></a-text>
            <a-sphere id="safe-status" radius="0.2" position="0 1 0.5" color="red"></a-sphere>
        </a-box>

        <a-box id="dress-zone-portal" class="clickable" position="6 1.6 -8" color="#9C27B0"
            link="href: dress-zone.html; title: Go to Dress Zone; image: #">
            <a-text value="üßç‚Äç‚ôÇÔ∏è Dress Zone" position="0 0 0.51" align="center"></a-text>
            <a-sphere id="dress-status" radius="0.2" position="0 1 0.5" color="red"></a-sphere>
        </a-box>

        <a-cylinder id="exam-zone" position="0 1.6 8" radius="1.5" height="0.2" color="#FFD700" visible="false">
            <a-text value="FINAL EXAM" position="0 0.5 0" align="center" color="#000"></a-text>
            <a-entity id="medal" position="0 1 0"
                animation="property: rotation; to: 0 360 0; loop: true; dur: 5000; easing: linear;">
                <a-octahedron radius="0.3" color="gold"></a-octahedron>
            </a-entity>
        </a-cylinder>
    </a-scene>

    <script>
    AFRAME.registerComponent('hero-hub', {
        init: function () {
            this.checkMissionStatus();
        },
        checkMissionStatus: function () {
            const missions = ['clean', 'smile', 'eat', 'safe', 'dress'];
            let allComplete = true;

            missions.forEach(mission => {
                const status = localStorage.getItem(`mission_${mission}`);
                const statusEl = document.getElementById(`${mission}-status`);
                
                if (status === 'complete') {
                    if (statusEl) statusEl.setAttribute('color', 'green');
                } else {
                    if (statusEl) statusEl.setAttribute('color', 'red');
                    allComplete = false; // ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡πÉ‡∏î‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏™‡∏£‡πá‡∏à
                }
            });

            // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡∏ó‡∏∏‡∏Å‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡πÄ‡∏™‡∏£‡πá‡∏à‡∏™‡∏¥‡πâ‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà
            if (allComplete) {
                const examZone = document.getElementById('exam-zone');
                if (examZone) examZone.setAttribute('visible', 'true');
                alert("‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏î‡πâ‡∏ß‡∏¢, ‡∏Æ‡∏µ‡πÇ‡∏£‡πà! ‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏≥‡∏ó‡∏∏‡∏Å‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß! ‡πÑ‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏´‡∏£‡∏µ‡∏¢‡∏ç Clean Medal ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πà‡∏ô‡∏™‡∏µ‡∏ó‡∏≠‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢!");
            }
        }
    });
    </script>
</body>
</html>
