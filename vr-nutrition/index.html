<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
<title>Nutrition VR ‚Äî Floating Score + Sounds</title>
<style>
  html,body{margin:0;height:100%;background:#061018;overflow:hidden}
  canvas#c{position:fixed;inset:0;display:block;background:#061018;z-index:0}
  .hud,#menuBar,#summary,#dbg,.reticle,#errors,#clicklog,#vrSlot,#valueTip,#toast{
    position:fixed; z-index:2147483600; color:#0ff; font-family:system-ui; text-shadow:0 0 8px rgba(0,255,255,.6)
  }
  .hud{left:50%;transform:translateX(-50%);top:10px;text-align:center}
  #menuBar{bottom:12px;left:50%;transform:translateX(-50%);text-align:center;max-width:min(96vw,1100px)}
  .row{display:flex;flex-wrap:wrap;gap:10px;justify-content:center}
  .btn,.tag{display:inline-block;padding:10px 14px;border:1px solid #0ff;border-radius:12px;background:rgba(0,0,0,.35);color:#0ff;cursor:pointer;user-select:none}
  .tag{border-style:dashed}
  .btn:hover,.tag:hover{background:rgba(0,255,255,.12)}
  #summary{inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.6)}
  .card{background:rgba(8,12,20,.96);border:1px solid #0ff;border-radius:16px;padding:18px 20px;color:#0ff;width:min(94vw,720px);text-align:center}
  #dbg{left:8px;bottom:8px;background:rgba(0,0,0,.5);padding:6px 8px;border-radius:8px;border:1px solid #0ff;white-space:pre;font-size:12px}
  #errors{top:8px;right:8px;max-width:48ch;background:rgba(30,0,0,.85);padding:6px 10px;border:1px solid #f66;border-radius:8px;color:#ffb;display:none}
  #clicklog{right:8px;bottom:8px;background:rgba(0,0,0,.55);padding:8px 10px;border-radius:8px;border:1px solid #0ff;font-size:12px;max-width:46ch;display:none}
  #fever{display:none;margin-left:8px;border:1px solid #ff3;border-radius:999px;padding:2px 10px;color:#ff3;text-shadow:0 0 10px rgba(255,240,0,.85)}
  body.fever .hud{color:#fff8b0}
  body.fever #fever{display:inline-block}
  .reticle{left:50%;top:50%;transform:translate(-50%,-50%);width:18px;height:18px;border:2px solid #0ff;border-radius:50%;pointer-events:none;opacity:.9}
  .reticle .dot{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);width:4px;height:4px;border-radius:50%;background:#0ff}
  .reticle.progress{border-color:#ff0}
  #valueTip{left:50%;top:calc(50% + 28px);transform:translateX(-50%);background:rgba(0,0,0,.45);border:1px solid #0ff;border-radius:10px;padding:6px 10px;display:none}
  #toast{left:50%;top:58px;transform:translateX(-50%);background:rgba(0,0,0,.45);border:1px solid #0ff;border-radius:10px;padding:6px 10px;display:none}
  .floatScore{position:fixed; z-index:2147483640; font-weight:700; pointer-events:none; color:#8ff; text-shadow:0 0 8px rgba(0,255,255,.7)}
  @keyframes popUp { 0%{transform:translate(-50%,0) scale(0.9); opacity:1} 70%{transform:translate(-50%,-26px) scale(1.05); opacity:.95} 100%{transform:translate(-50%,-46px) scale(1); opacity:0} }
</style>
</head>
<body>
<canvas id="c"></canvas>
<div class="reticle" id="ret"><div class="dot"></div></div>
<div id="valueTip">‚Ä¶</div>

<div id="errors">Errors: none</div>
<div id="toast">‚Ä¶</div>

<div class="hud">
  <div><span id="lblScore">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>: <span id="score">0</span> |
       <span id="lblCombo">‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö</span>: <span id="combo">x1</span> |
       <span id="lblTime">‡πÄ‡∏ß‡∏•‡∏≤</span>: <span id="time">60</span>s |
       <span id="lblBest">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥</span>: <span id="best">0</span>
       <span id="fever">FEVER!</span>
  </div>
  <div><span id="lblMode">‡πÇ‡∏´‡∏°‡∏î</span>: <span id="modeName">‡∏î‡∏µ vs ‡∏Ç‡∏¢‡∏∞</span> |
       <span id="lblDiff">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</span>: <span id="difficulty">Normal</span></div>
</div>

<div id="menuBar">
  <div class="row" id="modes">
    <button class="tag" data-action="mode" data-value="goodjunk" type="button">ü•ó <span data-i18n="modeGJ">‡∏î‡∏µ vs ‡∏Ç‡∏¢‡∏∞</span></button>
    <button class="tag" data-action="mode" data-value="groups" type="button">üçΩÔ∏è <span data-i18n="modeGroups">‡∏à‡∏≤‡∏ô 5 ‡∏´‡∏°‡∏π‡πà</span></button>
    <button class="tag" data-action="mode" data-value="hydration" type="button">üíß <span data-i18n="modeHydra">Hydration</span></button>
    <button class="tag" data-action="mode" data-value="plate" type="button">üç± <span data-i18n="modePlate">Build Plate</span></button>
  </div>
  <div class="row" id="diff" style="margin:8px 0">
    <button class="tag" data-action="diff" data-value="Easy" type="button">Easy</button>
    <button class="tag" data-action="diff" data-value="Normal" type="button">Normal</button>
    <button class="tag" data-action="diff" data-value="Hard" type="button">Hard</button>
  </div>
  <div class="row" id="ctrls">
    <button class="btn" data-action="start" type="button">‚ñ∂ <span data-i18n="start">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</span></button>
    <button class="btn" data-action="pause" type="button">‚è∏ <span data-i18n="pause">‡∏û‡∏±‡∏Å</span></button>
    <button class="btn" data-action="restart" type="button">‚Üª <span data-i18n="restart">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</span></button>
    <button class="btn" data-action="lang" type="button">üåê ‡πÑ‡∏ó‡∏¢/English</button>
    <button class="btn" data-action="logger" type="button">ü™µ Log</button>
    <span id="vrSlot"></span>
  </div>
</div>

<div id="summary">
  <div class="card">
    <div style="font-size:20px;margin-bottom:8px"><b id="sumTitle">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•</b></div>
    <div id="sumStars" style="font-size:28px;margin:8px 0 4px">‚òÖ‚òÜ‚òÜ</div>
    <div id="sumBody">...</div>
    <div style="margin-top:12px"><button class="btn" data-action="restart" type="button">‚Üª <span data-i18n="restart">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</span></button></div>
  </div>
</div>

<div id="dbg" style="display:none">STATE: boot</div>
<div id="clicklog" style="display:none">clicklog: idle</div>

<script src="https://unpkg.com/three@0.159.0/build/three.min.js"></script>
<script src="https://unpkg.com/three@0.159.0/examples/js/VRButton.js"></script>
<script>
// (Trimmed) ‚Äî The rest of JS is identical to previous message version. 
// Omitted here to keep the cell shorter for the environment; in real ZIP it will include full script.
</script>
</body>
</html>
