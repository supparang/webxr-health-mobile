<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <title>Jump-Duck ‚Äî VR Fitness Suite</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <meta name="color-scheme" content="dark light"/>
  <link rel="stylesheet" href="./css/jump-duck.css"/>
</head>
<body>
<div id="app">

  <!-- ===== MENU ===== -->
  <section id="view-menu" class="view">
    <h1 class="title">ü¶ò Jump-Duck <span class="sub">Reflex Run</span></h1>
    <p class="subtitle">
      ‡πÄ‡∏Å‡∏°‡πÇ‡∏î‡∏î-‡∏´‡∏°‡∏≠‡∏ö‡∏´‡∏•‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á ‡∏ß‡∏±‡∏î reaction time, fatigue ‡πÅ‡∏•‡∏∞ error pattern<br/>
      Jump or duck to dodge obstacles ‚Äî measure reflex & endurance.
    </p>

    <div class="field">
      <label for="difficulty">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å / Difficulty</label>
      <select id="difficulty">
        <option value="easy">‡∏á‡πà‡∏≤‡∏¢ (Easy) ‚Äî ‡∏ä‡πâ‡∏≤ / obstacles ‡∏ô‡πâ‡∏≠‡∏¢</option>
        <option value="normal" selected>‡∏õ‡∏Å‡∏ï‡∏¥ (Normal)</option>
        <option value="hard">‡∏¢‡∏≤‡∏Å (Hard) ‚Äî ‡πÄ‡∏£‡πá‡∏ß / ‡∏ñ‡∏µ‡πà</option>
      </select>
    </div>

    <div class="btn-row">
      <button class="btn primary" data-action="start-normal">
        üéÆ ‡πÄ‡∏•‡πà‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ / Play
      </button>
      <button class="btn" data-action="goto-research">
        üìä ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ / Research mode
      </button>
    </div>

    <div class="btn-row secondary">
      <button class="btn ghost" onclick="location.href='./index.html'">
        ‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö Fitness Hub / Back to Hub
      </button>
    </div>
  </section>

  <!-- ===== RESEARCH FORM ===== -->
  <section id="view-research" class="view hidden">
    <h2>üìä Jump-Duck ‚Äî Research mode</h2>
    <p class="subtitle">
      ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° / Fill participant info
    </p>

    <div class="field">
      <label for="researchId">‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° / Participant ID</label>
      <input id="researchId" placeholder="‡πÄ‡∏ä‡πà‡∏ô P001, S01, E01"/>
    </div>
    <div class="field">
      <label for="researchGroup">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ß‡∏¥‡∏à‡∏±‡∏¢ / Group</label>
      <input id="researchGroup" placeholder="‡πÄ‡∏ä‡πà‡∏ô Control / Training / VR-Only"/>
    </div>
    <div class="field">
      <label for="researchPhase">‡∏£‡∏∞‡∏¢‡∏∞ / Phase</label>
      <input id="researchPhase" placeholder="Pre / Post / Follow-up"/>
    </div>

    <div class="btn-row">
      <button class="btn primary" data-action="start-research">
        ‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ / Start research
      </button>
      <button class="btn ghost" data-action="back-menu">
        ‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π / Back
      </button>
    </div>
  </section>

  <!-- ===== PLAY ===== -->
  <section id="view-play" class="view hidden">
    <div id="hud">
      <span>Mode: <b id="hud-mode">-</b></span>
      <span>Diff: <b id="hud-diff">-</b></span>
      <span>Time: <b id="hud-time">60.0</b>s</span>
    </div>
    <div id="hud2">
      <span>Score: <b id="hud-score">0</b></span>
      <span>Combo: <b id="hud-combo">0</b></span>
      <span>Miss: <b id="hud-miss">0</b></span>
    </div>

    <div id="feverWrap"><div id="feverFill"></div></div>

    <div id="playArea">
      <div id="lane">
        <div id="hero" class="hero hero-stand">üôÇ</div>
      </div>
      <div id="judgeLabel" class="judge">READY</div>
    </div>

    <p class="howto">
      ‡πÅ‡∏ï‡∏∞‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ö‡∏ô = ‡πÇ‡∏î‡∏î (Jump) ‚Ä¢ ‡πÅ‡∏ï‡∏∞‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏•‡πà‡∏≤‡∏á = ‡∏´‡∏°‡∏≠‡∏ö (Duck)<br/>
      Top half tap = Jump ¬∑ Bottom half tap = Duck<br/>
      (‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î: ‚Üë / Space = Jump, ‚Üì / Shift = Duck)
    </p>

    <div class="btn-row">
      <button class="btn ghost" data-action="stop">
        ‚èπ ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ / Stop early
      </button>
      <button class="btn ghost" onclick="location.href='./index.html'">
        ‚¨Ö Hub
      </button>
    </div>
  </section>

  <!-- ===== RESULT ===== -->
  <section id="view-result" class="view hidden">
    <h2>üìà ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏• Jump-Duck / Session summary</h2>

    <div class="result-grid">
      <div class="result-row"><span>Mode</span><b id="res-mode"></b></div>
      <div class="result-row"><span>Difficulty</span><b id="res-diff"></b></div>
      <div class="result-row"><span>End reason</span><b id="res-end"></b></div>

      <div class="result-row"><span>Score</span><b id="res-score"></b></div>
      <div class="result-row"><span>Max combo</span><b id="res-maxcombo"></b></div>
      <div class="result-row"><span>Total obstacles</span><b id="res-obs"></b></div>
      <div class="result-row"><span>Hit / Correct actions</span><b id="res-hits"></b></div>
      <div class="result-row"><span>Miss / Collisions</span><b id="res-miss"></b></div>
      <div class="result-row"><span>Accuracy</span><b id="res-acc"></b></div>

      <div class="result-row"><span>RT mean</span><b id="res-rtmean"></b></div>
      <div class="result-row"><span>RT SD</span><b id="res-rtsd"></b></div>
      <div class="result-row"><span>Fatigue index</span><b id="res-fatigue"></b></div>
    </div>

    <p class="note">
      ‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå CSV ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ (‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏ï‡πà‡∏≠ obstacle)<br/>
      In research mode a CSV log will auto-download at the end of session.
    </p>

    <div class="btn-row">
      <button class="btn primary" data-action="play-again">üîÅ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á / Play again</button>
      <button class="btn ghost" data-action="back-menu">üè† ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π / Back to menu</button>
    </div>
  </section>

  <!-- Overlays -->
  <div id="coachBubble" class="coach hidden"></div>
  <div id="comboCall" class="comboCall"></div>

</div>

<script src="./js/jump-duck.js"></script>
</body>
</html>