<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <title>Jump-Duck ‚Äî VR Fitness Suite</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <meta name="color-scheme" content="dark light"/>
  <link rel="stylesheet" href="./css/jump-duck.css"/>
</head>
<body class="jd-body">
  <main id="app">

    <!-- ===== VIEW: MENU ===== -->
    <section id="view-menu" class="jd-view">
      <h1 class="jd-title">üê™ Jump-Duck <span class="sub">Reaction Run</span></h1>
      <p class="jd-subtitle">
        ‡πÄ‡∏Å‡∏°‡∏ù‡∏∂‡∏Å‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î-‡∏Å‡πâ‡∏°‡∏´‡∏•‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á ‡∏ß‡∏±‡∏î reaction time, ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏´‡∏ß (stability)
      </p>

      <div class="jd-field">
        <label for="difficulty">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å / Difficulty</label>
        <select id="difficulty">
          <option value="easy">‡∏á‡πà‡∏≤‡∏¢ (Easy) ‚Äî spawn ‡∏ä‡πâ‡∏≤‡∏´‡∏ô‡πà‡∏≠‡∏¢</option>
          <option value="normal" selected>‡∏õ‡∏Å‡∏ï‡∏¥ (Normal) ‚Äî ‡∏™‡∏°‡∏î‡∏∏‡∏•</option>
          <option value="hard">‡∏¢‡∏≤‡∏Å (Hard) ‚Äî ‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á‡∏ñ‡∏µ‡πà+‡πÄ‡∏£‡πá‡∏ß</option>
        </select>
      </div>

      <div class="jd-btn-row">
        <button class="jd-btn primary" data-action="start-play">
          üéÆ ‡πÄ‡∏•‡πà‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ / Play
        </button>
        <button class="jd-btn" data-action="goto-research">
          üìä ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ / Research mode
        </button>
      </div>

      <div class="jd-btn-row secondary">
        <button class="jd-btn ghost" onclick="location.href='./index.html'">
          ‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö Fitness Hub / Back to Hub
        </button>
      </div>
    </section>

    <!-- ===== VIEW: RESEARCH FORM ===== -->
    <section id="view-research" class="jd-view jd-hidden">
      <h2 class="jd-title-small">üìä ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ / Research mode</h2>
      <p class="jd-subtitle">
        ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå CSV ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå
      </p>

      <div class="jd-field">
        <label for="resId">‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° / Participant ID</label>
        <input id="resId" placeholder="‡πÄ‡∏ä‡πà‡∏ô P001, S01, E01"/>
      </div>
      <div class="jd-field">
        <label for="resGroup">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏î‡∏•‡∏≠‡∏á / Group</label>
        <input id="resGroup" placeholder="‡πÄ‡∏ä‡πà‡∏ô Control / Training / VR-Only"/>
      </div>
      <div class="jd-field">
        <label for="resPhase">‡∏£‡∏∞‡∏¢‡∏∞ / Phase</label>
        <input id="resPhase" placeholder="‡πÄ‡∏ä‡πà‡∏ô Pre-test / Post-test / Follow-up"/>
      </div>

      <div class="jd-btn-row">
        <button class="jd-btn primary" data-action="start-research">
          ‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ / Start research
        </button>
        <button class="jd-btn ghost" data-action="back-menu">
          ‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π / Back
        </button>
      </div>
    </section>

    <!-- ===== VIEW: PLAY ===== -->
    <section id="view-play" class="jd-view jd-hidden">
      <!-- HUD ‡πÅ‡∏ñ‡∏ß‡∏ö‡∏ô -->
      <div class="jd-hud-row">
        <div class="jd-hud-chip">Mode: <b id="hud-mode">Play</b></div>
        <div class="jd-hud-chip">Diff: <b id="hud-diff">normal</b></div>
        <div class="jd-hud-chip">Duration: <b id="hud-duration">60s</b></div>
      </div>
      <div class="jd-hud-row">
        <div class="jd-hud-chip">
          Stability: <b id="hud-stability">100%</b>
        </div>
        <div class="jd-hud-chip">
          Obstacles üö´: <b id="hud-obstacles">0 / 0</b>
        </div>
        <div class="jd-hud-chip">
          Time: <b id="hud-time">60.0s</b>
        </div>
      </div>

      <!-- ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô -->
      <div class="jd-play-card">
        <div id="playArea" class="jd-play-area">
          <div class="jd-lane"></div>
          <div id="avatar" class="jd-avatar jd-avatar-stand"></div>
          <div id="obsLayer" class="jd-obstacle-layer"></div>
          <div id="judgeLabel" class="jd-judge">READY</div>
        </div>
      </div>

      <!-- ‡∏™‡∏£‡∏∏‡∏õ‡∏™‡∏±‡πâ‡∏ô + ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô -->
      <p class="jd-howto">
        ‡πÅ‡∏ï‡∏∞‡∏õ‡∏∏‡πà‡∏° <b>Jump</b> ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏´‡πá‡∏ô‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á‡πÄ‡∏ï‡∏µ‡πâ‡∏¢ (‚¨á) ‡πÅ‡∏•‡∏∞ <b>Duck</b> ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏à‡∏≠‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á‡∏™‡∏π‡∏á (‚¨Ü)<br/>
        ‡∏ö‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î‡πÉ‡∏ä‡πâ‡∏õ‡∏∏‡πà‡∏° <b>‚Üë / W / Space = Jump</b>, <b>‚Üì / S = Duck</b>
      </p>

      <!-- ‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏° -->
      <div class="jd-control-row">
        <button class="jd-btn ctrl" data-act="jump">‚¨Ü Jump</button>
        <button class="jd-btn ctrl" data-act="duck">‚¨á Duck</button>
      </div>

      <div class="jd-btn-row secondary">
        <button class="jd-btn ghost" data-action="stop-early">
          ‚èπ ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ / Stop early
        </button>
        <button class="jd-btn ghost" onclick="location.href='./index.html'">
          ‚¨Ö Hub
        </button>
      </div>
    </section>

    <!-- ===== VIEW: RESULT ===== -->
    <section id="view-result" class="jd-view jd-hidden">
      <h2 class="jd-title-small">‚úÖ ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏£‡∏≠‡∏ö‡πÄ‡∏•‡πà‡∏ô / Session summary</h2>

      <div class="jd-result-grid">
        <div class="jd-result-row"><span>Mode</span><b id="res-mode">-</b></div>
        <div class="jd-result-row"><span>Difficulty</span><b id="res-diff">-</b></div>
        <div class="jd-result-row"><span>Score / ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</span><b id="res-score">0</b></div>
        <div class="jd-result-row"><span>Stability (end)</span><b id="res-stab-end">-</b></div>
        <div class="jd-result-row"><span>Stability (min)</span><b id="res-stab-min">-</b></div>

        <div class="jd-result-row"><span>Total obstacles</span><b id="res-obs-total">0</b></div>
        <div class="jd-result-row"><span>Avoided (hits)</span><b id="res-hits">0</b></div>
        <div class="jd-result-row"><span>Collisions (miss)</span><b id="res-miss">0</b></div>
        <div class="jd-result-row"><span>Avoid rate</span><b id="res-accuracy">0 %</b></div>

        <div class="jd-result-row"><span>RT mean</span><b id="res-rt-mean">-</b></div>
      </div>

      <p class="jd-note">
        ‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå CSV ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏ö‡∏£‡∏≠‡∏ö<br/>
        In research mode, CSV is auto-downloaded at the end of the session.
      </p>

      <div class="jd-btn-row">
        <button class="jd-btn primary" data-action="play-again">
          üîÅ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á / Play again
        </button>
        <button class="jd-btn ghost" data-action="back-menu">
          üè† ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π / Back to menu
        </button>
      </div>
    </section>

  </main>

  <script type="module" src="./js/jump-duck.js"></script>
</body>
</html>