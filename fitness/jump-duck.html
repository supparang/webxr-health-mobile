<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Jump-Duck ‚Äî VR Fitness Academy</title>
  <link rel="icon" href="favicon.ico"/>

  <link rel="stylesheet" href="css/jump-duck.css"/>
</head>
<body>
  <div id="jd-app" class="jd-shell">
    <div class="jd-wrap">

      <!-- ===== VIEW: MENU ===== -->
      <section id="view-menu" class="jd-view">
        <div class="jd-card">
          <h1 class="jd-title"><span>ü¶ò Jump-Duck</span></h1>
          <p class="jd-subtitle">
            ‡πÄ‡∏Å‡∏°‡∏ù‡∏∂‡∏Å‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î-‡∏Å‡πâ‡∏°‡∏´‡∏•‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏•‡πà‡∏≠‡∏á‡∏ï‡∏±‡∏ß ‡πÅ‡∏Å‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏•‡∏≥‡∏ï‡∏±‡∏ß ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ó‡∏£‡∏á‡∏ï‡∏±‡∏ß
          </p>

          <div class="jd-menu-grid">
            <!-- Left -->
            <div class="jd-menu-block">
              <div class="jd-field-row">
                <label for="jd-mode">‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</label>
                <select id="jd-mode">
                  <option value="training" selected>‡∏ù‡∏∂‡∏Å (Training) ‚Äî ‡∏ã‡πâ‡∏≠‡∏° / ‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏ô‡∏∏‡∏Å (Adaptive ON)</option>
                  <option value="test">‡∏ó‡∏î‡∏™‡∏≠‡∏ö (Test) ‚Äî ‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏Ñ‡∏á‡∏ó‡∏µ‡πà (Adaptive OFF)</option>
                  <option value="research">‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (Research) ‚Äî deterministic + ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• (Adaptive OFF)</option>
                </select>
                <p class="jd-hint">
                  Training ‡∏à‡∏∞‡πÄ‡∏£‡πà‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞ + Boss Storm ‡∏ï‡∏≤‡∏°‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô ¬∑ Test/Research ‡∏Ñ‡∏á‡∏ó‡∏µ‡πà‡πÅ‡∏•‡∏∞ reproducible
                </p>
              </div>

              <div class="jd-field-row">
                <label for="jd-diff">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</label>
                <select id="jd-diff">
                  <option value="easy">Easy ‚Äî ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ä‡πâ‡∏≤ ‡πÄ‡∏ô‡πâ‡∏ô‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å</option>
                  <option value="normal" selected>Normal ‚Äî ‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢</option>
                  <option value="hard">Hard ‚Äî ‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡∏°‡∏≤‡∏Å</option>
                </select>
              </div>

              <div class="jd-field-row">
                <label for="jd-duration">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö</label>
                <select id="jd-duration">
                  <option value="45">45 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
                  <option value="60" selected>60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
                  <option value="90">90 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
                </select>
              </div>

              <!-- AI -->
              <div class="jd-ai-box">
                <div class="jd-field-row">
                  <label>
                    <input id="jd-ai-enable" type="checkbox" checked/>
                    ‡πÄ‡∏õ‡∏¥‡∏î AI (Predictor/Director/Coach)
                  </label>
                  <p class="jd-hint">
                    Research: AI ‡∏à‡∏∞‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡πÅ‡∏ö‡∏ö ‚Äú‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå+‡πÇ‡∏Ñ‡πâ‡∏ä‚Äù ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏±‡∏ö‡∏¢‡∏≤‡∏Å (Adaptive OFF)
                  </p>
                </div>
                <div class="jd-field-row">
                  <label for="jd-ai-model">AI Model</label>
                  <select id="jd-ai-model">
                    <option value="heuristic" selected>Heuristic (‡πÄ‡∏£‡πá‡∏ß/‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£)</option>
                    <option value="ml-weights">ML Weights JSON (‡∏à‡∏≤‡∏Å tools/train)</option>
                    <option value="tfjs">TFJS Model (DL) (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡πÑ‡∏ü‡∏•‡πå)</option>
                  </select>
                  <p class="jd-hint">‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÇ‡∏°‡πÄ‡∏î‡∏• ‡∏à‡∏∞ fallback ‡πÑ‡∏õ heuristic ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥</p>
                </div>
              </div>

              <!-- Research meta -->
              <div id="jd-research-block" class="jd-research jd-hidden">
                <div class="jd-field-row">
                  <label for="jd-participant-id">Participant ID</label>
                  <input id="jd-participant-id" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô P001, STU-01"/>
                </div>
                <div class="jd-field-row">
                  <label for="jd-group">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏î‡∏•‡∏≠‡∏á / ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°</label>
                  <input id="jd-group" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô EXP, CTRL, G1, G2"/>
                </div>
                <div class="jd-field-row">
                  <label for="jd-note">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
                  <input id="jd-note" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô Pre-test, Post-test ‡∏£‡∏≠‡∏ö 2"/>
                </div>
                <p class="jd-research-hint">
                  Export ‡πÑ‡∏î‡πâ: Summary + Events CSV (‡πÉ‡∏ä‡πâ‡∏à‡∏±‡∏ö‡∏Ñ‡∏π‡πà‡πÅ‡∏ö‡∏ö‡∏™‡∏≠‡∏ö‡∏ñ‡∏≤‡∏°/‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏≠‡∏∑‡πà‡∏ô)
                </p>
              </div>

              <div class="jd-btn-row">
                <button class="jd-btn jd-btn-primary" data-action="start">‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô Jump-Duck</button>
                <button class="jd-btn jd-btn-sub" data-action="tutorial">‚ùì Tutorial ‚Äî ‡∏ã‡πâ‡∏≠‡∏° 15 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</button>
              </div>

              <div class="jd-btn-row jd-btn-row-secondary">
                <a href="hub.html" class="jd-btn jd-btn-sub">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö VR Fitness Hub</a>
              </div>

              <details class="jd-advanced">
                <summary>‚öô Advanced / Query Params</summary>
                <div class="jd-note">
                  ‡πÉ‡∏ä‡πâ‡∏û‡∏≤‡∏£‡∏≤‡∏°‡∏¥‡πÄ‡∏ï‡∏≠‡∏£‡πå‡πÑ‡∏î‡πâ ‡πÄ‡∏ä‡πà‡∏ô <code>?mode=research&diff=normal&time=60&seed=123&ai=1&aimodel=heuristic</code><br/>
                  Research ‡∏à‡∏∞ deterministic ‡∏ï‡∏≤‡∏° seed
                </div>
              </details>
            </div>

            <!-- Right -->
            <div class="jd-menu-block">
              <div class="jd-howto-block">
                <h3 class="jd-section-title">‡∏ß‡∏¥‡∏ò‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h3>
                <ul class="jd-howto-list">
                  <li>‡πÅ‡∏ï‡∏∞‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ö‡∏ô‡∏Ç‡∏≠‡∏á‡∏à‡∏≠ = <b>Jump</b> ü¶ò</li>
                  <li>‡πÅ‡∏ï‡∏∞‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏•‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏à‡∏≠ = <b>Duck</b> üõ°Ô∏è</li>
                  <li>‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î: ‚¨Ü = Jump, ‚¨á = Duck</li>
                  <li><b>Perfect/Great/OK</b> ‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ï‡πà‡∏≤‡∏á‡∏Å‡∏±‡∏ô</li>
                  <li><b>Double</b> ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏î 2 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ï‡∏¥‡∏î‡∏Å‡∏±‡∏ô (‡πÄ‡∏ä‡πà‡∏ô Jump‚ÜíDuck)</li>
                  <li><b>Hold Duck</b> ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡πâ‡∏°‡∏Ñ‡πâ‡∏≤‡∏á‡∏à‡∏ô‡∏û‡πâ‡∏ô (‡∏°‡∏µ‡∏ß‡∏á‡πÅ‡∏™‡∏î‡∏á‡πÄ‡∏ß‡∏•‡∏≤)</li>
                  <li>‡∏ó‡πâ‡∏≤‡∏¢‡πÄ‡∏Å‡∏°‡∏°‡∏µ <b>Boss Storm</b> ‡πÄ‡∏£‡πá‡∏ß+‡∏£‡∏±‡∏ß ‡πÅ‡∏ï‡πà‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏û‡∏∏‡πà‡∏á!</li>
                </ul>
              </div>

              <p class="jd-howto-inline">
                ‡πÇ‡∏´‡∏°‡∏î VR: ‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Ç‡∏¢‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏à‡∏£‡∏¥‡∏á (‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î/‡∏Å‡πâ‡∏°) ‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡∏£‡∏π/‡∏ú‡∏π‡πâ‡∏ä‡πà‡∏ß‡∏¢‡∏Å‡∏î Jump/Duck ‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- ===== VIEW: PLAY ===== -->
      <section id="view-play" class="jd-view jd-hidden">
        <div class="jd-card">
          <h2 class="jd-section-title">‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏•‡πà‡∏ô Jump-Duck</h2>

          <!-- HUD -->
          <div class="jd-hud">
            <div class="jd-hud-col">
              <div class="jd-hud-row"><span class="jd-tag">Mode</span><span class="jd-hud-chip"><strong id="hud-mode">Training</strong></span></div>
              <div class="jd-hud-row"><span class="jd-tag">Diff</span><span class="jd-hud-chip"><strong id="hud-diff">normal</strong></span></div>
              <div class="jd-hud-row"><span class="jd-tag">AI</span><span class="jd-hud-chip"><strong id="hud-ai">ON</strong></span></div>
            </div>

            <div class="jd-hud-col jd-hud-center">
              <div class="jd-hud-row"><span class="jd-tag">Duration</span><span class="jd-hud-chip"><strong id="hud-duration">60s</strong></span></div>
              <div class="jd-hud-row"><span class="jd-tag">Stability</span><span class="jd-hud-chip"><strong id="hud-stability">100%</strong></span></div>
              <div class="jd-hud-row"><span class="jd-tag">Quest</span><span class="jd-hud-chip"><strong id="hud-quest">-</strong></span></div>
            </div>

            <div class="jd-hud-col jd-hud-right">
              <div class="jd-hud-row"><span class="jd-tag">Obstacles</span><span class="jd-hud-chip"><strong id="hud-obstacles">0 / 0</strong></span></div>
              <div class="jd-hud-row"><span class="jd-tag">Score</span><span class="jd-hud-chip"><strong id="hud-score">0</strong></span></div>
              <div class="jd-hud-row"><span class="jd-tag">Combo</span><span class="jd-hud-chip"><strong id="hud-combo">0</strong></span></div>
              <div class="jd-hud-row"><span class="jd-tag">Time left</span><span class="jd-hud-chip"><strong id="hud-time">60.0</strong>s</span></div>
            </div>
          </div>

          <!-- PLAY FIELD -->
          <div id="jd-play-area" class="jd-field jd-play-area">
            <div class="jd-track"><div class="jd-ground"></div></div>

            <div class="jd-hit-line"></div>

            <div id="jd-avatar" class="jd-avatar">
              <div class="jd-avatar-body">üßç‚Äç‚ôÇÔ∏è</div>
              <div id="jd-hold-ring" class="jd-hold-ring jd-hidden">
                <div id="jd-hold-fill" class="jd-hold-fill"></div>
              </div>
            </div>

            <div id="jd-obstacles" class="jd-obstacles"></div>

            <div id="jd-judge" class="jd-judge">READY</div>

            <div id="jd-boss-banner" class="jd-boss jd-hidden">‚ö° BOSS STORM ‚ö°</div>
          </div>

          <p class="jd-howto-inline">
            ‡πÅ‡∏ï‡∏∞‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏ö‡∏ô = Jump ¬∑ ‡∏Ñ‡∏£‡∏∂‡πà‡∏á‡∏•‡πà‡∏≤‡∏á = Duck ¬∑ ‡∏´‡∏£‡∏∑‡∏≠ ‚¨Ü / ‚¨á
          </p>

          <div class="jd-btn-row">
            <button class="jd-btn jd-btn-primary" data-action="stop-early">‚èπ ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</button>
            <a href="hub.html" class="jd-btn jd-btn-sub">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö Hub</a>
          </div>
        </div>
      </section>

      <!-- ===== VIEW: RESULT ===== -->
      <section id="view-result" class="jd-view jd-hidden">
        <div class="jd-card">
          <h2 class="jd-section-title">üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏• Jump-Duck</h2>

          <div class="jd-result-grid">
            <div class="jd-result-row"><span>Mode</span><b id="res-mode">Training</b></div>
            <div class="jd-result-row"><span>Difficulty</span><b id="res-diff">normal</b></div>
            <div class="jd-result-row"><span>Duration</span><b id="res-duration">60s</b></div>

            <div class="jd-result-row"><span>Obstacles ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span><b id="res-total-obs">0</b></div>
            <div class="jd-result-row"><span>Hits ‡∏£‡∏ß‡∏°</span><b id="res-hits">0</b></div>
            <div class="jd-result-row"><span>Miss ‡∏£‡∏ß‡∏°</span><b id="res-miss">0</b></div>

            <div class="jd-result-row"><span>Jump ‡∏ñ‡∏π‡∏Å</span><b id="res-jump-hit">0</b></div>
            <div class="jd-result-row"><span>Duck ‡∏ñ‡∏π‡∏Å</span><b id="res-duck-hit">0</b></div>
            <div class="jd-result-row"><span>Jump ‡∏û‡∏•‡∏≤‡∏î</span><b id="res-jump-miss">0</b></div>
            <div class="jd-result-row"><span>Duck ‡∏û‡∏•‡∏≤‡∏î</span><b id="res-duck-miss">0</b></div>

            <div class="jd-result-row"><span>Perfect</span><b id="res-perfect">0</b></div>
            <div class="jd-result-row"><span>Great</span><b id="res-great">0</b></div>
            <div class="jd-result-row"><span>OK</span><b id="res-ok">0</b></div>

            <div class="jd-result-row"><span>Accuracy</span><b id="res-acc">0.0 %</b></div>
            <div class="jd-result-row"><span>RT ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</span><b id="res-rt-mean">-</b></div>
            <div class="jd-result-row"><span>Stability ‡∏ï‡πà‡∏≥‡∏™‡∏∏‡∏î</span><b id="res-stability-min">0.0 %</b></div>
            <div class="jd-result-row"><span>Score</span><b id="res-score">0</b></div>
            <div class="jd-result-row"><span>Rank</span><b id="res-rank">C</b></div>
          </div>

          <div class="jd-export">
            <button class="jd-btn jd-btn-sub" data-action="export-summary">‚¨á Export Summary JSON</button>
            <button class="jd-btn jd-btn-sub" data-action="export-events">‚¨á Export Events CSV</button>
          </div>

          <p class="jd-note">
            ‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡πà‡∏≠‡∏ô‚Äì‡∏´‡∏•‡∏±‡∏á‡∏ù‡∏∂‡∏Å ‡∏´‡∏£‡∏∑‡∏≠‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏î‡∏•‡∏≠‡∏á‚Äì‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡πÑ‡∏î‡πâ (Research: deterministic ‡∏ï‡∏≤‡∏° seed)
          </p>

          <div class="jd-btn-row">
            <button class="jd-btn jd-btn-primary" data-action="play-again">üîÅ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
          </div>
          <div class="jd-btn-row jd-btn-row-secondary">
            <button class="jd-btn jd-btn-sub" data-action="back-menu">üè† ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π Jump-Duck</button>
            <a href="hub.html" class="jd-btn jd-btn-sub">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö Hub</a>
          </div>
        </div>
      </section>

    </div>
  </div>

  <!-- SFX -->
  <audio id="jd-sfx-hit"   src="audio/jd-hit.mp3"   preload="auto"></audio>
  <audio id="jd-sfx-miss"  src="audio/jd-miss.mp3"  preload="auto"></audio>
  <audio id="jd-sfx-combo" src="audio/jd-combo.mp3" preload="auto"></audio>
  <audio id="jd-sfx-beep"  src="audio/jd-beep.mp3"  preload="auto"></audio>
  <audio id="jd-sfx-boss"  src="audio/jd-boss.mp3"  preload="auto"></audio>

  <!-- AI modules (plain scripts) -->
  <script src="js/ai/jd-ai-predictor.js"></script>
  <script src="js/ai/jd-ai-director.js"></script>
  <script src="js/ai/jd-ai-coach.js"></script>

  <!-- Main -->
  <script src="js/jump-duck.js"></script>
</body>
</html>