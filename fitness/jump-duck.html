<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <title>Jump & Duck ‚Äî VR Fitness Suite</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <meta name="color-scheme" content="dark light"/>
  <link rel="stylesheet" href="./css/jump-duck.css"/>
</head>
<body>
  <div id="app">

    <!-- ===== VIEW: MENU ===== -->
    <section id="view-menu" class="view">
      <h1 class="title">ü¶ò Jump & Duck <span class="sub">Reflex Runner</span></h1>
      <p class="subtitle">
        ‡πÄ‡∏Å‡∏°‡∏ß‡∏¥‡πà‡∏á‡∏´‡∏•‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á: ‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏Ç‡πâ‡∏≤‡∏°‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á‡πÄ‡∏ï‡∏µ‡πâ‡∏¢ (Jump) ‡πÅ‡∏•‡∏∞‡∏Å‡πâ‡∏°‡∏´‡∏•‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á‡∏™‡∏π‡∏á (Duck)
        ‚Äî ‡∏ß‡∏±‡∏î reaction time, ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ä‡∏ô, ‡πÅ‡∏•‡∏∞ fatigue
      </p>

      <div class="field">
        <label for="difficulty">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å / Difficulty</label>
        <select id="difficulty">
          <option value="easy">‡∏á‡πà‡∏≤‡∏¢ (Easy) ‚Äî ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ä‡πâ‡∏≤ ‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢</option>
          <option value="normal" selected>‡∏õ‡∏Å‡∏ï‡∏¥ (Normal) ‚Äî ‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏î‡∏µ</option>
          <option value="hard">‡∏¢‡∏≤‡∏Å (Hard) ‚Äî ‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡∏ñ‡∏µ‡πà ‡∏ï‡πâ‡∏≠‡∏á‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏™‡∏π‡∏á</option>
        </select>
      </div>

      <div class="field">
        <label for="duration">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤ / Duration</label>
        <select id="duration">
          <option value="60" selected>60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
          <option value="90">90 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
        </select>
      </div>

      <div class="btn-row">
        <button data-action="start-normal" class="btn primary">
          üéÆ ‡πÄ‡∏•‡πà‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ / Play
        </button>
        <button data-action="goto-research" class="btn">
          üìä ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ / Research mode
        </button>
      </div>

      <div class="howto">
        <strong>‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô (PC/Mobile):</strong><br/>
        ‚Ä¢ ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° <b>Jump</b> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏Ç‡πâ‡∏≤‡∏°‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á‡πÄ‡∏ï‡∏µ‡πâ‡∏¢ ü™µ<br/>
        ‚Ä¢ ‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏° <b>Duck</b> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏≠‡∏î‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á‡∏™‡∏π‡∏á üîª<br/>
        ‚Ä¢ Keyboard: ‡∏õ‡∏∏‡πà‡∏° ‚Üë = Jump, ‡∏õ‡∏∏‡πà‡∏° ‚Üì = Duck
      </div>

      <div class="btn-row secondary">
        <button class="btn ghost" onclick="location.href='./index.html'">
          ‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö Fitness Hub / Back to Hub
        </button>
      </div>
    </section>

    <!-- ===== VIEW: RESEARCH FORM ===== -->
    <section id="view-research" class="view hidden">
      <h2>üìä ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ / Research mode</h2>
      <p class="subtitle">
        ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πà‡∏á‡∏´‡∏•‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á / Fill participant info
      </p>

      <div class="field">
        <label for="researchId">‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° / Participant ID</label>
        <input id="researchId" placeholder="‡πÄ‡∏ä‡πà‡∏ô P001, S01, E01"/>
      </div>
      <div class="field">
        <label for="researchGroup">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ß‡∏¥‡∏à‡∏±‡∏¢ / Group</label>
        <input id="researchGroup" placeholder="‡πÄ‡∏ä‡πà‡∏ô Control / Training / VR-Only"/>
      </div>
      <div class="field">
        <label for="researchPhase">‡∏£‡∏∞‡∏¢‡∏∞ / Phase</label>
        <input id="researchPhase" placeholder="‡πÄ‡∏ä‡πà‡∏ô Pre-test / Post-test / Follow-up"/>
      </div>

      <div class="btn-row">
        <button data-action="start-research" class="btn primary">
          ‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ / Start research
        </button>
        <button data-action="back-menu" class="btn ghost">
          ‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π / Back
        </button>
      </div>
    </section>

    <!-- ===== VIEW: PLAY ===== -->
    <section id="view-play" class="view hidden">
      <div id="hud">
        <span>Mode: <b id="hud-mode">-</b></span>
        <span>Diff: <b id="hud-diff">-</b></span>
        <span>Time: <b id="hud-time">60.0</b>s</span>
      </div>
      <div id="hud2">
        <span>Score: <b id="hud-score">0</b></span>
        <span>Combo: <b id="hud-combo">0</b></span>
        <span>Miss: <b id="hud-miss">0</b></span>
        <span>HP: <b id="hud-hp">100</b></span>
      </div>

      <div id="playArea">
        <div id="lane-bg"></div>
        <div id="runner">
          <div id="runner-emoji">üßë‚ÄçüöÄ</div>
        </div>
        <div id="obstacle-layer"></div>
        <div id="ground"></div>
        <div id="judgeLabel" class="judge">READY</div>
      </div>

      <div class="btn-row">
        <button data-action="tap-jump" class="btn action-btn">
          ‚¨Ü Jump
        </button>
        <button data-action="tap-duck" class="btn action-btn">
          ‚¨á Duck
        </button>
      </div>

      <p class="howto">
        ‡πÅ‡∏ï‡∏∞ Jump / Duck ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ó‡∏µ‡πà‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡πÄ‡∏™‡πâ‡∏ô‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö (‡πÄ‡∏™‡πâ‡∏ô‡∏Å‡∏•‡∏≤‡∏á) ‚Äî
        ‡∏ñ‡πâ‡∏≤‡∏Å‡∏î‡πÑ‡∏°‡πà‡∏ó‡∏±‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î‡∏ú‡∏¥‡∏î‡∏ó‡πà‡∏≤ ‡∏à‡∏∞‡∏ñ‡∏∑‡∏≠‡∏ß‡πà‡∏≤‡∏ä‡∏ô‡πÅ‡∏•‡∏∞‡πÄ‡∏™‡∏µ‡∏¢ HP
      </p>

      <div class="btn-row secondary">
        <button data-action="stop" class="btn ghost">
          ‚èπ ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ / Stop early
        </button>
        <button class="btn ghost" onclick="location.href='./index.html'">
          ‚¨Ö Hub
        </button>
      </div>
    </section>

    <!-- ===== VIEW: RESULT ===== -->
    <section id="view-result" class="view hidden">
      <h2>üìà ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏• / Session summary</h2>

      <div class="result-grid">
        <div class="result-row"><span>Mode</span><b id="res-mode"></b></div>
        <div class="result-row"><span>Difficulty</span><b id="res-diff"></b></div>
        <div class="result-row"><span>Duration (s)</span><b id="res-duration"></b></div>
        <div class="result-row"><span>End reason</span><b id="res-end"></b></div>

        <div class="result-row"><span>Score</span><b id="res-score"></b></div>
        <div class="result-row"><span>Max combo</span><b id="res-maxcombo"></b></div>
        <div class="result-row"><span>Total obstacles</span><b id="res-total"></b></div>
        <div class="result-row"><span>Successful avoid</span><b id="res-avoid"></b></div>
        <div class="result-row"><span>Collisions</span><b id="res-hit"></b></div>
        <div class="result-row"><span>Accuracy (avoid/total)</span><b id="res-acc"></b></div>

        <div class="result-row"><span>RT mean (Jump)</span><b id="res-rt-jump"></b></div>
        <div class="result-row"><span>RT mean (Duck)</span><b id="res-rt-duck"></b></div>
        <div class="result-row"><span>Fatigue index</span><b id="res-fatigue"></b></div>
      </div>

      <p class="note">
        ‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå CSV ‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏™‡πà‡∏á‡∏Ç‡∏∂‡πâ‡∏ô cloud ‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ VRFITNESS_UPLOAD_URL<br/>
        In research mode, a CSV file is downloaded and can be uploaded to cloud if configured.
      </p>

      <div class="btn-row">
        <button data-action="play-again" class="btn primary">üîÅ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á / Play again</button>
        <button data-action="back-menu" class="btn ghost">üè† ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π / Back to menu</button>
      </div>
    </section>

  </div>

  <script type="module" src="./js/jump-duck.js"></script>
</body>
</html>