<!-- === /fitness/jump-duck.html ‚Äî Jump-Duck (Play) v20260221a === -->
<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Jump-Duck</title>
  <meta name="color-scheme" content="dark light" />
  <link rel="stylesheet" href="./css/jump-duck.css" />
</head>
<body>
  <div id="jd-fatal" class="jd-fatal jd-hidden"></div>

  <div class="jd-shell" id="jd-wrap">
    <div class="jd-wrap">
      <div class="jd-view">

        <!-- ===== MENU ===== -->
        <section id="view-menu" class="jd-card">
          <div class="jd-header">
            <h1 class="jd-title">Jump-Duck</h1>
            <p class="jd-subtitle">‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏´‡∏•‡∏ö ‚ÄúLOW‚Äù / ‡∏Å‡πâ‡∏°‡∏´‡∏•‡∏ö ‚ÄúHIGH‚Äù ‚Äî ‡∏°‡∏µ Boss 3 ‡πÄ‡∏ü‡∏™ + Overdrive + Feint</p>
          </div>

          <div class="jd-menu-grid">
            <div class="jd-menu-block">
              <div class="jd-field-row">
                <label for="jd-mode">Mode</label>
                <select id="jd-mode">
                  <option value="training">training</option>
                  <option value="test">test</option>
                  <option value="research">research</option>
                </select>
                <p class="jd-hint">Test/Research: AI ‚Äú‡πÇ‡∏ä‡∏ß‡πå prediction ‡πÑ‡∏î‡πâ‚Äù ‡πÅ‡∏ï‡πà <b>‡∏•‡πá‡∏≠‡∏Å</b> ‡πÑ‡∏°‡πà‡∏õ‡∏£‡∏±‡∏ö‡πÄ‡∏Å‡∏°</p>
              </div>

              <div class="jd-field-row">
                <label for="jd-diff">Difficulty</label>
                <select id="jd-diff">
                  <option value="easy">easy</option>
                  <option value="normal" selected>normal</option>
                  <option value="hard">hard</option>
                </select>
              </div>

              <div class="jd-field-row">
                <label for="jd-duration">Duration</label>
                <select id="jd-duration">
                  <option value="45">45s</option>
                  <option value="60" selected>60s</option>
                  <option value="80">80s</option>
                  <option value="120">120s</option>
                </select>
              </div>

              <div class="jd-research jd-hidden" id="jd-research-block">
                <div class="jd-field-row">
                  <label for="jd-participant-id">Participant ID</label>
                  <input id="jd-participant-id" placeholder="‡πÄ‡∏ä‡πà‡∏ô P001"/>
                </div>
                <div class="jd-field-row">
                  <label for="jd-group">Group</label>
                  <input id="jd-group" placeholder="‡πÄ‡∏ä‡πà‡∏ô A / B"/>
                </div>
                <div class="jd-field-row">
                  <label for="jd-note">Note</label>
                  <input id="jd-note" placeholder="‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏™‡∏±‡πâ‡∏ô ‡πÜ"/>
                </div>
                <p class="jd-research-hint">‡∏ñ‡πâ‡∏≤‡πÉ‡∏™‡πà <b>?log=</b> ‡πÄ‡∏Å‡∏°‡∏à‡∏∞‡∏™‡πà‡∏á summary+CSV ‡πÑ‡∏õ Cloud Logger</p>
              </div>

              <div class="jd-btn-row">
                <button class="jd-btn jd-btn-primary" data-action="start">Start</button>
                <button class="jd-btn jd-btn-sub" data-action="tutorial">Tutorial 15s</button>
              </div>

              <div class="jd-mini-note">
                <span class="jd-pill">üéØ Boss: 3 phases</span>
                <span class="jd-pill">‚ö° Overdrive</span>
                <span class="jd-pill">üåÄ Hold-Duck</span>
                <span class="jd-pill">üíó Feint</span>
              </div>
              <div class="jd-mini-note-text jd-howto-inline">
                PC: W/‚Üë = Jump, S/‚Üì = Duck ‚Ä¢ Mobile/cVR: ‡πÅ‡∏ï‡∏∞ ‚Äú‡∏ö‡∏ô‚Äù=Jump, ‚Äú‡∏•‡πà‡∏≤‡∏á‚Äù=Duck
              </div>
            </div>

            <div class="jd-menu-block">
              <h3 class="jd-section-title">‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô</h3>
              <ol class="jd-howto-list">
                <li>‡∏î‡∏π‡πÅ‡∏ó‡πá‡∏Å <b>LOW/HIGH/HOLD</b> (‡∏ö‡∏≤‡∏á‡∏≠‡∏±‡∏ô‡πÄ‡∏õ‡πá‡∏ô <b>Feint</b> ‡πÇ‡∏ú‡∏•‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏ä‡∏°‡∏û‡∏π)</li>
                <li>‡πÄ‡∏Ç‡πâ‡∏≤ Phase 2 ‡∏à‡∏∞‡∏°‡∏µ ‚ÄúTempo Shift‚Äù ‡πÅ‡∏•‡∏∞ double pattern</li>
                <li>Phase 3 ‡∏°‡∏µ burst + ‡∏°‡∏µ‡πÇ‡∏≠‡∏Å‡∏≤‡∏™‡πÑ‡∏î‡πâ <b>Shield</b></li>
                <li>Fever ‡πÄ‡∏ï‡πá‡∏° ‚Üí ‡∏≠‡∏≤‡∏à‡πÄ‡∏Ç‡πâ‡∏≤ <b>Overdrive</b> (‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏à‡∏±‡∏ö‡πÄ‡∏ß‡∏•‡∏≤‡πÅ‡∏Ñ‡∏ö‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏ï‡πà‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ñ‡∏π‡∏ì)</li>
              </ol>
              <div class="jd-callout">
                <div style="font-weight:900;">AI Prediction (Baseline)</div>
                <div class="jd-callout-text">HUD ‡∏à‡∏∞‡πÇ‡∏ä‡∏ß‡πå ‚Äú‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô 5 ‡∏ß‡∏¥‚Äù + tip (Test/Research ‡∏•‡πá‡∏≠‡∏Å‡∏ú‡∏•‡∏Å‡∏£‡∏∞‡∏ó‡∏ö)</div>
              </div>

              <div class="jd-btn-row jd-btn-row-secondary">
                <a class="jd-btn" id="jd-back-hub-menu" href="../herohealth/hub.html">Back to Hub</a>
              </div>
            </div>
          </div>
        </section>

        <!-- ===== PLAY ===== -->
        <section id="view-play" class="jd-card jd-card-play jd-hidden">
          <div class="jd-topbar">
            <div class="jd-badge">Mode: <span id="hud-mode">‚Äî</span></div>
            <div class="jd-topbar-actions">
              <a class="jd-btn jd-btn-sub" id="jd-back-hub-play" href="../herohealth/hub.html">Hub</a>
              <button class="jd-btn" data-action="stop-early">Stop</button>
            </div>
          </div>

          <!-- bars -->
          <div class="jd-bars">
            <div class="jd-bar jd-bar-progress">
              <div class="jd-bar-label">PROGRESS</div>
              <div class="jd-bar-track"><div class="jd-bar-fill" id="hud-prog-fill"></div></div>
              <div class="jd-bar-text" id="hud-prog-text">0%</div>
            </div>
            <div class="jd-bar jd-bar-fever">
              <div class="jd-bar-label">FEVER</div>
              <div class="jd-bar-track"><div class="jd-bar-fill" id="hud-fever-fill"></div></div>
              <div class="jd-bar-text" id="hud-fever-status">READY</div>
            </div>
          </div>

          <!-- boss bar -->
          <div class="jd-bossbar" id="boss-bar-wrap">
            <div class="jd-bossbar-head">
              <div class="jd-bossbar-title">BOSS (<span id="hud-boss">MIXED</span>)</div>
              <div class="jd-bossbar-status" id="hud-boss-status">READY</div>
            </div>
            <div class="jd-bossbar-track"><div class="jd-bossbar-fill" id="hud-boss-fill"></div></div>
          </div>

          <!-- HUD grid -->
          <div class="jd-hud">
            <div class="jd-hud-col">
              <div class="jd-hud-row"><span class="jd-tag">DIFF</span><span class="jd-hud-chip" id="hud-diff">‚Äî</span></div>
              <div class="jd-hud-row"><span class="jd-tag">DUR</span><span class="jd-hud-chip" id="hud-duration">‚Äî</span></div>
              <div class="jd-hud-row"><span class="jd-tag">PHASE</span><span class="jd-hud-chip" id="hud-phase">1</span></div>
              <div class="jd-hud-row"><span class="jd-tag">TIME LEFT</span><span class="jd-hud-chip" id="hud-time">0.0</span></div>
            </div>

            <div class="jd-hud-col">
              <div class="jd-hud-row"><span class="jd-tag">SCORE</span><span class="jd-hud-chip" id="hud-score">0</span></div>
              <div class="jd-hud-row"><span class="jd-tag">COMBO</span><span class="jd-hud-chip" id="hud-combo">0</span></div>
              <div class="jd-hud-row"><span class="jd-tag">OBSTACLES</span><span class="jd-hud-chip" id="hud-obstacles">0</span></div>
              <div class="jd-hud-row"><span class="jd-tag">STABILITY</span><span class="jd-hud-chip" id="hud-stability">100%</span></div>
            </div>

            <!-- ‚úÖ AI HUD -->
            <div class="jd-hud-col">
              <div class="jd-hud-row"><span class="jd-tag">AI LOCK</span><span class="jd-hud-chip" id="hud-ai-locked">‚Äî</span></div>
              <div class="jd-hud-row"><span class="jd-tag">MISS RISK (5s)</span><span class="jd-hud-chip" id="hud-ai-risk">0%</span></div>
              <div class="jd-hud-row"><span class="jd-tag">DRIFT</span><span class="jd-hud-chip" id="hud-ai-drift">0%</span></div>
              <div class="jd-hud-row"><span class="jd-tag">TIP</span><span class="jd-hud-chip" id="hud-ai-tip">‚Äî</span></div>
            </div>
          </div>

          <!-- play area -->
          <div class="jd-play-area" id="jd-play-area">
            <div class="jd-track"></div>
            <div class="jd-ground"></div>
            <div class="jd-hit-line"></div>

            <div class="jd-avatar" id="jd-avatar">üßç‚Äç‚ôÇÔ∏è</div>

            <div class="jd-obstacles" id="jd-obstacles"></div>

            <div class="jd-judge" id="jd-judge">OK</div>

            <!-- telegraph overlay (pointer-events:none in CSS) -->
            <div class="jd-tele jd-hidden" id="jd-tele"><div class="jd-tele-inner">READY</div></div>
          </div>

          <!-- action bar (mobile/cvr only, CSS controls display) -->
          <div class="jd-actionbar">
            <button class="jd-btn jd-btn-action jd-jump" data-action="jump">JUMP</button>
            <button class="jd-btn jd-btn-action jd-duck" data-action="duck">DUCK</button>
          </div>

          <div class="jd-howto-inline jd-howto-play">
            PC: W/‚Üë = Jump, S/‚Üì = Duck ‚Ä¢ Mobile/cVR: ‡πÅ‡∏ï‡∏∞‡∏ö‡∏ô/‡∏•‡πà‡∏≤‡∏á ‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°
          </div>
        </section>

        <!-- ===== RESULT ===== -->
        <section id="view-result" class="jd-card jd-hidden">
          <div class="jd-topbar">
            <div class="jd-badge">Result</div>
            <div class="jd-topbar-actions">
              <a class="jd-btn jd-btn-sub" id="jd-back-hub-result" href="../herohealth/hub.html">Hub</a>
              <button class="jd-btn jd-btn-primary" data-action="play-again">Play Again</button>
              <button class="jd-btn" data-action="back-menu">Menu</button>
            </div>
          </div>

          <div class="jd-result-grid">
            <div class="jd-result-row"><span>Mode</span><b id="res-mode">‚Äî</b></div>
            <div class="jd-result-row"><span>Diff</span><b id="res-diff">‚Äî</b></div>
            <div class="jd-result-row"><span>Duration</span><b id="res-duration">‚Äî</b></div>
            <div class="jd-result-row"><span>Total obstacles</span><b id="res-total-obs">0</b></div>

            <div class="jd-result-row"><span>Hits</span><b id="res-hits">0</b></div>
            <div class="jd-result-row"><span>Miss</span><b id="res-miss">0</b></div>

            <div class="jd-result-row"><span>Jump hit</span><b id="res-jump-hit">0</b></div>
            <div class="jd-result-row"><span>Duck hit</span><b id="res-duck-hit">0</b></div>

            <div class="jd-result-row"><span>Jump miss</span><b id="res-jump-miss">0</b></div>
            <div class="jd-result-row"><span>Duck miss</span><b id="res-duck-miss">0</b></div>

            <div class="jd-result-row"><span>Accuracy</span><b id="res-acc">0%</b></div>
            <div class="jd-result-row"><span>Avg RT</span><b id="res-rt-mean">-</b></div>

            <div class="jd-result-row"><span>Stability min</span><b id="res-stability-min">-</b></div>
            <div class="jd-result-row"><span>Score</span><b id="res-score">0</b></div>

            <div class="jd-result-row"><span>Rank</span><b id="res-rank">C</b></div>
            <div class="jd-result-row"><span>AI (risk/drift)</span><b id="res-ai">-</b></div>
          </div>

          <!-- ‚úÖ Download CSV buttons -->
          <div class="jd-btn-row" style="margin-top:12px;">
            <button class="jd-btn" id="btn-dl-events">Download Events CSV</button>
            <button class="jd-btn" id="btn-dl-sessions">Download Sessions CSV</button>
          </div>

          <p class="jd-note">
            ‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡∏¥‡∏î‡∏î‡πâ‡∏ß‡∏¢ <b>?log=</b> ‡πÄ‡∏Å‡∏°‡∏à‡∏∞‡∏™‡πà‡∏á session summary + CSV ‡πÅ‡∏ô‡∏ö‡πÑ‡∏õ‡∏ó‡∏µ‡πà Cloud Logger ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏ö‡πÄ‡∏Å‡∏°
          </p>
        </section>

      </div>
    </div>
  </div>

  <!-- optional SFX (‡∏õ‡∏•‡πà‡∏≠‡∏¢‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏î‡πâ ‡πÄ‡∏Å‡∏°‡∏à‡∏∞‡πÑ‡∏°‡πà‡∏û‡∏±‡∏á) -->
  <audio id="jd-sfx-hit" preload="auto"></audio>
  <audio id="jd-sfx-miss" preload="auto"></audio>
  <audio id="jd-sfx-combo" preload="auto"></audio>
  <audio id="jd-sfx-beep" preload="auto"></audio>
  <audio id="jd-sfx-boss" preload="auto"></audio>
  <audio id="jd-sfx-fever" preload="auto"></audio>

  <script src="./js/jump-duck.js"></script>
</body>
</html>