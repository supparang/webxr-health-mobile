<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <title>Jump & Duck ‚Äî VR Fitness Suite</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <meta name="color-scheme" content="dark light"/>
  <link rel="stylesheet" href="./css/jump-duck.css"/>
</head>
<body>
  <div id="app">

    <!-- ===== VIEW: MENU ===== -->
    <section id="view-menu" class="view">
      <h1 class="title">
        ü¶ò Jump & Duck
        <span class="sub">Reflex Track</span>
      </h1>
      <p class="subtitle">
        ‡∏´‡∏•‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î / ‡∏Å‡πâ‡∏° ‚Äî ‡∏ß‡∏±‡∏î reaction, decision & fatigue<br/>
        Jump over low obstacles, duck under high ones.
      </p>

      <div class="field">
        <label for="difficulty">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å / Difficulty</label>
        <select id="difficulty">
          <option value="easy">‡∏á‡πà‡∏≤‡∏¢ (Easy) ‚Äî ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ä‡πâ‡∏≤‡∏•‡∏á, HP ‡πÄ‡∏¢‡∏≠‡∏∞</option>
          <option value="normal" selected>‡∏õ‡∏Å‡∏ï‡∏¥ (Normal) ‚Äî ‡∏Ñ‡πà‡∏≤‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô</option>
          <option value="hard">‡∏¢‡∏≤‡∏Å (Hard) ‚Äî ‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á‡∏ñ‡∏µ‡πà, HP ‡∏ô‡πâ‡∏≠‡∏¢</option>
        </select>
      </div>

      <div class="btn-row">
        <button class="btn primary" data-action="start-normal">
          üéÆ ‡πÄ‡∏•‡πà‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ / Play
        </button>
        <button class="btn" data-action="goto-research">
          üìä ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ / Research mode
        </button>
      </div>

      <div class="btn-row secondary">
        <button class="btn ghost" onclick="location.href='./index.html'">
          ‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö Fitness Hub / Back to Hub
        </button>
      </div>
    </section>

    <!-- ===== VIEW: RESEARCH FORM ===== -->
    <section id="view-research" class="view hidden">
      <h2 class="title" style="font-size:1.3rem;justify-content:flex-start;">
        üìä Research mode
      </h2>
      <p class="subtitle">
        ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å CSV ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á
      </p>

      <div class="field">
        <label for="researchId">‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° / Participant ID</label>
        <input id="researchId" placeholder="‡πÄ‡∏ä‡πà‡∏ô P001, S01, E01"/>
      </div>
      <div class="field">
        <label for="researchGroup">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ß‡∏¥‡∏à‡∏±‡∏¢ / Group</label>
        <input id="researchGroup" placeholder="‡πÄ‡∏ä‡πà‡∏ô Control / Training / VR-only"/>
      </div>
      <div class="field">
        <label for="researchPhase">‡∏£‡∏∞‡∏¢‡∏∞ / Phase</label>
        <input id="researchPhase" placeholder="‡πÄ‡∏ä‡πà‡∏ô Pre-test / Post-test / Follow-up"/>
      </div>

      <div class="btn-row">
        <button class="btn primary" data-action="start-research">
          ‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ / Start research
        </button>
        <button class="btn ghost" data-action="back-menu">
          ‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π / Back
        </button>
      </div>
    </section>

    <!-- ===== VIEW: PLAY ===== -->
    <section id="view-play" class="view hidden">
      <div id="hud">
        <span>Mode: <b id="hud-mode">-</b></span>
        <span>Diff: <b id="hud-diff">-</b></span>
      </div>
      <div id="hud2">
        <span>Score: <b id="hud-score">0</b></span>
        <span>Combo: <b id="hud-combo">0</b></span>
        <span>Miss: <b id="hud-miss">0</b></span>
        <span>HP: <b id="hud-hp">100</b></span>
        <span>Time: <b id="hud-time">60.0</b>s</span>
      </div>

      <div id="playArea">
        <div id="lane-bg"></div>
        <div id="ground"></div>

        <div id="runner">
          <div id="runner-emoji">üèÉ‚Äç‚ôÇÔ∏è</div>
        </div>

        <div id="obstacle-layer"></div>

        <div id="judgeLabel" class="judge">READY</div>
      </div>

      <p class="howto">
        ‡πÅ‡∏ï‡∏∞‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô‡∏à‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏∏‡πà‡∏° ‚¨Ü ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏£‡∏∞‡πÇ‡∏î‡∏î‡∏Ç‡πâ‡∏≤‡∏°‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á‡πÄ‡∏ï‡∏µ‡πâ‡∏¢ (low)<br/>
        ‡πÅ‡∏ï‡∏∞‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏à‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏∏‡πà‡∏° ‚¨á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡πâ‡∏°‡∏´‡∏•‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏Å‡∏µ‡∏î‡∏Ç‡∏ß‡∏≤‡∏á‡∏™‡∏π‡∏á (high)<br/>
        Tap upper area / ‚¨Ü to jump, lower area / ‚¨á to duck.
      </p>

      <div class="btn-row">
        <button class="btn action-btn" data-action="jump">‚¨Ü Jump</button>
        <button class="btn action-btn" data-action="duck">‚¨á Duck</button>
      </div>

      <div class="btn-row secondary">
        <button class="btn ghost" data-action="stop">
          ‚èπ ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ / Stop early
        </button>
        <button class="btn ghost" onclick="location.href='./index.html'">
          ‚¨Ö Hub
        </button>
      </div>
    </section>

    <!-- ===== VIEW: RESULT ===== -->
    <section id="view-result" class="view hidden">
      <h2 class="title" style="font-size:1.4rem;">
        üìà ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏• Jump & Duck
      </h2>

      <div class="result-grid">
        <div class="result-row">
          <span>Mode</span><b id="res-mode">-</b>
        </div>
        <div class="result-row">
          <span>Difficulty</span><b id="res-diff">-</b>
        </div>
        <div class="result-row">
          <span>End reason</span><b id="res-end">-</b>
        </div>

        <div class="result-row">
          <span>Score / ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</span><b id="res-score">0</b>
        </div>
        <div class="result-row">
          <span>Max combo</span><b id="res-maxcombo">0</b>
        </div>
        <div class="result-row">
          <span>Total miss (hit obstacle)</span><b id="res-miss">0</b>
        </div>
        <div class="result-row">
          <span>HP ‡∏´‡∏•‡∏±‡∏á‡∏à‡∏ö‡∏£‡∏≠‡∏ö</span><b id="res-hp-end">0</b>
        </div>

        <div class="result-row">
          <span>Total obstacles</span><b id="res-obs-total">0</b>
        </div>
        <div class="result-row">
          <span>Cleared correctly</span><b id="res-obs-clear">0</b>
        </div>
        <div class="result-row">
          <span>Hit rate (clear/total)</span><b id="res-hit-rate">-</b>
        </div>
        <div class="result-row">
          <span>Avg reaction</span><b id="res-avg-rt">-</b>
        </div>
      </div>

      <p class="note">
        ‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏à‡∏∞‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡πÑ‡∏ü‡∏•‡πå CSV ‡πÉ‡∏´‡πâ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏ö‡∏£‡∏≠‡∏ö<br/>
        CSV will auto-download at end of research sessions.
      </p>

      <div class="btn-row">
        <button class="btn primary" data-action="play-again">
          üîÅ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á / Play again
        </button>
        <button class="btn ghost" data-action="back-menu">
          üè† ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π / Back to menu
        </button>
      </div>
    </section>

  </div>

  <script src="./js/jump-duck.js"></script>
</body>
</html>