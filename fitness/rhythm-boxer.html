<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Rhythm Boxer</title>
  <meta name="color-scheme" content="dark light"/>
  <link rel="stylesheet" href="css/rhythm-boxer.css"/>
</head>
<body>
<div id="rb-wrap">

  <!-- ========== MENU VIEW ========== -->
  <div id="rb-view-menu" class="rb-view">
    <header class="rb-header">
      <h1 class="rb-title-main">Rhythm Boxer üéµü•ä</h1>
      <p class="rb-title-sub">‡πÄ‡∏Å‡∏°‡∏ù‡∏∂‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° VR Fitness / ‡∏ß‡∏¥‡∏à‡∏±‡∏¢</p>
    </header>

    <section class="rb-card rb-card-menu">
      <div class="rb-field-group">
        <div class="rb-field-label">‡πÇ‡∏´‡∏°‡∏î</div>
        <label class="rb-radio">
          <input type="radio" name="mode" value="normal" checked>
          <span>Normal</span>
        </label>
        <label class="rb-radio">
          <input type="radio" name="mode" value="research">
          <span>Research</span>
        </label>
      </div>

      <div id="rb-research-fields" class="rb-field-group hidden">
        <div class="rb-field-label">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ß‡∏¥‡∏à‡∏±‡∏¢</div>
        <div class="rb-field-row">
          <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°
            <input id="rb-participant" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô P001">
          </label>
        </div>
        <div class="rb-field-row">
          <label>‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏î‡∏•‡∏≠‡∏á/‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°
            <input id="rb-group" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô EXP / CTRL">
          </label>
        </div>
        <div class="rb-field-row">
          <label>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏
            <input id="rb-note" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ä‡πâ‡∏≤ / ‡∏£‡∏≠‡∏ö‡∏ó‡∏µ‡πà 2">
          </label>
        </div>
      </div>

      <div class="rb-field-group">
        <div class="rb-field-label">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏•‡∏á</div>
        <select id="rb-track">
          <option value="t1">Warm-up Groove (Easy)</option>
          <option value="t2">Punch Rush (Normal)</option>
          <option value="t3">Ultra Beat Combo (Hard)</option>
          <option value="research">Research Track 120 (Research)</option>
        </select>
      </div>

      <div class="rb-menu-actions">
        <button id="rb-btn-start" class="rb-btn rb-btn-primary">
          ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô ‚ñ∂
        </button>
        <a href="hub.html" class="rb-btn rb-btn-ghost">‡∏Å‡∏•‡∏±‡∏ö Hub</a>
      </div>

      <p class="rb-hint">
        ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏™‡πà‡∏´‡∏π‡∏ü‡∏±‡∏á ‡πÅ‡∏•‡∏∞‡∏•‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏£‡∏≠‡∏ö‡∏ó‡∏î‡∏•‡∏≠‡∏á 1 ‡πÄ‡∏û‡∏•‡∏á‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏£‡∏¥‡∏á üéß
      </p>
    </section>
  </div>

  <!-- ========== PLAY VIEW ========== -->
  <div id="rb-view-play" class="rb-view hidden">
    <header class="rb-header">
      <div class="rb-title-main">Rhythm Boxer üéµü•ä</div>
    </header>

    <!-- HUD -->
    <section class="rb-hud">
      <div class="rb-hud-col">
        <div>Mode: <span id="rb-hud-mode">Normal</span></div>
        <div>Track: <span id="rb-hud-track">Warm-up Groove</span></div>
        <div>‡πÄ‡∏ß‡∏•‡∏≤: <span id="rb-hud-time">0.0</span>s</div>
      </div>
      <div class="rb-hud-col">
        <div>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="rb-hud-score">0</span></div>
        <div>Combo: <span id="rb-hud-combo">0</span></div>
        <div>Acc: <span id="rb-hud-acc">0.0%</span></div>
        <div>P/Gd/G/Ms:
          <span id="rb-hud-perfect">0</span> /
          <span id="rb-hud-great">0</span> /
          <span id="rb-hud-good">0</span> /
          <span id="rb-hud-miss">0</span>
        </div>
      </div>
    </section>

    <!-- Progress -->
    <div class="rb-progress-wrap">
      <div class="rb-progress-bar">
        <div id="rb-progress-fill" class="rb-progress-fill"></div>
      </div>
      <div id="rb-progress-text" class="rb-progress-text">0%</div>
    </div>

    <!-- Lanes -->
    <div id="rb-lanes" class="rb-lanes">
      <div class="rb-lane" data-lane="0"></div>
      <div class="rb-lane" data-lane="1"></div>
      <div class="rb-lane" data-lane="2"></div>
      <div class="rb-lane" data-lane="3"></div>
      <div class="rb-lane" data-lane="4"></div>
    </div>

    <!-- FEVER -->
    <div class="rb-fever-wrap">
      <div class="rb-fever-label">Fever</div>
      <div class="rb-fever-bar">
        <div id="rb-fever-fill" class="rb-fever-fill"></div>
      </div>
      <div id="rb-fever-status">FEVER</div>
    </div>

    <!-- Coach text -->
    <div id="rb-feedback" class="rb-feedback">
      ‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ó‡∏µ‡πà‡πÄ‡∏™‡πâ‡∏ô‡∏•‡πà‡∏≤‡∏á ‡πÅ‡∏•‡πâ‡∏ß‡πÅ‡∏ï‡∏∞‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏û‡∏•‡∏á üéµ
    </div>

    <!-- Controls -->
    <div class="rb-play-actions">
      <button id="rb-btn-stop" class="rb-btn rb-btn-secondary">
        ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤
      </button>
    </div>

    <!-- Audio helper ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏£‡∏ì‡∏µ autoplay ‡∏ñ‡∏π‡∏Å‡∏ö‡∏•‡πá‡∏≠‡∏Å -->
    <div id="rb-audio-helper" class="rb-audio-helper hidden">
      <p>‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡∏ö‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÑ‡∏ß‡πâ ‡πÅ‡∏ï‡∏∞ "‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏û‡∏•‡∏á üéß</p>
      <button id="rb-audio-unlock" class="rb-btn rb-btn-primary">‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á</button>
    </div>

    <audio id="rb-audio" preload="auto"></audio>
  </div>

  <!-- ========== RESULT VIEW ========== -->
  <div id="rb-view-result" class="rb-view hidden">
    <header class="rb-header">
      <h2 class="rb-title-main">‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h2>
    </header>

    <section class="rb-card rb-card-result">
      <div class="rb-result-row">
        <span>‡πÇ‡∏´‡∏°‡∏î</span>
        <strong id="rb-res-mode">-</strong>
      </div>
      <div class="rb-result-row">
        <span>‡πÄ‡∏û‡∏•‡∏á</span>
        <strong id="rb-res-track">-</strong>
      </div>
      <div class="rb-result-row">
        <span>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏à‡∏ö‡πÄ‡∏Å‡∏°</span>
        <strong id="rb-res-reason">-</strong>
      </div>
      <div class="rb-result-row">
        <span>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</span>
        <strong id="rb-res-score">0</strong>
      </div>
      <div class="rb-result-row">
        <span>Max Combo</span>
        <strong id="rb-res-maxcombo">0</strong>
      </div>
      <div class="rb-result-row">
        <span>‡πÇ‡∏ô‡πâ‡∏ï‡∏£‡∏ß‡∏°</span>
        <strong id="rb-res-totalnotes">0</strong>
      </div>
      <div class="rb-result-row">
        <span>P/Gd/G/Ms</span>
        <strong id="rb-res-detail-hit">0 / 0 / 0 / 0</strong>
      </div>
      <div class="rb-result-row">
        <span>Accuracy</span>
        <strong id="rb-res-acc">0 %</strong>
      </div>
      <div class="rb-result-row">
        <span>Offset ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢</span>
        <strong id="rb-res-offset-avg">-</strong>
      </div>
      <div class="rb-result-row">
        <span>Offset SD</span>
        <strong id="rb-res-offset-std">-</strong>
      </div>
      <div class="rb-result-row">
        <span>‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏•‡πà‡∏ô</span>
        <strong id="rb-res-duration">0.0 s</strong>
      </div>
      <div class="rb-result-row">
        <span>‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</span>
        <strong id="rb-res-participant">-</strong>
      </div>
      <div class="rb-result-row">
        <span>Rank</span>
        <strong id="rb-res-rank">-</strong>
      </div>

      <p id="rb-res-quality-note" class="rb-quality-note hidden"></p>

      <div class="rb-result-actions">
        <button id="rb-btn-again" class="rb-btn rb-btn-primary">‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
        <button id="rb-btn-back-menu" class="rb-btn rb-btn-secondary">‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
      </div>

      <div class="rb-result-actions">
        <button id="rb-btn-dl-events" class="rb-btn rb-btn-ghost">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î Event CSV</button>
        <button id="rb-btn-dl-sessions" class="rb-btn rb-btn-ghost">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î Session CSV</button>
      </div>
    </section>
  </div>
</div>

<script type="module" src="js/rhythm-engine.js"></script>
</body>
</html>