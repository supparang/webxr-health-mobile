<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <title>Rhythm Boxer ‚Äî VR Fitness Game</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="light dark" />

  <!-- ‡πÉ‡∏ä‡πâ CSS ‡πÅ‡∏¢‡∏Å‡∏Ç‡∏≠‡∏á Rhythm -->
  <link rel="stylesheet" href="./css/rhythm-boxer.css" />
</head>
<body>
  <main>
    <!-- MENU / CONFIG VIEW -->
    <section class="card" id="view-menu">
      <div class="top-row">
        <div>
          <h1><span class="icon">ü•Å</span>Rhythm Boxer</h1>
          <div class="subtitle">
            ‡πÄ‡∏Å‡∏°‡∏ä‡∏Å‡πÄ‡∏õ‡πâ‡∏≤‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏û‡∏•‡∏á ‡πÄ‡∏ô‡πâ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏ö‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞ (Timing), ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (Accuracy)
            ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏ó‡∏±‡πâ‡∏á‡πÉ‡∏ä‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢
          </div>
          <div class="pill">
            <span class="dot"></span>
            <span>Rhythm ‚Ä¢ Combo ‚Ä¢ Reaction Time ‚Ä¢ Research CSV Ready</span>
          </div>
        </div>
        <div>
          <a href="./index.html" class="btn-small">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö Hub</a>
        </div>
      </div>

      <h2 class="section-title">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h2>
      <div class="btn-row">
        <button class="primary" data-action="start-research">
          <span>‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢</span> <span>üìä</span>
        </button>
        <button data-action="start-normal">
          <span>‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏•‡πà‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥</span> <span>üéÆ</span>
        </button>
      </div>

      <div class="row">
        <div class="col">
          <label for="difficulty">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</label>
          <select id="difficulty">
            <option value="easy">‡∏á‡πà‡∏≤‡∏¢ ‚Äî ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ä‡πâ‡∏≤ ‡πÄ‡∏õ‡πâ‡∏≤‡∏ä‡∏±‡∏î</option>
            <option value="normal" selected>‡∏õ‡∏Å‡∏ï‡∏¥ ‚Äî ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô</option>
            <option value="hard">‡∏¢‡∏≤‡∏Å ‚Äî ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏£‡πá‡∏ß + pattern ‡∏ã‡∏±‡∏ö‡∏ã‡πâ‡∏≠‡∏ô</option>
          </select>
          <div class="help">
            ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å‡∏à‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ñ‡∏µ‡πà‡∏Ç‡∏≠‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞, ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏Ñ‡∏ö‡∏Ç‡∏≠‡∏á Perfect window
            ‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏ô‡∏ß‡∏ô pattern ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏™‡∏•‡∏±‡∏ö‡∏°‡∏∑‡∏≠
          </div>
        </div>
      </div>
    </section>

    <!-- RESEARCH FORM -->
    <section class="card hidden" id="view-research-form">
      <div class="top-row">
        <div>
          <h1><span class="icon">üìã</span>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (Rhythm Boxer)</h1>
          <div class="subtitle">
            ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡∏π‡∏Å‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå CSV
            ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Pre/Post, ‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏° ‡∏´‡∏£‡∏∑‡∏≠‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏≠‡∏∑‡πà‡∏ô ‡πÜ
          </div>
        </div>
        <div>
          <button class="btn-small" data-action="back-to-menu">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏°</button>
        </div>
      </div>

      <div class="row">
        <div class="col">
          <label for="research-id">‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° (Participant ID)</label>
          <input id="research-id" placeholder="‡πÄ‡∏ä‡πà‡∏ô P001-01" />
        </div>
        <div class="col">
          <label for="research-group">‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏î‡∏•‡∏≠‡∏á / ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç</label>
          <input id="research-group" placeholder="‡πÄ‡∏ä‡πà‡∏ô Experimental / Control" />
        </div>
      </div>
      <div class="row" style="margin-top:12px;">
        <div class="col">
          <label for="research-note">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (‡πÄ‡∏ä‡πà‡∏ô Pre-test / Post-test)</label>
          <input id="research-note" placeholder="‡πÄ‡∏ä‡πà‡∏ô Pre-test" />
        </div>
      </div>

      <div class="btn-row" style="margin-top:16px;">
        <button class="primary" data-action="research-begin-play">
          ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô Rhythm Boxer ‚ñ∂
        </button>
        <button data-action="back-to-menu">
          ‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏°
        </button>
      </div>
    </section>

    <!-- PLAY VIEW -->
    <section class="card hidden" id="view-play">
      <div class="play-top">
        <div class="stats">
          <div class="tag">Mode: <span id="stat-mode">-</span></div>
          <div class="tag">Diff: <span id="stat-diff">-</span></div>
          <div class="tag">Score: <span id="stat-score">0</span></div>
          <div class="tag">Combo: <span id="stat-combo">0</span></div>
          <div class="tag">Perfect: <span id="stat-perfect">0</span></div>
          <div class="tag">Miss: <span id="stat-miss">0</span></div>
        </div>
        <div class="timer">‚è± <span id="stat-time">60.0</span>s</div>
      </div>

      <!-- GROOVE BAR (‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡∏±‡∏ö FEVER ‡∏Ç‡∏≠‡∏á Shadow Breaker) -->
      <div class="groove-wrap">
        <div class="groove-label">GROOVE</div>
        <div class="groove-bar">
          <div class="groove-fill" id="groove-fill"></div>
        </div>
        <div class="groove-status" id="groove-status">ON BEAT</div>
      </div>

      <!-- TRACK PROGRESS (‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö Boss HP bar ‡πÇ‡∏Ñ‡∏£‡∏á‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ô) -->
      <div class="track-hud">
        <div class="track-text">
          <span id="track-name">Track 1 ‚Äî Basic Beat</span>
        </div>
        <div class="track-bar">
          <div class="track-fill" id="track-fill"></div>
        </div>
      </div>

      <!-- PLAY AREA -->
      <div class="play-area">
        <div id="target-layer"></div>
      </div>

      <!-- COACH BUBBLE -->
      <div class="coach-bubble" id="coach-bubble">
        <div class="coach-avatar" id="coach-avatar">ü•Å</div>
        <div class="coach-text-wrap">
          <div class="coach-role" id="coach-role">‡πÇ‡∏Ñ‡πâ‡∏ä‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞</div>
          <div class="coach-text" id="coach-text">
            ‡πÅ‡∏ï‡∏∞‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ô‡∏∞! ‡∏ñ‡πâ‡∏≤‡∏ä‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡∏à‡∏∞‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô Miss ‡∏ô‡∏∞ üé∂
          </div>
        </div>
      </div>

      <div class="banner">
        <strong>‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô:</strong>
        ‡πÄ‡∏õ‡πâ‡∏≤‡∏à‡∏∞‡πÇ‡∏ú‡∏•‡πà‡∏°‡∏≤‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏û‡∏•‡∏á ‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡∏∞/‡∏ä‡∏Å‡πÄ‡∏õ‡πâ‡∏≤‡πÉ‡∏´‡πâ ‚Äú‡∏ï‡∏£‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‚Äù ‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
        ‡∏¢‡∏¥‡πà‡∏á‡∏ï‡∏£‡∏á‡πÄ‡∏õ‡πä‡∏∞ (Perfect) ‡∏¢‡∏¥‡πà‡∏á‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏¢‡∏≠‡∏∞‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏° Groove bar
      </div>

      <div class="btn-row" style="margin-top:12px;">
        <button data-action="stop-early">‚èπ ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</button>
        <button type="button" onclick="location.href='./index.html'">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö Hub</button>
      </div>
    </section>

    <!-- RESULT VIEW -->
    <section class="card hidden" id="view-result">
      <div class="top-row">
        <div>
          <h1><span class="icon">‚úÖ</span>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏£‡∏≠‡∏ö‡πÄ‡∏•‡πà‡∏ô (Rhythm Boxer)</h1>
          <div class="subtitle">
            ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Ñ‡πà‡∏≤ Rhythm Accuracy, Reaction Time ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏ä‡∏µ‡πâ‡∏ß‡∏±‡∏î‡∏≠‡∏∑‡πà‡∏ô ‡πÜ
            ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡πà‡∏≠‡∏ô‚Äì‡∏´‡∏•‡∏±‡∏á‡∏ù‡∏∂‡∏Å
          </div>
        </div>
        <div>
          <a href="./index.html" class="btn-small">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö Hub</a>
        </div>
      </div>

      <div class="summary">
        <table>
          <tbody>
            <tr><td class="label">‡πÇ‡∏´‡∏°‡∏î</td><td id="res-mode">-</td></tr>
            <tr><td class="label">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</td><td id="res-diff">-</td></tr>
            <tr><td class="label">‡πÄ‡∏´‡∏ï‡∏∏‡∏à‡∏ö‡πÄ‡∏Å‡∏°</td><td id="res-endreason">-</td></tr>

            <tr><td class="label">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</td><td id="res-score">0</td></tr>
            <tr><td class="label">‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</td><td id="res-maxcombo">0</td></tr>
            <tr><td class="label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏õ‡πâ‡∏≤ Miss</td><td id="res-miss">0</td></tr>

            <tr><td class="label">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞ (Rhythm Accuracy)</td><td id="res-accuracy">-</td></tr>
            <tr><td class="label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏µ‡πÇ‡∏î‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (Hits)</td><td id="res-totalhits">0</td></tr>
            <tr><td class="label">Reaction time ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (ms)</td><td id="res-rt-normal">-</td></tr>
            <tr><td class="label">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏•‡∏≤‡∏î‡πÄ‡∏Ñ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ (Offset ms)</td><td id="res-rt-decoy">-</td></tr>

            <tr><td class="label">‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</td><td id="res-participant">-</td></tr>
          </tbody>
        </table>
      </div>

      <div class="btn-row" style="margin-top:14px;">
        <button class="primary" data-action="download-csv">
          ‚¨á ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î CSV ‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ (‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢)
        </button>
        <button data-action="play-again">
          ‚ñ∂ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á (‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏î‡∏¥‡∏°)
        </button>
        <button data-action="back-to-menu">
          ‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏Å‡∏°
        </button>
      </div>
    </section>
  </main>

  <!-- SFX (‡∏≠‡∏≤‡∏à‡∏≤‡∏£‡∏¢‡πå‡∏Ñ‡πà‡∏≠‡∏¢‡πÉ‡∏™‡πà‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏≠‡∏á‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á) -->
  <audio id="sfx-hit" src="./sfx/rb-hit.mp3" preload="auto"></audio>
  <audio id="sfx-beat" src="./sfx/rb-beat.mp3" preload="auto"></audio>

  <!-- main scripts -->
  <script type="module" src="./js/rhythm-boxer.js"></script>
</body>
</html>