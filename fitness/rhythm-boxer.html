<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Rhythm Boxer ‚Äî VR Fitness</title>
  <link rel="icon" href="favicon.ico"/>
  <!-- ‡∏ä‡∏µ‡πâ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå css (‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ /fitness/css/) -->
  <link rel="stylesheet" href="css/rhythm-boxer.css"/>
</head>
<body>
  <div class="rb-wrap" id="rb-wrap">
    <header class="rb-header">
      <div class="rb-title-block">
        <h1 class="rb-title">Rhythm Boxer</h1>
        <p class="rb-subtitle">‡∏ä‡∏Å‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞ 5 lanes + ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ timing offset</p>
      </div>
      <a href="hub.html" class="rb-back-hub">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö HUB</a>
    </header>

    <!-- ========== MENU VIEW ========== -->
    <section id="rb-view-menu" class="rb-view">
      <div class="rb-card">
        <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h2>

        <!-- Mode -->
        <div class="rb-form-row">
          <label>‡πÇ‡∏´‡∏°‡∏î (Mode)</label>
          <div class="rb-radio-row">
            <label><input type="radio" name="mode" value="normal" checked> ‡∏õ‡∏Å‡∏ï‡∏¥ (Normal)</label>
            <label><input type="radio" name="mode" value="research"> ‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (Research)</label>
          </div>
        </div>

        <!-- Research fields -->
        <div class="rb-form-row rb-research-only hidden" id="rb-research-fields">
          <label>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢</label>
          <div class="rb-form-grid">
            <div>
              <span class="rb-label-small">‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° (Participant ID)</span>
              <input id="rb-participant" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô P001"/>
            </div>
            <div>
              <span class="rb-label-small">‡∏Å‡∏•‡∏∏‡πà‡∏° (Group)</span>
              <input id="rb-group" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô G1 / Control"/>
            </div>
          </div>
          <div style="margin-top:6px;">
            <span class="rb-label-small">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</span>
            <textarea id="rb-note" rows="2" placeholder="‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏û‡∏¥‡πÄ‡∏®‡∏© / ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏≠‡∏∑‡πà‡∏ô ‡πÜ"></textarea>
          </div>
        </div>

        <!-- Track select -->
        <div class="rb-form-row">
          <label>‡πÄ‡∏û‡∏•‡∏á (Track)</label>
          <select id="rb-track">
            <option value="t1">T1 ‚Äî Warm-up Groove (Easy, 98 BPM)</option>
            <option value="t2">T2 ‚Äî Punch Rush (Normal, 128 BPM)</option>
            <option value="t3">T3 ‚Äî Ultra Beat Combo (Hard, 145 BPM)</option>
            <option value="research">T4 ‚Äî Research Track (120 BPM, fixed pattern)</option>
          </select>
          <p class="rb-help">
            * ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ä‡πâ T4 ‚Äî Research Track ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ pattern ‡∏ã‡πâ‡∏≥‡∏Å‡∏±‡∏ô‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
          </p>
        </div>

        <div class="rb-form-row">
          <button id="rb-btn-start" class="rb-btn-primary">‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô</button>
        </div>
      </div>
    </section>

    <!-- ========== PLAY VIEW ========== -->
    <section id="rb-view-play" class="rb-view hidden">
      <div class="rb-card rb-card-play">
        <div class="rb-hud-top">
          <div class="rb-hud-main">
            <div class="rb-hud-row">
              <div>‡πÇ‡∏´‡∏°‡∏î: <span id="rb-hud-mode">-</span></div>
              <div>‡πÄ‡∏û‡∏•‡∏á: <span id="rb-hud-track">-</span></div>
              <div>‡πÄ‡∏ß‡∏•‡∏≤: <span id="rb-hud-time">0.0</span>s</div>
            </div>
            <div class="rb-hud-row">
              <div>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="rb-hud-score">0</span></div>
              <div>‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö: <span id="rb-hud-combo">0</span></div>
              <div>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥: <span id="rb-hud-acc">0%</span></div>
            </div>
            <div class="rb-hud-row">
              <div>Perfect: <span id="rb-hud-perfect">0</span></div>
              <div>Great: <span id="rb-hud-great">0</span></div>
              <div>Good: <span id="rb-hud-good">0</span></div>
              <div>Miss: <span id="rb-hud-miss">0</span></div>
            </div>

            <!-- FEVER -->
            <div class="rb-fever-row">
              <span class="rb-fever-label">FEVER</span>
              <div class="rb-fever-bar">
                <div id="rb-fever-fill" class="rb-fever-fill"></div>
              </div>
              <span id="rb-fever-status" class="rb-fever-status">OFF</span>
            </div>
          </div>

          <button id="rb-btn-stop" class="rb-btn-ghost">‚èπ ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</button>
        </div>

        <div class="rb-field-wrap">
          <div class="rb-lanes" id="rb-lanes">
            <div class="rb-lane" data-lane="0"><span class="rb-lane-label">L2</span></div>
            <div class="rb-lane" data-lane="1"><span class="rb-lane-label">L1</span></div>
            <div class="rb-lane" data-lane="2"><span class="rb-lane-label">C</span></div>
            <div class="rb-lane" data-lane="3"><span class="rb-lane-label">R1</span></div>
            <div class="rb-lane" data-lane="4"><span class="rb-lane-label">R2</span></div>
          </div>
          <div class="rb-hit-line"></div>
          <div id="rb-feedback" class="rb-feedback">
            ‡πÅ‡∏ï‡∏∞‡∏ó‡∏µ‡πà lane ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡πÄ‡∏™‡πâ‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏û‡∏•‡∏á üéµ
          </div>
        </div>
      </div>
    </section>

    <!-- ========== RESULT VIEW ========== -->
    <section id="rb-view-result" class="rb-view hidden">
      <div class="rb-card">
        <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô Rhythm Boxer</h2>
        <table class="rb-summary">
          <tbody>
            <tr><td>‡πÇ‡∏´‡∏°‡∏î</td><td id="rb-res-mode">-</td></tr>
            <tr><td>‡πÄ‡∏û‡∏•‡∏á</td><td id="rb-res-track">-</td></tr>
            <tr><td>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏à‡∏ö‡πÄ‡∏Å‡∏°</td><td id="rb-res-reason">-</td></tr>
            <tr><td>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</td><td id="rb-res-score">0</td></tr>
            <tr><td>‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</td><td id="rb-res-maxcombo">0</td></tr>
            <tr><td>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÇ‡∏ô‡πâ‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</td><td id="rb-res-totalnotes">0</td></tr>
            <tr>
              <td>Perfect / Great / Good / Miss</td>
              <td id="rb-res-detail-hit">0 / 0 / 0 / 0</td>
            </tr>
            <tr><td>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥ (Accuracy)</td><td id="rb-res-acc">0%</td></tr>
            <tr><td>‡∏Ñ‡πà‡∏≤‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢ offset (ms)</td><td id="rb-res-offset-avg">-</td></tr>
            <tr><td>‡∏™‡πà‡∏ß‡∏ô‡πÄ‡∏ö‡∏µ‡πà‡∏¢‡∏á‡πÄ‡∏ö‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô offset (ms)</td><td id="rb-res-offset-std">-</td></tr>
            <tr><td>‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</td><td id="rb-res-duration">0.0 s</td></tr>
            <tr><td>‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</td><td id="rb-res-participant">-</td></tr>
          </tbody>
        </table>

        <div class="rb-result-actions">
          <button id="rb-btn-again" class="rb-btn-primary">‚ñ∂ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
          <button id="rb-btn-back-menu" class="rb-btn-ghost">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
        </div>

        <div class="rb-result-actions">
          <button id="rb-btn-dl-events" class="rb-btn-secondary">
            ‚¨á ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î CSV ‚Äî Event ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡πÇ‡∏ô‡πâ‡∏ï
          </button>
          <button id="rb-btn-dl-sessions" class="rb-btn-secondary">
            ‚¨á ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î CSV ‚Äî ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏£‡∏≠‡∏ö
          </button>
        </div>
      </div>
    </section>
  </div>

  <!-- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏û‡∏•‡∏á -->
  <audio id="rb-audio"></audio>

  <!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏Å‡∏°‡∏´‡∏•‡∏±‡∏Å -->
  <script src="js/rhythm-engine.js"></script>
</body>
</html>
