<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <title>Rhythm Boxer ‚Äî VR Fitness Game</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <meta name="color-scheme" content="light dark" />
  <link rel="stylesheet" href="./css/rhythm-boxer.css" />
</head>
<body>
<main>

<!-- MENU -->
<section class="card" id="view-menu">
  <h1>üéµ Rhythm Boxer</h1>
  <div class="subtitle">‡πÄ‡∏Å‡∏°‡∏ï‡∏µ‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏û‡∏•‡∏á ‡πÄ‡∏ô‡πâ‡∏ô reaction ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥</div>

  <div class="btn-row">
    <button class="primary" data-action="start-research">‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ üìä</button>
    <button data-action="start-normal">‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏•‡πà‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥ üéÆ</button>
  </div>

  <div class="row">
    <label for="difficulty">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</label>
    <select id="difficulty">
      <option value="easy">‡∏á‡πà‡∏≤‡∏¢ ‚Äî ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ä‡πâ‡∏≤</option>
      <option value="normal" selected>‡∏õ‡∏Å‡∏ï‡∏¥ ‚Äî ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô</option>
      <option value="hard">‡∏¢‡∏≤‡∏Å ‚Äî ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏£‡πá‡∏ß</option>
    </select>
  </div>
</section>

<!-- RESEARCH FORM -->
<section class="card hidden" id="view-research-form">
  <h1>üìã ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</h1>
  <div class="row">
    <div class="col">
      <label>Participant ID</label>
      <input id="research-id" placeholder="‡πÄ‡∏ä‡πà‡∏ô P001-01" />
    </div>
    <div class="col">
      <label>Group</label>
      <input id="research-group" placeholder="Control / Experiment" />
    </div>
  </div>
  <div class="row">
    <label>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
    <input id="research-note" placeholder="Pre-test / Post-test" />
  </div>
  <div class="btn-row">
    <button class="primary" data-action="research-begin-play">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô ‚ñ∂</button>
    <button data-action="back-to-menu">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
  </div>
</section>

<!-- PLAY VIEW -->
<section class="card hidden" id="view-play">
  <div class="play-top">
    <div class="stats">
      <div class="tag">Mode: <span id="stat-mode">-</span></div>
      <div class="tag">Diff: <span id="stat-diff">-</span></div>
      <div class="tag">Score: <span id="stat-score">0</span></div>
      <div class="tag">Combo: <span id="stat-combo">0</span></div>
      <div class="tag">Perfect: <span id="stat-perfect">0</span></div>
      <div class="tag">Miss: <span id="stat-miss">0</span></div>
    </div>
    <div class="timer">‚è± <span id="stat-time">60</span>s</div>
  </div>

  <!-- ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà Gameplay -->
  <div class="play-area">
    <div id="target-layer"></div>
  </div>

  <!-- GROOVE -->
  <div class="groove-wrap">
    <div class="groove-label">GROOVE</div>
    <div class="groove-bar">
      <div class="groove-fill" id="groove-fill"></div>
    </div>
    <div class="groove-status" id="groove-status">WARM UP</div>
  </div>

  <!-- Track progress -->
  <div class="track-info">
    <div id="track-name">Track 1 ‚Äî Basic Beat</div>
    <div class="track-bar"><div id="track-fill"></div></div>
  </div>

  <!-- Coach -->
  <div class="coach-bubble" id="coach-bubble">
    <div class="coach-avatar">ü•Å</div>
    <div class="coach-text">
      ‡πÅ‡∏ï‡∏∞‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ô‡∏∞! ‡∏ñ‡πâ‡∏≤‡∏ä‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡∏à‡∏∞‡∏Å‡∏•‡∏≤‡∏¢‡πÄ‡∏õ‡πá‡∏ô Miss üé∂
    </div>
  </div>

  <div class="btn-row" style="margin-top:12px;">
    <button data-action="stop-early">‚èπ ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</button>
    <button onclick="location.href='./index.html'">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö Hub</button>
  </div>
</section>

<!-- RESULT -->
<section class="card hidden" id="view-result">
  <h1>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏£‡∏≠‡∏ö‡πÄ‡∏•‡πà‡∏ô</h1>
  <table class="summary">
    <tr><td>‡πÇ‡∏´‡∏°‡∏î</td><td id="res-mode"></td></tr>
    <tr><td>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</td><td id="res-diff"></td></tr>
    <tr><td>‡πÄ‡∏´‡∏ï‡∏∏‡∏à‡∏ö‡πÄ‡∏Å‡∏°</td><td id="res-endreason"></td></tr>
    <tr><td>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</td><td id="res-score"></td></tr>
    <tr><td>‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</td><td id="res-maxcombo"></td></tr>
    <tr><td>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô miss</td><td id="res-miss"></td></tr>
    <tr><td>Accuracy</td><td id="res-accuracy"></td></tr>
    <tr><td>Average Offset</td><td id="res-rt-normal"></td></tr>
    <tr><td>Participant ID</td><td id="res-participant"></td></tr>
  </table>
  <div class="btn-row">
    <button class="primary" data-action="download-csv">‚¨á ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î CSV</button>
    <button data-action="play-again">‚ñ∂ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
    <button data-action="back-to-menu">‚¨Ö ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
  </div>
</section>

<!-- PAUSE OVERLAY -->
<section id="pause-overlay" class="pause-overlay hidden">
  <div class="pause-box">
    <div class="pause-title">‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß</div>
    <div class="pause-text">‡πÅ‡∏ï‡∏∞ "‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡πÄ‡∏Å‡∏° ‡∏´‡∏£‡∏∑‡∏≠‡∏à‡∏ö‡πÄ‡∏Å‡∏°‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ</div>
    <div class="btn-row">
      <button class="primary" data-action="resume-play">‚ñ∂ ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠</button>
      <button data-action="stop-early">‚èπ ‡∏à‡∏ö‡πÄ‡∏Å‡∏°‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ</button>
    </div>
  </div>
</section>

</main>

<!-- SFX -->
<audio id="sfx-hit"  src="./sfx/hit.mp3" preload="auto"></audio>
<audio id="sfx-beat" src="./sfx/beat.wav" preload="auto"></audio>

<script type="module" src="./js/rhythm-boxer.js"></script>
</body>
</html>