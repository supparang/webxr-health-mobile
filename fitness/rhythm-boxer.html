<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <meta name="color-scheme" content="dark"/>
  <title>VR Fitness ‚Äî Rhythm Boxer</title>
  <link rel="icon" href="favicon.ico"/>
  <link rel="stylesheet" href="./css/rhythm-boxer.css"/>
</head>
<body>
<div id="rb-wrap" data-diff="normal">

  <!-- flash ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏î‡∏ô‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î / damage -->
  <div id="rb-flash"></div>

  <!-- ===== VIEW: MENU ===== -->
  <section id="rb-view-menu" class="rb-view">
    <!-- header ‡πÅ‡∏ö‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Hub / Shadow Breaker -->
    <header class="rb-header rb-header-main">
      <div class="rb-brand">
        <div class="rb-logo-pill">RB</div>
        <div class="rb-brand-text">
          <div class="rb-brand-title">VR Fitness ‚Äî Rhythm Boxer</div>
          <div class="rb-brand-subtitle">
            ‡πÄ‡∏Å‡∏°‡∏ä‡∏Å‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞ 5 ‡πÄ‡∏•‡∏ô ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ù‡∏∂‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô ‡∏Å‡∏≤‡∏£‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ô‡∏°‡∏∑‡∏≠‚Äì‡∏ï‡∏≤ ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥
          </div>
        </div>
      </div>
      <a href="hub.html" class="rb-back-link rb-back-main">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà VR Fitness Hub</a>
    </header>

    <div class="rb-card rb-card-menu">
      <h2 class="rb-section-title">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h2>

      <div class="rb-mode-row">
        <label class="rb-radio">
          <input type="radio" name="rb-mode" value="normal" checked>
          <span>‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏Å‡∏ï‡∏¥</span>
        </label>
        <label class="rb-radio">
          <input type="radio" name="rb-mode" value="research">
          <span>‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (‡∏•‡πá‡∏≠‡∏Å‡πÄ‡∏û‡∏•‡∏á)</span>
        </label>
      </div>

      <div class="rb-field-row">
        <label for="rb-track">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏•‡∏á</label>
        <select id="rb-track">
          <option value="t1">Warm-up Groove (‡∏á‡πà‡∏≤‡∏¢)</option>
          <option value="t2">Punch Rush (‡∏õ‡∏Å‡∏ï‡∏¥)</option>
          <option value="t3">Ultra Beat Combo (‡∏¢‡∏≤‡∏Å)</option>
          <option value="research">Research Track 120 (‡∏ß‡∏¥‡∏à‡∏±‡∏¢)</option>
        </select>
      </div>

      <!-- ‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ -->
      <div id="rb-research-fields" class="rb-research hidden">
        <h3 class="rb-subsection-title">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° (‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢)</h3>
        <div class="rb-field-row">
          <label for="rb-participant">‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</label>
          <input id="rb-participant" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô P001">
        </div>
        <div class="rb-field-row">
          <label for="rb-group">‡∏Å‡∏•‡∏∏‡πà‡∏°</label>
          <input id="rb-group" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô G1 ‡∏´‡∏£‡∏∑‡∏≠ Control">
        </div>
        <div class="rb-field-row">
          <label for="rb-note">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</label>
          <input id="rb-note" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡πà‡∏≠‡∏ô‡∏ù‡∏∂‡∏Å / ‡∏´‡∏•‡∏±‡∏á‡∏ù‡∏∂‡∏Å">
        </div>
      </div>

      <div class="rb-menu-actions">
        <button id="rb-btn-start" class="rb-btn rb-btn-primary">
          üéß ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô Rhythm Boxer
        </button>
      </div>

      <p class="rb-hint">
        üí° ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥: ‡πÉ‡∏ä‡πâ‡∏´‡∏π‡∏ü‡∏±‡∏á ‡πÅ‡∏•‡∏∞‡πÅ‡∏ï‡∏∞/‡∏ä‡∏Å‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏û‡∏•‡∏á
      </p>
    </div>
  </section>

  <!-- ===== VIEW: PLAY ===== -->
  <section id="rb-view-play" class="rb-view hidden">
    <header class="rb-header rb-header-play">
      <div class="rb-hud-left">
        <div class="rb-hud-line">
          <span class="rb-tag">Mode</span>
          <span id="rb-hud-mode" class="rb-hud-val">Normal</span>
        </div>
        <div class="rb-hud-line">
          <span class="rb-tag">Track</span>
          <span id="rb-hud-track" class="rb-hud-val">Warm-up Groove</span>
        </div>
      </div>

      <div class="rb-hud-center">
        <div class="rb-hud-line rb-hud-scoreline">
          <span class="rb-tag">Score</span>
          <span id="rb-hud-score" class="rb-hud-val rb-hud-score">0</span>
        </div>
        <div class="rb-hud-line">
          <span class="rb-tag">Combo</span>
          <span id="rb-hud-combo" class="rb-hud-val">0</span>
          <span class="rb-tag">Acc</span>
          <span id="rb-hud-acc" class="rb-hud-val">0.0%</span>
        </div>
      </div>

      <div class="rb-hud-right">
        <div class="rb-hud-line">
          <span class="rb-tag">HP</span>
          <span id="rb-hud-hp" class="rb-hud-val">100</span>
          <span class="rb-tag">Shield</span>
          <span id="rb-hud-shield" class="rb-hud-val">0</span>
        </div>
        <div class="rb-hud-line">
          <span class="rb-tag">Time</span>
          <span id="rb-hud-time" class="rb-hud-val">0.0</span>
        </div>
      </div>
    </header>

    <!-- FEVER + Progress -->
    <div class="rb-bars">
      <div class="rb-bar-label-row">
        <span>FEVER</span>
        <span id="rb-fever-status" class="rb-fever-status">Ready</span>
      </div>
      <div class="rb-fever-bar">
        <div id="rb-fever-fill" class="rb-fever-fill"></div>
      </div>

      <div class="rb-bar-label-row rb-bar-label-row-progress">
        <span>Progress</span>
        <span id="rb-progress-text">0%</span>
      </div>
      <div class="rb-progress-bar">
        <div id="rb-progress-fill" class="rb-progress-fill"></div>
      </div>
    </div>

    <div class="rb-hitstats-row">
      <span>Perfect: <strong id="rb-hud-perfect">0</strong></span>
      <span>Great: <strong id="rb-hud-great">0</strong></span>
      <span>Good:  <strong id="rb-hud-good">0</strong></span>
      <span>Miss:  <strong id="rb-hud-miss">0</strong></span>
    </div>

    <!-- GAME FIELD -->
    <main id="rb-field">
      <div class="rb-timing-guide">
        <div class="rb-timing-row">
          <span class="rb-beat">1</span>
          <span class="rb-beat">2</span>
          <span class="rb-beat">3</span>
          <span class="rb-beat">4</span>
          <span class="rb-beat">5</span>
          <span class="rb-beat">6</span>
          <span class="rb-beat">7</span>
          <span class="rb-beat">8</span>
        </div>
        <div class="rb-hit-line"></div>
      </div>

      <div id="rb-lanes" class="rb-lanes">
        <div class="rb-lane" data-lane="0"><div class="rb-lane-label">L2</div></div>
        <div class="rb-lane" data-lane="1"><div class="rb-lane-label">L1</div></div>
        <div class="rb-lane" data-lane="2"><div class="rb-lane-label">C</div></div>
        <div class="rb-lane" data-lane="3"><div class="rb-lane-label">R1</div></div>
        <div class="rb-lane" data-lane="4"><div class="rb-lane-label">R2</div></div>
      </div>

      <div id="rb-feedback" class="rb-feedback">
        ‡πÅ‡∏ï‡∏∞ lane ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡πÄ‡∏™‡πâ‡∏ô‡πÅ‡∏ô‡∏ß‡∏ô‡∏≠‡∏ô‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏û‡∏•‡∏á üéµ
      </div>
    </main>

    <footer class="rb-footer-play">
      <button id="rb-btn-stop" class="rb-btn rb-btn-ghost">‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</button>
    </footer>
  </section>

  <!-- ===== VIEW: RESULT ===== -->
  <section id="rb-view-result" class="rb-view hidden">
    <header class="rb-header">
      <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏• Rhythm Boxer</h2>
      <button id="rb-btn-back-menu" class="rb-btn rb-btn-ghost">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
    </header>

    <div class="rb-card rb-result-card">
      <div class="rb-result-grid">
        <div>
          <div class="rb-result-line">‡πÇ‡∏´‡∏°‡∏î: <strong id="rb-res-mode">-</strong></div>
          <div class="rb-result-line">‡πÄ‡∏û‡∏•‡∏á: <strong id="rb-res-track">-</strong></div>
          <div class="rb-result-line">‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏à‡∏ö‡πÄ‡∏Å‡∏°: <strong id="rb-res-endreason">-</strong></div>
          <div class="rb-result-line">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <strong id="rb-res-score">0</strong></div>
          <div class="rb-result-line">Max Combo: <strong id="rb-res-maxcombo">0</strong></div>
          <div class="rb-result-line">Hit (P/G/Gd/M): <strong id="rb-res-detail-hit">0 / 0 / 0 / 0</strong></div>
        </div>
        <div>
          <div class="rb-result-line">Accuracy: <strong id="rb-res-acc">0.0 %</strong></div>
          <div class="rb-result-line">Offset ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: <strong id="rb-res-offset-avg">-</strong></div>
          <div class="rb-result-line">Offset SD: <strong id="rb-res-offset-std">-</strong></div>
          <div class="rb-result-line">Duration: <strong id="rb-res-duration">0.0 s</strong></div>
          <div class="rb-result-line">‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°: <strong id="rb-res-participant">-</strong></div>
          <div class="rb-result-line">Rank: <strong id="rb-res-rank">-</strong></div>
        </div>
      </div>

      <p id="rb-res-quality-note" class="rb-quality-note hidden"></p>

      <div class="rb-result-actions">
        <button id="rb-btn-again" class="rb-btn rb-btn-primary">‡πÄ‡∏•‡πà‡∏ô‡∏ã‡πâ‡∏≥‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏î‡∏¥‡∏°</button>
        <button id="rb-btn-dl-events" class="rb-btn rb-btn-secondary">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î Event CSV</button>
        <button id="rb-btn-dl-sessions" class="rb-btn rb-btn-secondary">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î Session CSV</button>
      </div>
    </div>
  </section>

  <audio id="rb-audio" preload="auto"></audio>
</div>

<!-- shared particle FX (‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö Shadow Breaker) -->
<script type="module" src="./js/particle.js"></script>

<!-- ‚≠ê ‡πÉ‡∏´‡∏°‡πà: DOM renderer ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Rhythm -->
<script src="./js/dom-renderer-rb.js"></script>

<!-- core engine (exposes window.RhythmBoxerEngine) -->
<script src="./js/rhythm-engine.js"></script>

<!-- bootstrap / DOM wiring -->
<script src="./js/rhythm-boxer.js"></script>
</body>
</html>

