<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <title>Rhythm Boxer ‚Äî 5-Lane Research Mode</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <link rel="stylesheet" href="rhythm-boxer.css"/>
</head>
<body>
<div id="rb-wrap" class="rb-wrap">

  <header class="rb-header">
    <div class="rb-header-main">
      <h1>Rhythm Boxer</h1>
      <p>‡πÄ‡∏Å‡∏°‡∏ù‡∏∂‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞ 5 ‡πÄ‡∏•‡∏ô ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏° VR Fitness + ‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢</p>
    </div>
    <div class="rb-header-badge">
      <span>Build: RB_5lane_rank_v1</span>
    </div>
  </header>

  <!-- Research protection overlay -->
  <div id="rb-overlay-research" class="rb-overlay hidden">
    <div class="rb-overlay-box">
      <h2>‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢</h2>
      <p id="rb-overlay-message">
        ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏à‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏Ñ‡πà‡∏∞
      </p>
      <button id="rb-overlay-continue" class="rb-btn rb-btn-primary">‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÅ‡∏•‡πâ‡∏ß</button>
    </div>
  </div>

  <!-- ======= MENU VIEW ======= -->
  <section id="rb-view-menu" class="rb-view">
    <div class="rb-grid-2">

      <!-- Left: Mode + Track -->
      <div class="rb-card">
        <h2>‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h2>
        <div class="rb-mode-row">
          <label class="rb-radio">
            <input type="radio" name="mode" value="normal" checked>
            <span>‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏Å‡∏ï‡∏¥</span>
            <small>‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏≠‡∏≠‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏¢ / ‡∏ù‡∏∂‡∏Å‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</small>
          </label>
          <label class="rb-radio">
            <input type="radio" name="mode" value="research">
            <span>‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢</span>
            <small>‡∏•‡πá‡∏≠‡∏Å‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏ô‡πÄ‡∏û‡∏•‡∏á‡∏à‡∏ö + ‡πÄ‡∏Å‡πá‡∏ö CSV ‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î</small>
          </label>
        </div>

        <hr class="rb-divider"/>

        <h3>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏•‡∏á</h3>
        <label class="rb-label">
          ‡πÄ‡∏û‡∏•‡∏á / Track
          <select id="rb-track" class="rb-select">
            <option value="t1">Warm-up Groove (Easy ¬∑ 98 BPM)</option>
            <option value="t2">Punch Rush (Normal ¬∑ 128 BPM)</option>
            <option value="t3">Ultra Beat Combo (Hard ¬∑ 145 BPM)</option>
            <option value="research">Research Track 120 (Fixed Pattern)</option>
          </select>
        </label>

        <p class="rb-hint">
          ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≤‡∏Å <strong>Warm-up Groove</strong> ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Ñ‡∏∏‡πâ‡∏ô‡∏Å‡∏±‡∏ö 5 ‡πÄ‡∏•‡∏ô‡∏Å‡πà‡∏≠‡∏ô
        </p>

        <button id="rb-btn-start" class="rb-btn rb-btn-primary rb-btn-lg">
          ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô üéµ
        </button>
      </div>

      <!-- Right: Research meta -->
      <div class="rb-card" id="rb-research-fields">
        <h2>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢</h2>
        <p class="rb-sub">
          ‡∏Å‡∏£‡∏≠‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ó‡∏î‡∏•‡∏≠‡∏á / ‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (‡πÇ‡∏´‡∏°‡∏î Normal ‡∏à‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏õ‡πá‡∏ô‡∏Ñ‡πà‡∏≤‡∏ß‡πà‡∏≤‡∏á‡πÑ‡∏î‡πâ)
        </p>

        <label class="rb-label">
          ‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° (Participant ID)
          <input id="rb-participant" type="text" class="rb-input" placeholder="‡πÄ‡∏ä‡πà‡∏ô P001 / S05 / A-10">
        </label>

        <label class="rb-label">
          ‡∏Å‡∏•‡∏∏‡πà‡∏° (Group)
          <input id="rb-group" type="text" class="rb-input" placeholder="‡πÄ‡∏ä‡πà‡∏ô Control / Experimental / G1 / G2">
        </label>

        <label class="rb-label">
          ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° (Note)
          <textarea id="rb-note" rows="3" class="rb-input" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡πà‡∏≠‡∏ô‡∏ù‡∏∂‡∏Å / ‡∏´‡∏•‡∏±‡∏á‡∏ù‡∏∂‡∏Å‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà 4, ‡πÉ‡∏ä‡πâ VR Headset ‡∏£‡∏∏‡πà‡∏ô‡πÉ‡∏î ‡∏Ø‡∏•‡∏Ø"></textarea>
        </label>

        <p class="rb-hint">
          ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡πÅ‡∏ô‡∏ö‡πÑ‡∏õ‡∏Å‡∏±‡∏ö‡πÑ‡∏ü‡∏•‡πå CSV ‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏î‡∏±‡∏ö Event ‡πÅ‡∏•‡∏∞ Session ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á
        </p>
      </div>

    </div>
  </section>

  <!-- ======= PLAY VIEW ======= -->
  <section id="rb-view-play" class="rb-view hidden">

    <!-- Top HUD -->
    <div class="rb-card rb-hud">
      <div class="rb-hud-top">
        <div class="rb-hud-block">
          <div class="rb-hud-label">‡πÇ‡∏´‡∏°‡∏î</div>
          <div class="rb-hud-value" id="rb-hud-mode">Normal</div>
        </div>
        <div class="rb-hud-block rb-hud-track">
          <div class="rb-hud-label">‡πÄ‡∏û‡∏•‡∏á</div>
          <div class="rb-hud-value" id="rb-hud-track">-</div>
        </div>
        <div class="rb-hud-block">
          <div class="rb-hud-label">‡πÄ‡∏ß‡∏•‡∏≤</div>
          <div class="rb-hud-value" id="rb-hud-time">0.0</div>
        </div>
        <div class="rb-hud-block">
          <div class="rb-hud-label">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</div>
          <div class="rb-hud-value" id="rb-hud-score">0</div>
        </div>
        <div class="rb-hud-block">
          <div class="rb-hud-label">‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö</div>
          <div class="rb-hud-value" id="rb-hud-combo">0</div>
        </div>
        <div class="rb-hud-block">
          <div class="rb-hud-label">Accuracy</div>
          <div class="rb-hud-value" id="rb-hud-acc">0.0%</div>
        </div>
        <button id="rb-btn-stop" class="rb-btn rb-btn-ghost rb-btn-sm">
          ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤
        </button>
      </div>

      <div class="rb-hud-bottom">
        <div class="rb-hit-stats">
          <span>Perfect: <strong id="rb-hud-perfect">0</strong></span>
          <span>Great: <strong id="rb-hud-great">0</strong></span>
          <span>Good: <strong id="rb-hud-good">0</strong></span>
          <span>Miss: <strong id="rb-hud-miss">0</strong></span>
        </div>

        <!-- Fever bar -->
        <div class="rb-fever-wrap">
          <div class="rb-fever-label">
            FEVER: <span id="rb-fever-status">FEVER</span>
          </div>
          <div class="rb-fever-bar">
            <div id="rb-fever-fill" class="rb-fever-fill"></div>
          </div>
        </div>

        <!-- Progress -->
        <div class="rb-progress-wrap">
          <div class="rb-progress-bar">
            <div id="rb-progress-fill" class="rb-progress-fill"></div>
          </div>
          <span id="rb-progress-text" class="rb-progress-text">0%</span>
        </div>
      </div>
    </div>

    <!-- Lanes -->
    <div class="rb-card rb-field-card">
      <div class="rb-field-header">
        <div id="rb-feedback" class="rb-feedback">
          ‡πÅ‡∏ï‡∏∞‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏ô‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡πÄ‡∏™‡πâ‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏û‡∏•‡∏á üéµ
        </div>
      </div>

      <div id="rb-lanes" class="rb-lanes">
        <div class="rb-lane" data-lane="0">
          <div class="rb-lane-label">L2</div>
          <div class="rb-hit-line"></div>
        </div>
        <div class="rb-lane" data-lane="1">
          <div class="rb-lane-label">L1</div>
          <div class="rb-hit-line"></div>
        </div>
        <div class="rb-lane" data-lane="2">
          <div class="rb-lane-label">C</div>
          <div class="rb-hit-line"></div>
        </div>
        <div class="rb-lane" data-lane="3">
          <div class="rb-lane-label">R1</div>
          <div class="rb-hit-line"></div>
        </div>
        <div class="rb-lane" data-lane="4">
          <div class="rb-lane-label">R2</div>
          <div class="rb-hit-line"></div>
        </div>
      </div>
    </div>

  </section>

  <!-- ======= RESULT VIEW ======= -->
  <section id="rb-view-result" class="rb-view hidden">
    <div class="rb-card rb-result-card">
      <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h2>

      <div class="rb-result-grid">
        <div class="rb-result-col">
          <p>‡πÇ‡∏´‡∏°‡∏î: <strong id="rb-res-mode">-</strong></p>
          <p>‡πÄ‡∏û‡∏•‡∏á: <strong id="rb-res-track">-</strong></p>
          <p>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏à‡∏ö: <strong id="rb-res-endreason">-</strong></p>
          <p>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤: <strong id="rb-res-duration">0.0 s</strong></p>
          <p>‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°: <strong id="rb-res-participant">-</strong></p>
        </div>
        <div class="rb-result-col">
          <p>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: <strong id="rb-res-score">0</strong></p>
          <p>‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î: <strong id="rb-res-maxcombo">0</strong></p>
          <p>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÇ‡∏ô‡πâ‡∏ï‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <strong id="rb-res-totalnotes">0</strong></p>
          <p>PERF / GREAT / GOOD / MISS: <strong id="rb-res-detail-hit">0/0/0/0</strong></p>
          <p>Accuracy: <strong id="rb-res-acc">0.0 %</strong></p>
        </div>
        <div class="rb-result-col">
          <p>Offset ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: <strong id="rb-res-offset-avg">-</strong></p>
          <p>Offset SD: <strong id="rb-res-offset-std">-</strong></p>
          <p>Rank: <span id="rb-res-rank" class="rb-rank">C</span></p>
          <p id="rb-res-quality-note" class="rb-quality-note hidden"></p>
        </div>
      </div>

      <div class="rb-result-actions">
        <button id="rb-btn-again" class="rb-btn rb-btn-primary">‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏û‡∏•‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á üîÅ</button>
        <button id="rb-btn-back-menu" class="rb-btn">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏°‡∏ô‡∏π</button>
        <button id="rb-btn-dl-events" class="rb-btn rb-btn-ghost">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î CSV: Event</button>
        <button id="rb-btn-dl-sessions" class="rb-btn rb-btn-ghost">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î CSV: Session</button>
      </div>
    </div>
  </section>

  <!-- Audio -->
  <audio id="rb-audio" preload="auto"></audio>

</div>

<script src="rhythm-engine.js"></script>
</body>
</html>
