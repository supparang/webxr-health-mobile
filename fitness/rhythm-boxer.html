<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <title>VR Fitness ‚Äî Rhythm Boxer</title>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <link rel="stylesheet" href="css/rhythm-boxer.css"/>
</head>
<body>
<div id="rb-wrap">
  <header class="rb-header">
    <div class="rb-header-left">
      <a href="index.html" class="rb-btn rb-btn-ghost">‚Üê ‡∏Å‡∏•‡∏±‡∏ö Hub</a>
    </div>
    <div class="rb-header-center">
      <h1>Rhythm Boxer üéµü•ä</h1>
      <p class="rb-sub">‡∏ï‡∏µ‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏û‡∏•‡∏á ‡πÄ‡∏Å‡πá‡∏ö FEVER ‡πÅ‡∏•‡∏∞‡∏´‡∏•‡∏ö‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î!</p>
    </div>
    <div class="rb-header-right">
      <span class="rb-badge">Research Ready</span>
    </div>
  </header>

  <!-- ===== MENU VIEW ===== -->
  <section id="rb-view-menu" class="rb-view">
    <div class="rb-card rb-card-menu">
      <h2>‡πÇ‡∏´‡∏°‡∏î‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h2>

      <div class="rb-radio-group">
        <label class="rb-radio">
          <input type="radio" name="mode" value="normal" checked>
          <span>‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏Å‡∏ï‡∏¥ (‡πÄ‡∏•‡πà‡∏ô‡∏™‡∏ô‡∏∏‡∏Å)</span>
        </label>
        <label class="rb-radio">
          <input type="radio" name="mode" value="research">
          <span>‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏£‡∏ö)</span>
        </label>
      </div>

      <div id="rb-research-fields" class="rb-research-fields hidden">
        <h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° (‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢)</h3>
        <div class="rb-field-row">
          <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</label>
          <input id="rb-participant" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô P001">
        </div>
        <div class="rb-field-row">
          <label>‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏î‡∏•‡∏≠‡∏á</label>
          <input id="rb-group" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô G1 / Control">
        </div>
        <div class="rb-field-row">
          <label>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
          <input id="rb-note" type="text" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏≠‡∏∑‡πà‡∏ô ‡πÜ">
        </div>
      </div>

      <h3>‡πÄ‡∏û‡∏•‡∏á / ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</h3>
      <div class="rb-field-row">
        <label for="rb-track">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏•‡∏á</label>
        <select id="rb-track">
          <option value="t1">Warm-up Groove ‚Äî ‡∏á‡πà‡∏≤‡∏¢</option>
          <option value="t2">Punch Rush ‚Äî ‡∏õ‡∏Å‡∏ï‡∏¥</option>
          <option value="t3">Ultra Beat Combo ‚Äî ‡∏¢‡∏≤‡∏Å</option>
          <option value="research">Research Track 120 ‚Äî ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏¥‡∏à‡∏±‡∏¢</option>
        </select>
      </div>

      <div class="rb-menu-actions">
        <button id="rb-btn-start" class="rb-btn rb-btn-primary">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô üéµ</button>
      </div>
    </div>
  </section>

  <!-- ===== PLAY VIEW ===== -->
  <section id="rb-view-play" class="rb-view hidden">
    <!-- Top HUD -->
    <div class="rb-hud-top">
      <div class="rb-hud-group">
        <span>Mode: <strong id="rb-hud-mode">Normal</strong></span>
        <span>Track: <strong id="rb-hud-track">-</strong></span>
        <span>Time: <strong id="rb-hud-time">0.0</strong> s</span>
      </div>
      <div class="rb-hud-group">
        <span>Score: <strong id="rb-hud-score">0</strong></span>
        <span>Combo: <strong id="rb-hud-combo">0</strong></span>
        <span>Acc: <strong id="rb-hud-acc">0.0%</strong></span>
      </div>
      <div class="rb-hud-group">
        <span>Perfect: <strong id="rb-hud-perfect">0</strong></span>
        <span>Great: <strong id="rb-hud-great">0</strong></span>
        <span>Good: <strong id="rb-hud-good">0</strong></span>
        <span>Miss: <strong id="rb-hud-miss">0</strong></span>
      </div>
      <div class="rb-hud-group rb-hud-hp">
        <span>HP: <strong id="rb-hud-hp">100</strong></span>
        <span>Shield: <strong id="rb-hud-shield">0</strong></span>
      </div>
    </div>

    <!-- Fever + Progress -->
    <div class="rb-bars">
      <div class="rb-bar rb-bar-fever">
        <span class="rb-bar-label">FEVER</span>
        <div class="rb-bar-track">
          <div id="rb-fever-fill" class="rb-bar-fill"></div>
        </div>
        <span id="rb-fever-status" class="rb-fever-status">FEVER</span>
      </div>

      <div class="rb-bar rb-bar-progress">
        <span class="rb-bar-label">Progress</span>
        <div class="rb-bar-track">
          <div id="rb-progress-fill" class="rb-bar-fill"></div>
        </div>
        <span id="rb-progress-text" class="rb-progress-text">0%</span>
      </div>
    </div>

    <!-- Play Field -->
    <div id="rb-field">
      <!-- 8-beat guide -->
      <div id="rb-beat-guide">
        <div class="bg-line"></div>
        <div class="bg-line"></div>
        <div class="bg-line"></div>
        <div class="bg-line"></div>
        <div class="bg-line"></div>
        <div class="bg-line"></div>
        <div class="bg-line"></div>
        <div class="bg-line"></div>
      </div>

      <div id="rb-lanes">
        <div class="rb-lane" data-lane="0"></div>
        <div class="rb-lane" data-lane="1"></div>
        <div class="rb-lane" data-lane="2"></div>
        <div class="rb-lane" data-lane="3"></div>
        <div class="rb-lane" data-lane="4"></div>
      </div>

      <!-- Hit line -->
      <div id="rb-hit-line"></div>

      <!-- Feedback -->
      <div id="rb-feedback" class="rb-feedback">
        ‡πÅ‡∏ï‡∏∞ lane ‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡πÄ‡∏™‡πâ‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ï‡∏≤‡∏°‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡πÄ‡∏û‡∏•‡∏á üéµ
      </div>
    </div>

    <!-- Control buttons -->
    <div class="rb-play-actions">
      <button id="rb-btn-stop" class="rb-btn rb-btn-ghost">‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</button>
      <a href="index.html" class="rb-btn rb-btn-ghost">‚Üê ‡∏Å‡∏•‡∏±‡∏ö Hub</a>
    </div>

    <!-- Audio -->
    <audio id="rb-audio" preload="auto"></audio>
  </section>

  <!-- ===== RESULT VIEW ===== -->
  <section id="rb-view-result" class="rb-view hidden">
    <div class="rb-card rb-card-result">
      <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h2>
      <div class="rb-result-grid">
        <div>
          <div class="rb-result-label">Mode</div>
          <div id="rb-res-mode" class="rb-result-value">-</div>
        </div>
        <div>
          <div class="rb-result-label">Track</div>
          <div id="rb-res-track" class="rb-result-value">-</div>
        </div>
        <div>
          <div class="rb-result-label">‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏à‡∏ö‡πÄ‡∏Å‡∏°</div>
          <div id="rb-res-reason" class="rb-result-value">-</div>
        </div>
        <div>
          <div class="rb-result-label">Score</div>
          <div id="rb-res-score" class="rb-result-value">0</div>
        </div>
        <div>
          <div class="rb-result-label">Max Combo</div>
          <div id="rb-res-maxcombo" class="rb-result-value">0</div>
        </div>
        <div>
          <div class="rb-result-label">Hit / Miss</div>
          <div id="rb-res-detail-hit" class="rb-result-value">0 / 0 / 0 / 0</div>
        </div>
        <div>
          <div class="rb-result-label">Accuracy</div>
          <div id="rb-res-acc" class="rb-result-value">0.0 %</div>
        </div>
        <div>
          <div class="rb-result-label">Avg Offset</div>
          <div id="rb-res-offset-avg" class="rb-result-value">-</div>
        </div>
        <div>
          <div class="rb-result-label">Std Offset</div>
          <div id="rb-res-offset-std" class="rb-result-value">-</div>
        </div>
        <div>
          <div class="rb-result-label">Duration</div>
          <div id="rb-res-duration" class="rb-result-value">0.0 s</div>
        </div>
        <div>
          <div class="rb-result-label">Participant</div>
          <div id="rb-res-participant" class="rb-result-value">-</div>
        </div>
        <div>
          <div class="rb-result-label">Rank</div>
          <div id="rb-res-rank" class="rb-result-rank">-</div>
        </div>
      </div>

      <p id="rb-res-quality-note" class="rb-quality-note hidden"></p>

      <div class="rb-result-actions">
        <button id="rb-btn-again" class="rb-btn rb-btn-primary">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
        <button id="rb-btn-back-menu" class="rb-btn rb-btn-ghost">‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
      </div>

      <div class="rb-result-actions">
        <button id="rb-btn-dl-events" class="rb-btn rb-btn-secondary">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î Event CSV</button>
        <button id="rb-btn-dl-sessions" class="rb-btn rb-btn-secondary">‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î Session CSV</button>
      </div>
    </div>
  </section>
</div>

<!-- Flash screen (bomb) -->
<div id="rb-flash"></div>

<script type="module" src="js/rhythm-engine.js"></script>
</body>
</html>