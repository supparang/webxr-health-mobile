<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>Fitness ‚Äî Teacher Dashboard</title>
  <meta name="color-scheme" content="dark light"/>
  <link rel="stylesheet" href="hub.css"/>
  <style>
    :root{
      --bg:#020617;
      --panel:rgba(2,6,23,.55);
      --stroke:rgba(148,163,184,.18);
      --text:#e5e7eb;
      --muted:#94a3b8;
      --good:rgba(34,197,94,.25);
      --bad:rgba(239,68,68,.18);
      --r:18px;
    }
    body{ background:var(--bg); color:var(--text); margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial; }
    .td-wrap{ max-width:1100px; margin:0 auto; padding:14px; }
    .td-top{
      display:flex; flex-wrap:wrap; gap:10px; align-items:center;
      padding:12px; border:1px solid var(--stroke); background:var(--panel); border-radius:var(--r);
    }
    .td-title{ font-weight:1000; font-size:16px; }
    .td-sub{ color:var(--muted); font-weight:900; font-size:12px; }
    .td-actions{ display:flex; flex-wrap:wrap; gap:8px; margin-left:auto; }
    .td-btn{
      border:1px solid var(--stroke); background:rgba(2,6,23,.45); color:var(--text);
      border-radius:14px; padding:9px 12px; font-weight:1000; font-size:12px;
    }
    .td-btn-primary{ background:rgba(34,197,94,.14); border-color:rgba(34,197,94,.30); }

    .td-filters{
      margin-top:10px;
      display:grid;
      grid-template-columns: repeat(6, minmax(0,1fr));
      gap:8px;
    }
    .td-inp{
      border:1px solid var(--stroke);
      background:rgba(2,6,23,.45);
      color:var(--text);
      border-radius:14px;
      padding:10px;
      font-weight:1000;
      font-size:12px;
      width:100%;
      outline:none;
    }
    .td-inp:focus{ border-color:rgba(34,197,94,.35); }
    .td-table{
      margin-top:12px;
      border:1px solid var(--stroke);
      background:var(--panel);
      border-radius:var(--r);
      overflow:hidden;
    }
    table{ width:100%; border-collapse:collapse; }
    th,td{ padding:10px; border-bottom:1px solid var(--stroke); font-size:12px; }
    th{ text-align:left; color:var(--muted); font-weight:1000; }
    tr:hover td{ background:rgba(148,163,184,.06); }
    .pill{
      display:inline-flex; gap:6px; align-items:center;
      border:1px solid var(--stroke);
      background:rgba(10,16,36,.55);
      border-radius:999px;
      padding:4px 8px;
      font-weight:1000; font-size:12px;
      white-space:nowrap;
    }
    .ok{ background:var(--good); }
    .warn{ background:var(--bad); }
    .td-msg{ margin-top:10px; color:var(--muted); font-weight:900; font-size:12px; }
    @media (max-width: 920px){
      .td-filters{ grid-template-columns: repeat(2, minmax(0,1fr)); }
      th:nth-child(7), td:nth-child(7),
      th:nth-child(8), td:nth-child(8){ display:none; }
    }
  </style>
</head>
<body>
  <div class="td-wrap">
    <div class="td-top">
      <div>
        <div class="td-title">üë©‚Äçüè´ Teacher Dashboard ‚Äî Fitness (local)</div>
        <div class="td-sub">‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏î‡πá‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡πâ‡∏≠‡∏á‡∏à‡∏≤‡∏Å localStorage (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ App Script)</div>
      </div>
      <div class="td-actions">
        <button class="td-btn" id="td-refresh">‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä</button>
        <button class="td-btn td-btn-primary" id="td-copy-csv">‡∏Ñ‡∏±‡∏î‡∏•‡∏≠‡∏Å CSV ‡∏£‡∏ß‡∏°</button>
        <button class="td-btn" id="td-clear">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</button>
        <a class="td-btn" href="hub.html">‡∏Å‡∏•‡∏±‡∏ö Hub</a>
      </div>
    </div>

    <div class="td-filters">
      <input class="td-inp" id="f-pid" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ PID (‡πÄ‡∏ä‡πà‡∏ô P001)" />
      <select class="td-inp" id="f-game">
        <option value="">‡πÄ‡∏Å‡∏°: ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
        <option value="shadow">Shadow</option>
        <option value="rhythm">Rhythm</option>
        <option value="jumpduck">JumpDuck</option>
        <option value="balance">Balance</option>
      </select>
      <select class="td-inp" id="f-phase">
        <option value="">Phase: ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
        <option value="pre">pre</option>
        <option value="post">post</option>
        <option value="mid">mid</option>
      </select>
      <select class="td-inp" id="f-group">
        <option value="">Group: ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
        <option value="A">A</option><option value="B">B</option>
        <option value="C">C</option><option value="D">D</option>
      </select>
      <select class="td-inp" id="f-sort">
        <option value="ts_desc">‡πÄ‡∏£‡∏µ‡∏¢‡∏á: ‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô</option>
        <option value="pid_asc">PID A‚ÜíZ</option>
        <option value="score_desc">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏°‡∏≤‡∏Å‚Üí‡∏ô‡πâ‡∏≠‡∏¢</option>
        <option value="ms_desc">‡πÄ‡∏ß‡∏•‡∏≤‡∏°‡∏≤‡∏Å‚Üí‡∏ô‡πâ‡∏≠‡∏¢</option>
      </select>
      <input class="td-inp" id="f-limit" inputmode="numeric" placeholder="‡∏à‡∏≥‡∏Å‡∏±‡∏î‡πÅ‡∏ñ‡∏ß (‡πÄ‡∏ä‡πà‡∏ô 200)" />
    </div>

    <div class="td-table">
      <table>
        <thead>
          <tr>
            <th>‡πÄ‡∏ß‡∏•‡∏≤</th>
            <th>PID</th>
            <th>Study</th>
            <th>Phase</th>
            <th>Group</th>
            <th>Game</th>
            <th>Score</th>
            <th>Pass/Total</th>
            <th>Streak</th>
            <th>Duration</th>
            <th>Seed</th>
          </tr>
        </thead>
        <tbody id="td-body"></tbody>
      </table>
    </div>

    <div class="td-msg" id="td-msg"></div>
  </div>

  <script src="../herohealth/vr/hha-research-pack.js"></script>
  <script src="teacher-dashboard.js"></script>
</body>
</html>