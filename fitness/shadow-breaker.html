<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>VR Fitness ‚Äî Shadow Breaker</title>
  <meta name="color-scheme" content="light dark"/>
  <link rel="icon" href="./favicon.ico"/>
  <link rel="stylesheet" href="./css/shadow-breaker.css"/>
</head>

<body>
  <div class="sb-shell">
    <!-- Header ‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô hub -->
    <header class="sb-header">
      <div class="sb-brand">
        <div class="sb-logo-pill">VR</div>
        <div class="sb-brand-text">
          <div class="sb-brand-title">VR Fitness ‚Äî Shadow Breaker</div>
          <div class="sb-brand-subtitle">‡∏ï‡∏µ‡πÄ‡∏õ‡πâ‡∏≤‡∏ö‡∏≠‡∏™‡∏ù‡∏∂‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á</div>
        </div>
      </div>
      <a href="../hub.html" class="sb-back-link">
        ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ Hub
      </a>
    </header>

    <main class="sb-card">
      <div class="sb-wrap" id="sb-wrap">
        
        <!-- ========== MENU VIEW ========== -->
        <section id="view-menu">
          <h1 class="title">ü•ä Shadow Breaker üéØ</h1>
          <p class="subtitle">‡πÄ‡∏Å‡∏°‡∏ï‡∏µ‡πÄ‡∏õ‡πâ‡∏≤‡πÅ‡∏ö‡∏ö Boss Fight ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ù‡∏∂‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á</p>

          <div class="menu-grid">
            <div class="menu-left">
              <div class="menu-block">
                <label>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</label>
                <select id="difficulty">
                  <option value="easy">Easy ‚Äî ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</option>
                  <option value="normal" selected>Normal ‚Äî ‡∏™‡∏°‡∏î‡∏∏‡∏•</option>
                  <option value="hard">Hard ‚Äî ‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢</option>
                </select>
              </div>

              <div class="menu-block">
                <label>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö</label>
                <select id="duration">
                  <option value="45">45 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
                  <option value="60" selected>60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
                  <option value="75">75 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
                </select>
              </div>

              <button data-action="start-normal" class="btn-main">‚ö° ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏•‡∏¢</button>
              <div class="research-entry">
                <button data-action="start-research" class="btn-sub">üìã ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (Research Mode)</button>
                <p class="hint">‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå CSV ‡πÑ‡∏î‡πâ</p>
              </div>
            </div>

            <div class="menu-right">
              <div class="preview-panel">
                <div class="preview-title">‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏°‡∏ô‡∏µ‡πâ</div>
                <p class="preview-text">
                  ‡∏ï‡∏µ‡πÄ‡∏õ‡πâ‡∏≤‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏≤‡∏¢‡πÑ‡∏õ ‡∏™‡∏∞‡∏™‡∏°‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ö‡∏≠‡∏™‡∏ó‡∏±‡πâ‡∏á 4 ‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡πâ‡πÑ‡∏î‡πâ!
                </p>
                <ul class="preview-list">
                  <li>‚Ä¢ ‡∏ù‡∏∂‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô‡πÅ‡∏•‡∏∞‡∏´‡∏±‡∏ß‡πÑ‡∏´‡∏•‡πà</li>
                  <li>‚Ä¢ ‡∏ù‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡πÑ‡∏ß‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á</li>
                  <li>‚Ä¢ ‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Reaction Time ‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏á‡∏≤‡∏ô‡∏ß‡∏¥‡∏à‡∏±‡∏¢</li>
                </ul>
              </div>
            </div>
          </div>
        </section>

        <!-- ========== RESEARCH FORM ========== -->
        <section id="view-research-form" class="hidden">
          <h2 class="section-title">‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (Research Mode)</h2>
          <p class="section-desc">
            ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á
          </p>

          <div class="form-grid">
            <div class="form-block">
              <label>‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</label>
              <input id="research-id" placeholder="P001"/>
            </div>

            <div class="form-block">
              <label>‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏î‡∏•‡∏≠‡∏á</label>
              <input id="research-group" placeholder="A / B / C"/>
            </div>

            <div class="form-block full">
              <label>‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏</label>
              <input id="research-note" placeholder="‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ‡πÄ‡∏ä‡πà‡∏ô ‡∏ä‡πà‡∏ß‡∏á‡πÄ‡∏ß‡∏•‡∏≤ / ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏π‡πâ‡∏™‡∏∂‡∏Å"/>
            </div>
          </div>

          <div class="form-btns">
            <button data-action="back-to-menu" class="btn-ghost">‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
            <button data-action="research-begin-play" class="btn-main">‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô</button>
          </div>
        </section>

        <!-- ========== PLAY VIEW ========== -->
        <section id="view-play" class="hidden">
          <!-- HUD -->
          <div class="hud">
            <div class="stat-left">
              <div class="hp-row">
                <div class="hp-label">PLAYER</div>
                <div class="hp-bar">
                  <div id="player-fill" class="bar green" data-sb-player-hp></div>
                </div>
              </div>
              <div class="hp-row">
                <div class="hp-label">BOSS</div>
                <div class="hp-bar">
                  <div id="boss-fill" class="bar red" data-sb-boss-hp></div>
                </div>
              </div>
            </div>

            <div class="stat-right">
              <div class="stat-item">TIME <span id="stat-time" data-sb-timer>60.0</span></div>
              <div class="stat-item">SCORE <span id="stat-score" data-sb-score>0</span></div>
              <div class="stat-item">COMBO <span id="stat-combo" data-sb-combo>0</span></div>
              <div class="stat-item">PHASE <span id="stat-phase" data-sb-phase>1</span></div>
            </div>
          </div>

          <!-- Boss portrait -->
          <div class="boss-portrait" id="boss-portrait">
            <div id="boss-portrait-emoji" class="emoji">üê£</div>
            <div class="boss-meta">
              <div id="boss-portrait-name" class="name">Bubble Glove</div>
              <div id="boss-portrait-hint" class="hint">‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πâ‡∏≤‡∏ü‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏µ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô</div>
            </div>
          </div>

          <!-- Target field -->
          <div id="target-layer" class="target-layer"></div>

          <!-- FEVER HUD -->
          <div class="fever-hud">
            <div class="fever-label">FEVER</div>
            <div class="fever-bar">
              <div id="fever-fill" class="bar fever" data-sb-fever></div>
            </div>
            <div id="fever-status" class="status" data-sb-fever-status>Ready</div>
          </div>

          <!-- Feedback -->
          <div id="sbFeedback" class="sb-feedback">
            ‡∏ï‡∏µ‡πÄ‡∏õ‡πâ‡∏≤‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏≤‡∏¢‡πÑ‡∏õ ‡πÅ‡∏•‡πâ‡∏ß‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡∏à‡∏∞‡∏¢‡∏≤‡∏ß‡πÅ‡∏Ñ‡πà‡πÑ‡∏´‡∏ô!
          </div>

          <div class="play-controls">
            <button data-action="stop-early" class="btn-sub">‚èπ ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</button>
          </div>
        </section>

        <!-- ========== RESULT VIEW ========== -->
        <section id="view-result" class="hidden">
          <h2 class="section-title">üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô</h2>

          <div class="result-layout">
            <div>
              <table class="result-table">
                <tr><td>‡πÇ‡∏´‡∏°‡∏î</td><td id="res-mode">-</td></tr>
                <tr><td>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</td><td id="res-diff">-</td></tr>
                <tr><td>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏à‡∏ö‡πÄ‡∏Å‡∏°</td><td id="res-endreason">-</td></tr>
                <tr><td>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°</td><td id="res-score">0</td></tr>
                <tr><td>‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</td><td id="res-maxcombo">0</td></tr>
                <tr><td>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏û‡∏•‡∏≤‡∏î</td><td id="res-miss">0</td></tr>
                <tr><td>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥</td><td id="res-accuracy">0%</td></tr>
                <tr><td>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡∏µ</td><td id="res-totalhits">0</td></tr>
                <tr><td>Reaction Time (‡∏õ‡∏Å‡∏ï‡∏¥)</td><td id="res-rt-normal">-</td></tr>
                <tr><td>Reaction Time (‡∏´‡∏•‡∏≠‡∏Å)</td><td id="res-rt-decoy">-</td></tr>
                <tr><td>‡πÄ‡∏Å‡∏£‡∏î</td><td id="res-grade">-</td></tr>
                <tr><td>‚è± ‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô FEVER ‡∏£‡∏ß‡∏°</td><td id="res-fever-time">0.0 s</td></tr>
                <tr><td>üí• ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏≠‡∏™‡∏ó‡∏µ‡πà‡∏ú‡πà‡∏≤‡∏ô</td><td id="res-bosses">0</td></tr>
                <tr><td>‚ù§Ô∏è‚Äçüî• ‡πÄ‡∏ß‡∏•‡∏≤ HP ‡∏ï‡πà‡∏≥‡∏£‡∏ß‡∏°</td><td id="res-lowhp-time">0.0 s</td></tr>
                <tr><td>‚öôÔ∏è ‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏°‡∏ô‡∏π ‚Üí ‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏£‡∏¥‡∏á</td><td id="res-menu-latency">-</td></tr>
              </table>
            </div>

            <div class="result-side">
              <h3>‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°</h3>
              <p>‡∏£‡∏´‡∏±‡∏™: <span id="res-participant">-</span></p>

              <div class="csv-btns">
                <button data-action="download-csv-events" class="btn-sub">
                  üìÑ ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î Event CSV
                </button>
                <button data-action="download-csv-session" class="btn-sub">
                  üìä ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î Session CSV
                </button>
              </div>

              <div class="result-btns">
                <button data-action="play-again" class="btn-main">üîÅ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
                <button data-action="back-to-menu" class="btn-ghost">üè† ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
              </div>
            </div>
          </div>
        </section>

        <!-- Boss Intro Overlay -->
        <div id="bossIntro" class="boss-intro hidden">
          <div id="boss-intro-emoji" class="emoji">üê£</div>
          <div id="boss-intro-name" class="name">Bubble Glove</div>
          <div id="boss-intro-title" class="title">‡∏ö‡∏≠‡∏™‡∏°‡∏∑‡∏≠‡πÉ‡∏´‡∏°‡πà‡∏™‡∏≤‡∏¢‡∏ü‡∏≠‡∏á</div>
          <div id="boss-intro-desc" class="desc">‡∏ï‡∏µ‡πÄ‡∏õ‡πâ‡∏≤‡πÉ‡∏´‡πâ‡πÅ‡∏ï‡∏Å‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏≤‡∏¢‡πÑ‡∏õ!</div>
          <p class="tap-hint">‡πÅ‡∏ï‡∏∞‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ!</p>
        </div>

      </div>
    </main>
  </div>

<!-- ========== Scripts (modules) ========== -->
<script type="module" src="./js/shadow-breaker.js"></script>

<!-- SFX -->
<audio id="sfx-hit"   src="./sfx/hit.mp3"         preload="auto"></audio>
<audio id="sfx-boss"  src="./sfx/boss-intro.mp3"  preload="auto"></audio>
<audio id="sfx-fever" src="./sfx/fever.mp3"       preload="auto"></audio>
</body>
</html>
