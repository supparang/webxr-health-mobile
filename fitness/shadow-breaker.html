<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>VR Fitness ‚Äî Shadow Breaker</title>
  <meta name="color-scheme" content="light dark"/>
  <link rel="icon" href="./favicon.ico"/>
  <link rel="stylesheet" href="./css/shadow-breaker.css"/>
  <script type="module" src="./js/main-shadow.js" defer></script>
</head>
<body>
  <div class="fitness-bg">
    <div class="sb-shell">
      <!-- ===== TOP BAR (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô Hub) ===== -->
      <header class="sb-topbar">
        <div class="sb-brand">
          <div class="sb-logo">ü•ä</div>
          <div class="sb-brand-text">
            <div class="sb-brand-title">VR Fitness ‚Äî Shadow Breaker</div>
            <div class="sb-brand-sub">‡∏°‡∏¥‡∏ô‡∏¥‡πÄ‡∏Å‡∏°‡∏ù‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡∏î‡πâ‡∏ß‡∏¢‡∏Å‡∏≤‡∏£‡∏ä‡∏Å‡πÄ‡∏õ‡πâ‡∏≤ emoji</div>
          </div>
        </div>
        <nav class="sb-nav">
          <!-- ‡∏õ‡∏£‡∏±‡∏ö href ‡∏ï‡∏≤‡∏°‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏£‡∏¥‡∏á ‡∏ñ‡πâ‡∏≤‡πÑ‡∏ü‡∏•‡πå‡πÄ‡∏Å‡∏°‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ï‡πâ /fitness/shadow-breaker/ ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ ../hub.html -->
          <a class="sb-link" href="../hub.html">‚Üê ‡∏Å‡∏•‡∏±‡∏ö VR Fitness Hub</a>
        </nav>
      </header>

      <!-- ===== MAIN WRAP (engine.js ‡πÉ‡∏ä‡πâ id="sb-wrap") ===== -->
      <main id="sb-wrap">
        <!-- ===== VIEW: MENU ===== -->
        <section id="view-menu" class="sb-view">
          <div class="sb-menu-grid">
            <div class="sb-card sb-menu-main">
              <h1 class="sb-title">
                <span class="sb-title-emoji">ü•ä</span>
                <span>Shadow Breaker</span>
              </h1>
              <p class="sb-lead">
                ‡∏ä‡∏Å‡πÄ‡∏õ‡πâ‡∏≤ emoji ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô‡πÄ‡∏ß‡∏•‡∏≤ ‡∏´‡∏•‡∏ö‡∏£‡∏∞‡πÄ‡∏ö‡∏¥‡∏î ‡πÄ‡∏Å‡πá‡∏ö Heal / Shield ‡πÅ‡∏•‡∏∞‡∏•‡πâ‡∏°‡∏ö‡∏≠‡∏™‡∏ó‡∏±‡πâ‡∏á 4 ‡∏ï‡∏±‡∏ß‡πÉ‡∏´‡πâ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!
              </p>
              <ul class="sb-feature-list">
                <li>‡πÄ‡∏õ‡πâ‡∏≤ emoji ‡∏Ç‡∏ô‡∏≤‡∏î‡πÉ‡∏´‡∏ç‡πà ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏î‡πá‡∏Å‡∏õ‡∏£‡∏∞‡∏ñ‡∏°</li>
                <li>‡∏°‡∏µ Bomb / Decoy / Heal / Shield ‡πÉ‡∏´‡πâ‡∏ù‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à</li>
                <li>‡∏°‡∏µ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å Reaction Time ‡πÅ‡∏•‡∏∞ Event Log ‡πÄ‡∏õ‡πá‡∏ô CSV</li>
              </ul>
              <p class="sb-note">
                ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏´‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏ö‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå Chromium (Chrome / Edge) ‡πÅ‡∏•‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ö‡∏ö‡πÄ‡∏ï‡πá‡∏°‡∏à‡∏≠ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°‡∏°‡∏≤‡∏Å‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î
              </p>
            </div>

            <div class="sb-card sb-menu-settings">
              <h2 class="sb-card-title">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</h2>

              <label class="sb-field">
                <span>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</span>
                <select id="difficulty">
                  <option value="easy">Easy ‚Äî ‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢</option>
                  <option value="normal" selected>Normal ‚Äî ‡∏™‡∏°‡∏î‡∏∏‡∏•</option>
                  <option value="hard">Hard ‚Äî ‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢</option>
                </select>
              </label>

              <label class="sb-field">
                <span>‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏•‡πà‡∏ô (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)</span>
                <select id="duration">
                  <option value="60" selected>60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
                  <option value="90">90 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
                  <option value="120">120 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
                </select>
              </label>

              <div class="sb-menu-buttons">
                <button type="button" class="sb-btn sb-btn-primary" data-action="start-normal">
                  ‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏•‡∏¢
                </button>
                <button type="button" class="sb-btn sb-btn-ghost" data-action="start-research">
                  üìä ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢
                </button>
              </div>

              <p class="sb-small-text">
                ‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏à‡∏∞‡πÉ‡∏´‡πâ‡∏Å‡∏£‡∏≠‡∏Å ‚Äú‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° / ‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‚Äù ‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏° ‡πÅ‡∏•‡∏∞‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á‡πÑ‡∏ü‡∏•‡πå CSV
              </p>
            </div>
          </div>
        </section>

        <!-- ===== VIEW: PLAY ===== -->
        <section id="view-play" class="sb-view hidden">
          <div class="sb-play-layout">
            <!-- HUD ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô -->
            <div class="sb-hud-top">
              <div class="sb-hud-side">
                <div class="sb-hud-label">YOU</div>
                <div class="sb-hp-bar">
                  <div id="sb-hp-player" class="sb-hp-fill"></div>
                </div>
              </div>

              <div class="sb-hud-center">
                <div class="sb-boss-hud">
                  <span id="sb-boss-portrait" class="sb-boss-portrait">üê£</span>
                  <span id="sb-boss-name" class="sb-boss-name">Bubble Glove</span>
                </div>
                <div class="sb-fever-wrap">
                  <span id="fever-status" class="sb-fever-status">READY</span>
                  <div class="sb-fever-bar">
                    <div id="fever-fill" class="sb-fever-fill"></div>
                  </div>
                </div>
              </div>

              <div class="sb-hud-side sb-hud-side-right">
                <div class="sb-hud-label">BOSS</div>
                <div class="sb-hp-bar sb-hp-bar-boss">
                  <div id="sb-hp-boss" class="sb-hp-fill"></div>
                </div>
              </div>
            </div>

            <!-- ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô‡∏´‡∏•‡∏±‡∏Å -->
            <div class="sb-play-main">
              <!-- ‡∏Å‡∏≤‡∏£‡πå‡∏î‡∏ö‡∏≠‡∏™‡∏î‡πâ‡∏≤‡∏ô‡∏ã‡πâ‡∏≤‡∏¢ -->
              <aside class="sb-boss-card">
                <div id="boss-portrait-emoji" class="sb-boss-card-emoji">üê£</div>
                <div id="boss-portrait-name" class="sb-boss-card-name">Bubble Glove</div>
                <p id="boss-portrait-hint" class="sb-boss-card-hint">
                  ‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ó‡∏µ‡πà‡∏ü‡∏≠‡∏á‡πÉ‡∏´‡∏ç‡πà ‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏µ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô
                </p>
                <p class="sb-boss-card-phase">
                  Phase: <span id="stat-phase">1</span> / 3
                </p>
              </aside>

              <!-- ‡∏™‡∏ô‡∏≤‡∏°‡πÄ‡∏õ‡πâ‡∏≤ -->
              <section class="sb-stage">
                <div id="target-layer" class="sb-target-layer"></div>
                <div id="sb-feedback" class="sb-feedback">
                  ‡πÅ‡∏ï‡∏∞/‡∏ä‡∏Å‡πÄ‡∏õ‡πâ‡∏≤‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô ‡∏Å‡πà‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πâ‡∏≤‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ!
                </div>
              </section>
            </div>

            <!-- ‡πÅ‡∏ñ‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡πâ‡∏≤‡∏ô‡∏•‡πà‡∏≤‡∏á (‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î‡πÄ‡∏î‡∏µ‡∏¢‡∏ß / responsive) -->
            <footer class="sb-bottom-bar">
              <div class="sb-stat-row">
                <div class="sb-stat">
                  <span>Time</span>
                  <strong id="stat-time">0.0</strong>
                </div>
                <div class="sb-stat">
                  <span>Score</span>
                  <strong id="stat-score">0</strong>
                </div>
                <div class="sb-stat">
                  <span>Combo</span>
                  <strong id="stat-combo">0</strong>
                </div>
                <div class="sb-stat">
                  <span>Miss</span>
                  <strong id="stat-miss">0</strong>
                </div>
                <div class="sb-stat">
                  <span>Shield</span>
                  <strong id="stat-shield">0</strong>
                </div>
              </div>
              <div class="sb-bottom-actions">
                <button type="button" class="sb-btn sb-btn-ghost" data-action="back-to-menu">
                  ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π
                </button>
                <button type="button" class="sb-btn sb-btn-danger" data-action="stop-early">
                  ‚ñ† ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤
                </button>
              </div>
            </footer>
          </div>

          <!-- Boss Intro Overlay -->
          <div id="bossIntro" class="sb-boss-intro hidden">
            <div class="sb-boss-intro-card">
              <div id="boss-intro-emoji" class="sb-boss-intro-emoji">üê£</div>
              <h2 id="boss-intro-title">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡∏Å‡∏±‡∏ö‡∏ö‡∏≠‡∏™‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å!</h2>
              <p id="boss-intro-name" class="sb-boss-intro-name">Bubble Glove</p>
              <p id="boss-intro-desc" class="sb-boss-intro-desc">
                ‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ó‡∏µ‡πà‡∏ü‡∏≠‡∏á‡πÉ‡∏´‡∏ç‡πà ‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏µ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô
              </p>
              <p class="sb-boss-intro-hint">‡πÅ‡∏ï‡∏∞/‡∏Ñ‡∏•‡∏¥‡∏Å‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°!</p>
            </div>
          </div>
        </section>

        <!-- ===== VIEW: RESULT ===== -->
        <section id="view-result" class="sb-view hidden">
          <div class="sb-result-card">
            <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏• Shadow Breaker</h2>
            <p class="sb-result-mode">
              <span id="res-mode">‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏£‡∏¥‡∏á</span> ¬∑
              <span id="res-diff">Normal ‚Äî ‡∏™‡∏°‡∏î‡∏∏‡∏•</span>
            </p>

            <div class="sb-result-main">
              <div class="sb-result-score">
                <div id="res-grade" class="sb-result-grade">A</div>
                <div id="res-score" class="sb-result-score-num">0</div>
                <div class="sb-result-accuracy">
                  Accuracy <span id="res-accuracy">0.0 %</span>
                </div>
                <div id="res-endreason" class="sb-result-end">‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤</div>
              </div>

              <dl class="sb-result-grid">
                <div>
                  <dt>Max Combo</dt>
                  <dd id="res-maxcombo">0</dd>
                </div>
                <div>
                  <dt>Total Hits</dt>
                  <dd id="res-totalhits">0</dd>
                </div>
                <div>
                  <dt>Miss</dt>
                  <dd id="res-miss">0</dd>
                </div>
                <div>
                  <dt>Fever Time</dt>
                  <dd id="res-fever-time">0.0 s</dd>
                </div>
                <div>
                  <dt>Low HP Time</dt>
                  <dd id="res-lowhp-time">0.0 s</dd>
                </div>
                <div>
                  <dt>Bosses Cleared</dt>
                  <dd id="res-bosses">0</dd>
                </div>
                <div>
                  <dt>Menu Latency</dt>
                  <dd id="res-menu-latency">0 ms</dd>
                </div>
                <div>
                  <dt>RT Normal</dt>
                  <dd id="res-rt-normal">-</dd>
                </div>
                <div>
                  <dt>RT Decoy</dt>
                  <dd id="res-rt-decoy">-</dd>
                </div>
                <div>
                  <dt>Participant</dt>
                  <dd id="res-participant">-</dd>
                </div>
              </dl>
            </div>

            <p id="res-end-hint" class="sb-result-hint"></p>

            <div class="sb-result-actions">
              <button type="button" class="sb-btn sb-btn-primary" data-action="play-again">
                ‚ñ∂ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á
              </button>
              <button type="button" class="sb-btn sb-btn-ghost" data-action="back-to-menu">
                ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å
              </button>
            </div>

            <div class="sb-result-download">
              <button type="button" class="sb-btn sb-btn-outline" data-action="download-csv-session">
                ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏£‡∏∏‡∏õ Session (CSV)
              </button>
              <button type="button" class="sb-btn sb-btn-outline" data-action="download-csv-events">
                ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î Event Log (CSV)
              </button>
            </div>
          </div>
        </section>

        <!-- ===== VIEW: RESEARCH FORM ===== -->
        <section id="view-research-form" class="sb-view hidden">
          <div class="sb-research-card">
            <h2>‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ Shadow Breaker</h2>
            <p>
              ‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° / ‡∏Å‡∏•‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏µ‡∏¢‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡∏π‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡πÑ‡∏ü‡∏•‡πå CSV
              ‡πÅ‡∏•‡∏∞‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå RT, Accuracy, Miss ‡∏Ø‡∏•‡∏Ø
            </p>

            <label class="sb-field">
              <span>‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° / ‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô *</span>
              <input id="research-id" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô SB-001"/>
            </label>

            <label class="sb-field">
              <span>‡∏Å‡∏•‡∏∏‡πà‡∏° / ‡∏´‡πâ‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</span>
              <input id="research-group" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏õ.5/1 ‡∏´‡∏£‡∏∑‡∏≠ Group A"/>
            </label>

            <label class="sb-field">
              <span>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</span>
              <textarea id="research-note" rows="3" placeholder="‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏û‡∏¥‡πÄ‡∏®‡∏© / ‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡∏≠‡∏∑‡πà‡∏ô ‡πÜ"></textarea>
            </label>

            <div class="sb-research-actions">
              <button type="button" class="sb-btn sb-btn-primary" data-action="research-begin-play">
                ‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢
              </button>
              <button type="button" class="sb-btn sb-btn-ghost" data-action="back-to-menu">
                ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å
              </button>
            </div>
          </div>
        </section>
      </main>
    </div>
  </div>
</body>
</html>