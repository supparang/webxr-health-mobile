<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"/>
  <title>VR Fitness ‚Äî Shadow Breaker</title>
  <meta name="color-scheme" content="dark light"/>
  <link rel="icon" href="favicon.ico"/>
  <link rel="stylesheet" href="css/shadow-breaker.css"/>
</head>
<body>
<div id="sb-wrap" class="sb-wrap" data-diff="normal" data-boss="0" data-phase="1">

  <!-- ===== VIEW: MENU ===== -->
  <main id="view-menu" class="sb-card sb-card-main">
    <header class="sb-card-header">
      <div class="sb-brand">
        <div class="sb-logo-pill">SB</div>
        <div class="sb-brand-text">
          <h1 class="sb-brand-title">Shadow Breaker üéØ</h1>
          <p class="sb-brand-subtitle">
            ‡πÄ‡∏Å‡∏°‡∏ï‡∏µ‡πÄ‡∏õ‡πâ‡∏≤‡πÅ‡∏ö‡∏ö Boss Fight ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ù‡∏∂‡∏Å‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÅ‡∏Ç‡∏ô ‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö ‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á
          </p>
        </div>
      </div>
      <a href="hub.html" class="sb-back-link">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà VR Fitness Hub</a>
    </header>

    <!-- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏•‡πà‡∏ô -->
    <section class="sb-section">
      <h2 class="sb-section-title">‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏•‡πà‡∏ô</h2>

      <div class="sb-field-row">
        <label for="difficulty">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</label>
        <div class="sb-select-pill">
          <select id="difficulty">
            <option value="easy">Easy ‚Äî ‡∏ú‡πà‡∏≠‡∏ô‡∏Ñ‡∏•‡∏≤‡∏¢</option>
            <option value="normal" selected>Normal ‚Äî ‡∏™‡∏°‡∏î‡∏∏‡∏•</option>
            <option value="hard">Hard ‚Äî ‡∏ó‡πâ‡∏≤‡∏ó‡∏≤‡∏¢</option>
          </select>
        </div>
      </div>

      <div class="sb-field-row">
        <label for="duration">‡∏£‡∏∞‡∏¢‡∏∞‡πÄ‡∏ß‡∏•‡∏≤‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö</label>
        <div class="sb-select-pill">
          <select id="duration">
            <option value="45">45 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
            <option value="60" selected>60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô)</option>
            <option value="90">90 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</option>
          </select>
        </div>
      </div>

      <div class="sb-actions">
        <button class="sb-btn sb-btn-primary" data-action="start-normal">
          ‚ö° ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏•‡∏¢
        </button>
        <button class="sb-btn" data-action="start-research">
          üß™ ‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (Research Mode)
        </button>
      </div>

      <p class="sb-hint">
        ‡πÇ‡∏´‡∏°‡∏î‡∏õ‡∏Å‡∏ï‡∏¥‡∏à‡∏∞‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏•‡πà‡∏ô‡∏ù‡∏∂‡∏Å‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ ‡∏™‡πà‡∏ß‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢‡∏à‡∏∞‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å
        ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏ú‡∏•‡∏Å‡πà‡∏≠‡∏ô‚Äì‡∏´‡∏•‡∏±‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ù‡∏∂‡∏Å
      </p>
    </section>

    <!-- ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô -->
    <section class="sb-section sb-section-inline">
      <h2 class="sb-section-title">üìå ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô</h2>
      <p class="sb-text">
        ‡πÄ‡∏õ‡πâ‡∏≤ Emoji ‡∏à‡∏∞‡πÇ‡∏ú‡∏•‡πà‡∏ó‡∏±‡πà‡∏ß‡∏à‡∏≠‡∏™‡∏ô‡∏≤‡∏° ‚Äî ‡πÉ‡∏ä‡πâ‡∏Å‡∏≤‡∏£‡∏ä‡∏Å/‡πÅ‡∏ï‡∏∞‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏≤‡∏¢‡πÑ‡∏õ ‡∏¢‡∏¥‡πà‡∏á‡∏ï‡∏µ‡πÄ‡∏£‡πá‡∏ß‡πÅ‡∏•‡∏∞‡πÅ‡∏°‡πà‡∏ô ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏¢‡∏¥‡πà‡∏á‡∏™‡∏π‡∏á!
      </p>
      <ul class="sb-legend">
        <li><span class="sb-dot sb-dot-perfect"></span> <strong>Perfect</strong> ‚Äî ‡∏î‡∏µ‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î ‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô+‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î</li>
        <li><span class="sb-dot sb-dot-good"></span> <strong>Good</strong> ‚Äî ‡∏à‡∏±‡∏á‡∏´‡∏ß‡∏∞‡∏î‡∏µ ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á</li>
        <li><span class="sb-dot sb-dot-bad"></span> <strong>Bad</strong> ‚Äî ‡∏ä‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡∏û‡∏•‡∏≤‡∏î ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ô‡πâ‡∏≠‡∏¢</li>
        <li><span class="sb-dot sb-dot-bomb"></span> <strong>Bomb</strong> ‚Äî ‡∏ï‡∏µ‡∏ú‡∏¥‡∏î HP ‡∏•‡∏î ‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ß‡∏±‡∏á</li>
        <li><span class="sb-dot sb-dot-heal"></span> <strong>Heal / Shield</strong> ‚Äî ‡πÄ‡∏ï‡∏¥‡∏° HP & ‡πÄ‡∏Å‡∏£‡∏≤‡∏∞</li>
        <li><span class="sb-dot sb-dot-fever"></span> <strong>FEVER</strong> ‚Äî ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏à‡πÄ‡∏ï‡πá‡∏° ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏û‡∏∏‡πà‡∏á‡∏™‡∏π‡∏á‡∏û‡∏¥‡πÄ‡∏®‡∏©</li>
      </ul>
    </section>

    <!-- ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ -->
    <section class="sb-card sb-card-research">
      <h2 class="sb-section-title">‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ (Research Mode)</h2>
      <p class="sb-text">
        ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ ‡πÄ‡∏Å‡∏°‡∏à‡∏∞‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏ï‡∏µ‡πÄ‡∏õ‡πâ‡∏≤ (Hit/Miss, Reaction Time, Boss Phase)
        ‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏£‡∏∏‡∏õ‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏ü‡∏•‡πå CSV 2 ‡∏ä‡∏ô‡∏¥‡∏î ‡πÑ‡∏î‡πâ‡πÅ‡∏Å‡πà Event CSV ‡πÅ‡∏•‡∏∞ Session CSV
        ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏≥‡πÑ‡∏õ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥ ‡πÄ‡∏ä‡πà‡∏ô RT, ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥, ‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢, ‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏ï‡∏≤‡∏° Phase ‡∏Ç‡∏≠‡∏á Boss ‡πÄ‡∏õ‡πá‡∏ô‡∏ï‡πâ‡∏ô
      </p>
      <p class="sb-text sb-text-small">
        ‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ‡πÉ‡∏ä‡πâ‡∏£‡πà‡∏ß‡∏°‡∏Å‡∏±‡∏ö VR Fitness ‡πÄ‡∏Å‡∏°‡∏≠‡∏∑‡πà‡∏ô ‡πÜ (‡πÄ‡∏ä‡πà‡∏ô Rhythm Boxer) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á
        ‡∏Ç‡∏≠‡∏á‡∏ú‡∏π‡πâ‡∏ù‡∏∂‡∏Å‡πÉ‡∏ô‡∏´‡∏•‡∏≤‡∏¢‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°‡πÑ‡∏î‡πâ
      </p>
    </section>
  </main>

  <!-- ===== VIEW: PLAY ===== -->
  <section id="view-play" class="sb-card sb-card-main hidden">

    <header class="sb-card-header">
      <div class="sb-brand">
        <div class="sb-logo-pill">SB</div>
        <div class="sb-brand-text">
          <h1 class="sb-brand-title">Shadow Breaker üéØ</h1>
          <p class="sb-brand-subtitle">‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏•‡πà‡∏ô‡∏à‡∏£‡∏¥‡∏á ‚Äî ‡∏ï‡∏µ‡πÄ‡∏õ‡πâ‡∏≤‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô ‡πÄ‡∏Å‡πá‡∏ö‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö ‡πÅ‡∏•‡∏∞‡∏•‡πâ‡∏°‡∏ö‡∏≠‡∏™‡∏ó‡∏µ‡∏•‡∏∞‡∏ï‡∏±‡∏ß</p>
        </div>
      </div>
      <button class="sb-back-link" data-action="back-to-menu">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</button>
    </header>

    <!-- HUD ‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô -->
    <div class="sb-play-top">
      <div class="sb-top-stats">
        <div class="sb-stat">
          <span class="sb-stat-label">Time</span>
          <span class="sb-stat-value" id="stat-time">0.0</span>
        </div>
        <div class="sb-stat">
          <span class="sb-stat-label">Score</span>
          <span class="sb-stat-value" id="stat-score">0</span>
        </div>
        <div class="sb-stat">
          <span class="sb-stat-label">Combo</span>
          <span class="sb-stat-value" id="stat-combo">0</span>
        </div>
        <div class="sb-stat">
          <span class="sb-stat-label">Phase</span>
          <span class="sb-stat-value" id="stat-phase">1</span>
        </div>
        <div class="sb-stat">
          <span class="sb-stat-label">Miss</span>
          <span class="sb-stat-value" id="stat-miss">0</span>
        </div>
        <div class="sb-stat">
          <span class="sb-stat-label">Shield</span>
          <span class="sb-stat-value" id="stat-shield">0</span>
        </div>
        <div class="sb-stat">
          <span class="sb-stat-label">Fever</span>
          <span class="sb-stat-value" id="fever-status">Ready</span>
        </div>
      </div>

      <div class="sb-hp-rows">
        <div class="sb-hp-row">
          <span class="sb-hp-label">Player</span>
          <div class="sb-hp-bar">
            <div data-sb-player-hp></div>
          </div>
        </div>
        <div class="sb-hp-row">
          <span class="sb-hp-label">Boss</span>
          <div class="sb-hp-bar">
            <div data-sb-boss-hp></div>
          </div>
        </div>
      </div>

      <div class="sb-fever-row">
        <span class="sb-fever-label">Fever</span>
        <div id="fever-bar">
          <div id="fever-fill"></div>
        </div>
        <span id="fever-status">Ready</span>
      </div>

      <p id="sb-feedback" class="sb-feedback"></p>
    </div>

    <!-- Gameplay + Boss Panel -->
    <div class="sb-play-main">
      <div class="sb-play-left">
        <div class="sb-play-field">
          <div id="target-layer"></div>
        </div>

        <div class="sb-play-controls">
          <button class="sb-btn" data-action="stop-early">‚èπ ‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏ß‡∏•‡∏≤</button>
          <button class="sb-btn" data-action="back-to-menu">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</button>
        </div>
      </div>

      <aside class="sb-boss-panel" id="boss-portrait">
        <div class="sb-boss-header">
          <span id="boss-portrait-emoji">üê£</span>
          <div>
            <div id="boss-portrait-name">Bubble Glove</div>
          </div>
        </div>
        <p id="boss-portrait-hint">‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πâ‡∏≤‡∏ü‡∏≠‡∏á‡πÉ‡∏´‡∏ç‡πà ‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏µ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô</p>
      </aside>
    </div>
  </section>

  <!-- ===== VIEW: RESULT ===== -->
  <section id="view-result" class="sb-card sb-card-main hidden" data-events-csv="" data-session-csv="">
    <header class="sb-card-header">
      <div class="sb-brand">
        <div class="sb-logo-pill">SB</div>
        <div class="sb-brand-text">
          <h1 class="sb-brand-title">‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡πà‡∏ô Shadow Breaker</h1>
          <p class="sb-brand-subtitle">‡πÉ‡∏ä‡πâ‡∏ú‡∏•‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡∏Å‡πà‡∏≠‡∏ô‚Äì‡∏´‡∏•‡∏±‡∏á‡πÇ‡∏õ‡∏£‡πÅ‡∏Å‡∏£‡∏°‡∏ù‡∏∂‡∏Å‡πÑ‡∏î‡πâ</p>
        </div>
      </div>
      <button class="sb-back-link" data-action="back-to-menu">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</button>
    </header>

    <section class="sb-section">
      <h2 class="sb-section-title">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</h2>
      <div class="sb-result-grid">
        <div>
          <p>‡πÇ‡∏´‡∏°‡∏î: <strong id="res-mode">-</strong></p>
          <p>‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å: <strong id="res-diff">-</strong></p>
          <p>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏à‡∏ö‡πÄ‡∏Å‡∏°: <strong id="res-endreason">-</strong></p>
          <p>‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°: <strong id="res-participant">-</strong></p>
        </div>
        <div>
          <p>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <strong id="res-score">0</strong></p>
          <p>‡πÄ‡∏Å‡∏£‡∏î: <strong id="res-grade">-</strong></p>
          <p>‡∏Ñ‡∏ß‡∏≤‡∏°‡πÅ‡∏°‡πà‡∏ô‡∏¢‡∏≥: <strong id="res-accuracy">0%</strong></p>
          <p>‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î: <strong id="res-maxcombo">0</strong></p>
        </div>
        <div>
          <p>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏ñ‡∏π‡∏Å‡∏ï‡∏µ: <strong id="res-totalhits">0</strong></p>
          <p>Miss ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <strong id="res-miss">0</strong></p>
          <p>‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ö‡∏≠‡∏™‡∏ó‡∏µ‡πà‡πÄ‡∏Ñ‡∏•‡∏µ‡∏¢‡∏£‡πå: <strong id="res-bosses">0</strong></p>
          <p>‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô FEVER ‡∏£‡∏ß‡∏°: <strong id="res-fever-time">0 s</strong></p>
        </div>
        <div>
          <p>‡πÄ‡∏ß‡∏•‡∏≤ HP ‡∏ï‡πà‡∏≥: <strong id="res-lowhp-time">0 s</strong></p>
          <p>RT ‡∏õ‡∏Å‡∏ï‡∏¥‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: <strong id="res-rt-normal">-</strong></p>
          <p>RT ‡πÄ‡∏õ‡πâ‡∏≤‡∏•‡∏ß‡∏á‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢: <strong id="res-rt-decoy">-</strong></p>
          <p>‡πÄ‡∏ß‡∏•‡∏≤‡∏à‡∏≤‡∏Å‡πÄ‡∏°‡∏ô‡∏π ‚Üí ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô: <strong id="res-menu-latency">-</strong></p>
        </div>
      </div>
      <p id="res-end-hint" class="sb-text sb-text-small"></p>
    </section>

    <!-- RT per boss/phase (‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏±‡πâ‡∏ô ‡πÜ) -->
    <section class="sb-section">
      <h2 class="sb-section-title">RT ‡πÄ‡∏â‡∏•‡∏µ‡πà‡∏¢‡∏ï‡∏≤‡∏° Boss / Phase (‡πÄ‡∏õ‡πâ‡∏≤‡∏õ‡∏Å‡∏ï‡∏¥)</h2>
      <div class="sb-rt-grid">
        <!-- b1 -->
        <div>
          <h3>Boss 1</h3>
          <p>Phase 1: <span id="res-rt-b1p1">-</span></p>
          <p>Phase 2: <span id="res-rt-b1p2">-</span></p>
          <p>Phase 3: <span id="res-rt-b1p3">-</span></p>
        </div>
        <div>
          <h3>Boss 2</h3>
          <p>Phase 1: <span id="res-rt-b2p1">-</span></p>
          <p>Phase 2: <span id="res-rt-b2p2">-</span></p>
          <p>Phase 3: <span id="res-rt-b2p3">-</span></p>
        </div>
        <div>
          <h3>Boss 3</h3>
          <p>Phase 1: <span id="res-rt-b3p1">-</span></p>
          <p>Phase 2: <span id="res-rt-b3p2">-</span></p>
          <p>Phase 3: <span id="res-rt-b3p3">-</span></p>
        </div>
        <div>
          <h3>Boss 4</h3>
          <p>Phase 1: <span id="res-rt-b4p1">-</span></p>
          <p>Phase 2: <span id="res-rt-b4p2">-</span></p>
          <p>Phase 3: <span id="res-rt-b4p3">-</span></p>
        </div>
      </div>
    </section>

    <section class="sb-section">
      <div class="sb-result-actions">
        <button class="sb-btn sb-btn-primary" data-action="play-again">üîÅ ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
        <button class="sb-btn" data-action="download-csv-session">‚¨á ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î Session CSV</button>
        <button class="sb-btn" data-action="download-csv-events">‚¨á ‡∏î‡∏≤‡∏ß‡∏ô‡πå‡πÇ‡∏´‡∏•‡∏î Event CSV</button>
        <button class="sb-btn" data-action="back-to-menu">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</button>
      </div>
    </section>
  </section>

  <!-- ===== VIEW: RESEARCH FORM ===== -->
  <section id="view-research-form" class="sb-card sb-card-main hidden">
    <header class="sb-card-header">
      <div class="sb-brand">
        <div class="sb-logo-pill">SB</div>
        <div class="sb-brand-text">
          <h1 class="sb-brand-title">‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢ ‚Äî Shadow Breaker</h1>
          <p class="sb-brand-subtitle">
            ‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏°‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡πá‡∏ö‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏•‡∏á‡πÉ‡∏ô CSV
          </p>
        </div>
      </div>
      <button class="sb-back-link" data-action="back-to-menu">‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π‡∏´‡∏•‡∏±‡∏Å</button>
    </header>

    <section class="sb-section">
      <div class="sb-field-row">
        <label for="research-id">‡∏£‡∏´‡∏±‡∏™‡∏ú‡∏π‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡∏£‡πà‡∏ß‡∏° / ‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡πÄ‡∏£‡∏µ‡∏¢‡∏ô</label>
        <input id="research-id" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô P001 ‡∏´‡∏£‡∏∑‡∏≠ S-01"/>
      </div>
      <div class="sb-field-row">
        <label for="research-group">‡∏Å‡∏•‡∏∏‡πà‡∏° / ‡∏´‡πâ‡∏≠‡∏á / Section</label>
        <input id="research-group" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô G1 ‡∏´‡∏£‡∏∑‡∏≠ ‡∏õ.5/1"/>
      </div>
      <div class="sb-field-row">
        <label for="research-note">‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
        <textarea id="research-note" rows="3"
          placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Å‡πà‡∏≠‡∏ô‡∏ù‡∏∂‡∏Å, ‡∏´‡∏•‡∏±‡∏á‡∏ù‡∏∂‡∏Å‡∏™‡∏±‡∏õ‡∏î‡∏≤‡∏´‡πå‡∏ó‡∏µ‡πà 4 ‡∏Ø‡∏•‡∏Ø"></textarea>
      </div>

      <div class="sb-actions">
        <button class="sb-btn sb-btn-primary" data-action="research-begin-play">
          ‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏ß‡∏¥‡∏à‡∏±‡∏¢
        </button>
        <button class="sb-btn" data-action="back-to-menu">
          ‚Üê ‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π
        </button>
      </div>
    </section>
  </section>

  <!-- ===== BOSS INTRO OVERLAY ===== -->
  <div id="bossIntro" class="hidden">
    <div class="sb-boss-intro-card">
      <div style="font-size:40px;margin-bottom:6px;" id="boss-intro-emoji">üê£</div>
      <div class="sb-boss-intro-name" id="boss-intro-name">Bubble Glove</div>
      <div class="sb-boss-intro-title" id="boss-intro-title">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ‡∏Å‡∏±‡∏ö‡∏ö‡∏≠‡∏™‡∏ï‡∏±‡∏ß‡πÅ‡∏£‡∏Å!</div>
      <p class="sb-text" id="boss-intro-desc">
        ‡πÇ‡∏ü‡∏Å‡∏±‡∏™‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πâ‡∏≤‡∏ü‡∏≠‡∏á‡πÉ‡∏´‡∏ç‡πà ‡πÜ ‡πÅ‡∏•‡πâ‡∏ß‡∏ï‡∏µ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡∏ô ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ö‡∏≠‡∏™‡∏ñ‡∏±‡∏î‡πÑ‡∏õ!
      </p>
      <p class="sb-text sb-text-small">
        ‡πÅ‡∏ï‡∏∞‡∏ó‡∏µ‡πà‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏´‡∏£‡∏∑‡∏≠‡∏Ñ‡∏•‡∏¥‡∏Å‡πÄ‡∏°‡∏≤‡∏™‡πå‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ
      </p>
    </div>
  </div>

</div>

<!-- JS: Shadow Breaker Engine (ES module) -->
<script type="module">
  import { initShadowBreaker } from './js/engine.js';

  window.addEventListener('DOMContentLoaded', () => {
    initShadowBreaker();
  });
</script>
</body>
</html>
