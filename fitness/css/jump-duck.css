/* === css/jump-duck.css — Jump Duck Rush UI (2025-12-02) === */

:root{
  color-scheme: dark;
  --jd-bg: #020617;
  --jd-card: #020617;
  --jd-border: #1e293b;
  --jd-text: #e5e7eb;
  --jd-muted: #9ca3af;
  --jd-accent: #38bdf8;
  --jd-accent2: #22c55e;
  --jd-danger: #fb7185;
  --jd-gold: #facc15;
  --jd-fever: #f97316;
}

*,
*::before,
*::after{
  box-sizing:border-box;
}

html,body{
  margin:0;
  padding:0;
  height:100%;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:
    radial-gradient(circle at top left,rgba(56,189,248,0.18),transparent 55%),
    radial-gradient(circle at bottom right,rgba(34,197,94,0.16),transparent 55%),
    var(--jd-bg);
  color:var(--jd-text);
}

/* Shell */

.jd-shell{
  min-height:100vh;
  max-width:1100px;
  margin:0 auto;
  padding:18px 14px 26px;
}

.jd-wrap{
  width:100%;
}

/* Generic view wrapper */

.jd-view{
  margin-bottom:18px;
}

/* Card */

.jd-card{
  background:
    radial-gradient(circle at top left,rgba(56,189,248,0.14),transparent 55%),
    radial-gradient(circle at bottom right,rgba(34,197,94,0.12),transparent 55%),
    rgba(15,23,42,0.98);
  border-radius:18px;
  border:1px solid var(--jd-border);
  padding:16px 16px 18px;
  box-shadow:0 24px 50px rgba(0,0,0,0.7);
}

/* Typography */

.jd-title{
  margin:0 0 4px;
  font-size:1.6rem;
}
.jd-subtitle{
  margin:0 0 12px;
  font-size:0.95rem;
  color:var(--jd-muted);
}

.jd-section-title{
  margin:0 0 12px;
  font-size:1.3rem;
}
.jd-section-subtitle{
  margin:10px 0 4px;
  font-size:1rem;
}

.jd-note{
  margin:10px 0 12px;
  font-size:0.85rem;
  color:var(--jd-muted);
}

/* Menu layout */

.jd-menu-grid{
  display:grid;
  grid-template-columns:minmax(0,1.15fr) minmax(0,1fr);
  gap:16px;
  align-items:flex-start;
}

.jd-menu-block{
  margin-bottom:10px;
}

.jd-hint{
  font-size:0.8rem;
  color:var(--jd-muted);
  margin:6px 0 0;
}

/* Field rows / inputs */

.jd-field-row{
  display:flex;
  flex-direction:column;
  gap:4px;
  margin-bottom:8px;
  font-size:0.9rem;
}
.jd-field-row label{
  color:var(--jd-muted);
}
.jd-field-row input,
#jd-mode,
#jd-diff,
#jd-duration{
  border-radius:10px;
  border:1px solid #1f2937;
  padding:6px 8px;
  font-size:0.9rem;
  background:#020617;
  color:var(--jd-text);
}
.jd-field-row input:focus,
#jd-mode:focus,
#jd-diff:focus,
#jd-duration:focus{
  outline:none;
  border-color:var(--jd-accent);
  box-shadow:0 0 0 1px rgba(56,189,248,0.55);
}

/* Research meta box */

.jd-research{
  background:rgba(15,23,42,0.92);
  border-radius:14px;
  border:1px dashed #1e293b;
  padding:10px 10px 12px;
  margin-top:4px;
}
.jd-research-hint{
  margin:4px 0 0;
  font-size:0.8rem;
  color:var(--jd-muted);
}

/* How-to */

.jd-howto-block{
  padding:10px 12px;
  border-radius:14px;
  border:1px solid #1f2937;
  background:rgba(15,23,42,0.9);
}
.jd-howto-list{
  margin:6px 0 4px 18px;
  padding:0;
  font-size:0.9rem;
}
.jd-howto-list li{
  margin-bottom:4px;
}
.jd-howto-inline{
  margin:8px 0 0;
  font-size:0.85rem;
  color:var(--jd-muted);
}

/* Buttons */

.jd-btn{
  border-radius:999px;
  border:1px solid transparent;
  padding:8px 16px;
  font-size:0.95rem;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:6px;
  background:#020617;
  color:var(--jd-text);
  transition:transform 0.08s ease-out, box-shadow 0.08s ease-out, filter 0.08s;
  text-decoration:none;
}
.jd-btn:hover{
  transform:translateY(-1px);
}

.jd-btn-primary{
  background:linear-gradient(90deg,#22c55e,#38bdf8);
  color:#020617;
  font-weight:600;
  box-shadow:0 14px 30px rgba(16,185,129,0.55);
}
.jd-btn-primary:hover{
  filter:brightness(1.05);
}

.jd-btn-sub{
  border-color:#1f2937;
  background:linear-gradient(90deg,#0f172a,#020617);
}
.jd-btn-sub:hover{
  filter:brightness(1.06);
}

.jd-btn-ghost{
  background:transparent;
  border-color:transparent;
  color:var(--jd-muted);
}
.jd-btn-ghost:hover{
  color:var(--jd-text);
}

.jd-btn-row{
  display:flex;
  flex-wrap:wrap;
  gap:8px;
  margin-top:10px;
}
.jd-btn-row-secondary{
  margin-top:6px;
}

/* Helpers */

.jd-hidden{
  display:none !important;
}

/* HUD */

.jd-hud{
  display:flex;
  justify-content:space-between;
  gap:10px;
  margin-bottom:10px;
}

.jd-hud-col{
  display:flex;
  flex-direction:column;
  gap:3px;
  min-width:0;
}
.jd-hud-center{
  align-items:center;
}
.jd-hud-right{
  align-items:flex-end;
}

.jd-hud-row{
  display:flex;
  align-items:center;
  gap:6px;
  font-size:0.85rem;
}

.jd-tag{
  font-size:0.75rem;
  text-transform:uppercase;
  letter-spacing:0.06em;
  color:var(--jd-muted);
}

.jd-hud-chip{
  padding:2px 8px;
  border-radius:999px;
  border:1px solid #1f2937;
  background:rgba(15,23,42,0.95);
  font-variant-numeric:tabular-nums;
}

/* Field (ฐานของพื้นที่เล่น) */

.jd-field{
  position:relative;
  border-radius:18px;
  border:1px solid #020617;
  overflow:hidden;
  min-height:260px;
  background:
    radial-gradient(circle at top,rgba(148,163,184,0.35),transparent 65%),
    #020617;
  box-shadow:0 16px 40px rgba(0,0,0,0.8);
}

/* พื้นที่เล่นหลักของ Jump-Duck */

.jd-play-area{
  position:relative;
}

/* track + ground */

.jd-track{
  position:absolute;
  inset:0;
  display:flex;
  align-items:flex-end;
}
.jd-ground{
  width:100%;
  height:36px;
  background:linear-gradient(to top,#020617,#0f172a);
  box-shadow:0 -6px 18px rgba(0,0,0,0.9);
}

/* Avatar */

.jd-avatar{
  position:absolute;
  left:14%;
  bottom:32px;
  transform:translateY(0);
  transition:transform 0.16s ease-out;
  z-index:3;
}
.jd-avatar-body{
  font-size:2.4rem;
  filter:drop-shadow(0 8px 12px rgba(0,0,0,0.9));
}

/* ท่าทาง Jump / Duck */

.jd-avatar.jump{
  transform:translateY(-40px);
}
.jd-avatar.duck{
  transform:translateY(16px) scaleY(0.88);
}

/* Obstacles */

.jd-obstacles{
  position:absolute;
  inset:0;
  z-index:2;
}

.jd-obstacle{
  position:absolute;
  left:100%;
  bottom:0;
  width:60px;
  height:60px;
  border-radius:14px;
  background:linear-gradient(135deg,#0f172a,#1f2937);
  border:1px solid rgba(15,23,42,0.95);
  box-shadow:0 10px 26px rgba(0,0,0,0.85);
  display:flex;
  align-items:center;
  justify-content:center;
  color:#e5e7eb;
  font-size:2rem;
  transform:translate3d(0,0,0);
}

.jd-obstacle--low{
  bottom:28px;
}
.jd-obstacle--high{
  bottom:80px;
}

/* ด้านในของสิ่งกีดขวาง: icon + label JUMP/DUCK */
.jd-obstacle-inner{
  display:flex;
  flex-direction:column;
  align-items:center;
  justify-content:center;
  gap:2px;
}

.jd-obs-icon{
  font-size:1.4rem;
}

.jd-obs-tag{
  font-size:0.7rem;
  text-transform:uppercase;
  letter-spacing:0.06em;
  color:var(--jd-muted);
}

/* สีเน้นต่างกันระหว่าง JUMP vs DUCK */
.jd-obstacle--low .jd-obs-tag{
  color:#22c55e;   /* เขียว = JUMP */
}
.jd-obstacle--high .jd-obs-tag{
  color:#38bdf8;   /* ฟ้า = DUCK */
}

/* เส้นชน */

.jd-hit-line{
  position:absolute;
  left:0;
  right:0;
  bottom:54px;
  height:2px;
  background:linear-gradient(90deg,transparent,#e5e7eb,transparent);
  opacity:0.4;
  box-shadow:0 0 12px rgba(148,163,184,0.9);
}

/* Judge text (GOOD / MISS / COMBO / Tips) */

.jd-judge{
  position:absolute;
  left:50%;
  top:16%;
  transform:translate(-50%, -8px);
  padding:4px 14px;
  border-radius:999px;
  background:rgba(15,23,42,0.92);
  border:1px solid rgba(31,41,55,0.9);
  font-size:0.95rem;
  font-weight:600;
  letter-spacing:0.04em;
  text-transform:uppercase;
  color:#e5e7eb;
  opacity:0;
  pointer-events:none;
  transition:opacity 0.18s ease-out, transform 0.18s ease-out;
}
.jd-judge.show{
  opacity:1;
  transform:translate(-50%, 0);
}
.jd-judge.ok{
  color:var(--jd-accent2);
}
.jd-judge.miss{
  color:var(--jd-danger);
}
.jd-judge.combo{
  color:var(--jd-gold);
}

/* Result */

.jd-result-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:10px 16px;
  font-size:0.9rem;
  margin-bottom:8px;
}
.jd-result-row{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:8px;
}
.jd-result-row span{
  color:var(--jd-muted);
}
.jd-result-row b{
  font-variant-numeric:tabular-nums;
}

/* Shake on hit/miss */

.jd-field.jd-hit{
  animation:jd-hit-pulse 0.25s ease-out;
}
.jd-field.jd-miss{
  animation:jd-miss-shake 0.35s ease-out;
}
.jd-play-area.shake{
  animation:jd-miss-shake 0.35s ease-out;
}

@keyframes jd-hit-pulse{
  0%{ box-shadow:0 16px 40px rgba(0,0,0,0.85); }
  40%{ box-shadow:0 20px 45px rgba(34,197,94,0.7); }
  100%{ box-shadow:0 16px 40px rgba(0,0,0,0.85); }
}
@keyframes jd-miss-shake{
  0%{ transform:translateX(0); }
  25%{ transform:translateX(-4px); }
  50%{ transform:translateX(4px); }
  75%{ transform:translateX(-3px); }
  100%{ transform:translateX(0); }
}

/* Responsive */

@media (max-width:720px){
  .jd-shell{
    padding:10px 8px 18px;
  }
  .jd-menu-grid{
    grid-template-columns:1fr;
  }
  .jd-field{
    min-height:240px;
  }
}
/* ===== Jump-Duck Engine HUD (progress + fever) ===== */

.jd-hud-bars{
  display:flex;
  flex-direction:column;
  gap:8px;
  margin:10px 0 12px;
}

.jd-bar{
  border:1px solid #1f2937;
  background:rgba(15,23,42,0.92);
  border-radius:999px;
  overflow:hidden;
  height:14px;
  position:relative;
  box-shadow:0 10px 24px rgba(0,0,0,0.55);
}

.jd-bar-fill{
  height:100%;
  transform-origin:left center;
  transform:scaleX(0);
  transition:transform 0.12s linear;
}

.jd-bar--progress .jd-bar-fill{
  background:linear-gradient(90deg,#38bdf8,#22c55e);
}

.jd-bar--fever .jd-bar-fill{
  background:linear-gradient(90deg,#f59e0b,#f97316,#fb7185);
}

.jd-bar-meta{
  display:flex;
  justify-content:space-between;
  gap:10px;
  font-size:0.82rem;
  color:var(--jd-muted);
  margin-top:2px;
}

.jd-fever-status{
  font-weight:700;
  letter-spacing:0.04em;
  text-transform:uppercase;
  color:var(--jd-muted);
}
.jd-fever-status.on{
  color:var(--jd-fever);
  text-shadow:0 0 14px rgba(249,115,22,0.45);
}

/* ===== Obstacles animation polish ===== */

.jd-obstacle{
  will-change: transform, opacity;
  transition: opacity 0.18s ease-out, filter 0.18s ease-out;
}

.jd-obstacle.hit{
  opacity:0;
  filter:brightness(1.3);
}

.jd-obstacle.miss{
  opacity:0.35;
  filter:saturate(0.3);
}

/* Optional: slightly different colors per type */
.jd-obstacle--low{
  border-color:rgba(34,197,94,0.35);
}
.jd-obstacle--high{
  border-color:rgba(56,189,248,0.35);
}
