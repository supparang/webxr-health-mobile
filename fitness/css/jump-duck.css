/* === css/jump-duck.css â€” Jump Duck Rush UI (Boss 3-Phase + AI) v20260207a === */

:root{
  color-scheme: dark;
  --jd-bg:#020617;
  --jd-border:#1e293b;
  --jd-text:#e5e7eb;
  --jd-muted:#9ca3af;
  --jd-accent:#38bdf8;
  --jd-accent2:#22c55e;
  --jd-danger:#fb7185;
  --jd-gold:#facc15;
  --jd-fever:#f97316;
  --jd-boss:#a78bfa;
}

*{ box-sizing:border-box; }
html,body{
  margin:0; padding:0; height:100%;
  font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",sans-serif;
  background:
    radial-gradient(circle at top left,rgba(56,189,248,0.18),transparent 55%),
    radial-gradient(circle at bottom right,rgba(34,197,94,0.16),transparent 55%),
    var(--jd-bg);
  color:var(--jd-text);
}

.jd-shell{ min-height:100vh; max-width:1100px; margin:0 auto; padding:18px 14px 26px; }
.jd-view{ margin-bottom:18px; }

.jd-card{
  background:
    radial-gradient(circle at top left,rgba(56,189,248,0.14),transparent 55%),
    radial-gradient(circle at bottom right,rgba(34,197,94,0.12),transparent 55%),
    rgba(15,23,42,0.98);
  border-radius:18px;
  border:1px solid var(--jd-border);
  padding:16px 16px 18px;
  box-shadow:0 24px 50px rgba(0,0,0,.7);
}

.jd-title{ margin:0 0 4px; font-size:1.6rem; }
.jd-subtitle{ margin:0 0 12px; font-size:.95rem; color:var(--jd-muted); }
.jd-section-title{ margin:0 0 12px; font-size:1.3rem; }
.jd-note{ margin:10px 0 12px; font-size:.85rem; color:var(--jd-muted); }

.jd-menu-grid{ display:grid; grid-template-columns:minmax(0,1.15fr) minmax(0,1fr); gap:16px; align-items:flex-start; }
.jd-hint{ font-size:.8rem; color:var(--jd-muted); margin:6px 0 0; }

.jd-field-row{ display:flex; flex-direction:column; gap:4px; margin-bottom:8px; font-size:.9rem; }
.jd-field-row label{ color:var(--jd-muted); }
.jd-field-row input, #jd-mode,#jd-diff,#jd-duration{
  border-radius:10px; border:1px solid #1f2937;
  padding:6px 8px; font-size:.9rem; background:#020617; color:var(--jd-text);
}
.jd-field-row input:focus, #jd-mode:focus,#jd-diff:focus,#jd-duration:focus{
  outline:none; border-color:var(--jd-accent); box-shadow:0 0 0 1px rgba(56,189,248,.55);
}

.jd-research{
  background:rgba(15,23,42,.92);
  border-radius:14px;
  border:1px dashed #1e293b;
  padding:10px 10px 12px;
  margin-top:4px;
}
.jd-research-hint{ margin:4px 0 0; font-size:.8rem; color:var(--jd-muted); }

.jd-howto-block{
  padding:10px 12px;
  border-radius:14px;
  border:1px solid #1f2937;
  background:rgba(15,23,42,.9);
}
.jd-howto-list{ margin:6px 0 4px 18px; padding:0; font-size:.9rem; }
.jd-howto-inline{ margin:8px 0 0; font-size:.85rem; color:var(--jd-muted); }

.jd-btn{
  border-radius:999px; border:1px solid transparent;
  padding:8px 16px; font-size:.95rem; cursor:pointer;
  display:inline-flex; align-items:center; justify-content:center; gap:6px;
  background:#020617; color:var(--jd-text);
  transition:transform .08s ease-out, filter .08s;
  text-decoration:none;
}
.jd-btn:hover{ transform:translateY(-1px); }
.jd-btn-primary{
  background:linear-gradient(90deg,#22c55e,#38bdf8);
  color:#020617; font-weight:600; box-shadow:0 14px 30px rgba(16,185,129,.55);
}
.jd-btn-sub{ border-color:#1f2937; background:linear-gradient(90deg,#0f172a,#020617); }

.jd-btn-row{ display:flex; flex-wrap:wrap; gap:8px; margin-top:10px; }
.jd-btn-row-secondary{ margin-top:6px; }

.jd-hidden{ display:none !important; }

/* FATAL */
.jd-fatal{
  white-space:pre-wrap;
  background:rgba(2,6,23,.92);
  border:1px solid rgba(251,113,133,.55);
  color:#fecdd3;
  padding:12px;
  border-radius:14px;
  margin:0 0 12px;
  box-shadow:0 16px 40px rgba(0,0,0,.6);
}

/* Bossbar */
.jd-bossbar{
  display:flex;
  gap:10px;
  justify-content:space-between;
  align-items:center;
  margin:4px 0 10px;
}
.jd-phase,.jd-boss{
  flex:1;
  display:flex;
  gap:8px;
  align-items:center;
  min-width:0;
}
.jd-phase-label,.jd-boss-label{
  font-size:.75rem;
  text-transform:uppercase;
  letter-spacing:.08em;
  color:var(--jd-muted);
  white-space:nowrap;
}
.jd-phase-track,.jd-boss-track{
  position:relative;
  height:10px;
  border-radius:999px;
  background:rgba(2,6,23,.65);
  border:1px solid rgba(148,163,184,.18);
  overflow:hidden;
  flex:1;
}
.jd-phase-fill{
  height:100%;
  width:100%;
  transform-origin:left;
  transform:scaleX(0);
  background:linear-gradient(90deg,rgba(56,189,248,.9),rgba(34,197,94,.85));
}
.jd-boss-fill{
  height:100%;
  width:100%;
  transform-origin:left;
  transform:scaleX(0);
  background:linear-gradient(90deg,rgba(167,139,250,.95),rgba(250,204,21,.85));
}
.jd-phase-text,.jd-boss-text{
  font-variant-numeric:tabular-nums;
  font-size:.85rem;
  color:var(--jd-text);
  white-space:nowrap;
}

/* HUD */
.jd-hud{ display:flex; justify-content:space-between; gap:10px; margin-bottom:10px; }
.jd-hud-col{ display:flex; flex-direction:column; gap:3px; min-width:0; }
.jd-hud-center{ align-items:center; }
.jd-hud-right{ align-items:flex-end; }
.jd-hud-row{ display:flex; align-items:center; gap:6px; font-size:.85rem; }
.jd-tag{ font-size:.75rem; text-transform:uppercase; letter-spacing:.06em; color:var(--jd-muted); }
.jd-hud-chip{
  padding:2px 8px;
  border-radius:999px;
  border:1px solid #1f2937;
  background:rgba(15,23,42,.95);
  font-variant-numeric:tabular-nums;
}

/* Field */
.jd-field{
  position:relative;
  border-radius:18px;
  border:1px solid #020617;
  overflow:hidden;
  min-height:260px;
  background: radial-gradient(circle at top,rgba(148,163,184,.35),transparent 65%), #020617;
  box-shadow:0 16px 40px rgba(0,0,0,.8);
}
.jd-play-area{ position:relative; }

.jd-track{ position:absolute; inset:0; display:flex; align-items:flex-end; }
.jd-ground{
  width:100%; height:36px;
  background:linear-gradient(to top,#020617,#0f172a);
  box-shadow:0 -6px 18px rgba(0,0,0,.9);
}

/* Avatar */
.jd-avatar{ position:absolute; left:14%; bottom:32px; transition:transform .16s ease-out; z-index:3; }
.jd-avatar-body{ font-size:2.4rem; filter:drop-shadow(0 8px 12px rgba(0,0,0,.9)); }
.jd-avatar.jump{ transform:translateY(-40px); }
.jd-avatar.duck{ transform:translateY(16px) scaleY(.88); }

/* Obstacles */
.jd-obstacles{ position:absolute; inset:0; z-index:2; }

.jd-obstacle{
  position:absolute;
  left:100%;
  width:60px; height:60px;
  border-radius:14px;
  background:linear-gradient(135deg,#0f172a,#1f2937);
  border:1px solid rgba(15,23,42,.95);
  box-shadow:0 10px 26px rgba(0,0,0,.85);
  display:flex; align-items:center; justify-content:center;
  color:#e5e7eb;
  transform:translate3d(0,0,0);
}
.jd-obstacle--low{ bottom:28px; }
.jd-obstacle--high{ bottom:80px; }

.jd-obstacle-inner{ display:flex; flex-direction:column; align-items:center; justify-content:center; gap:2px; }
.jd-obs-icon{ font-size:1.35rem; }
.jd-obs-tag{ font-size:.7rem; text-transform:uppercase; letter-spacing:.06em; color:var(--jd-muted); }
.jd-obstacle--low .jd-obs-tag{ color:#22c55e; }
.jd-obstacle--high .jd-obs-tag{ color:#38bdf8; }

/* Boss obstacle variants */
.jd-obstacle.boss{
  width:76px; height:76px;
  border-radius:18px;
  background:linear-gradient(135deg,rgba(167,139,250,.35),rgba(15,23,42,.95));
  border:1px solid rgba(167,139,250,.45);
  box-shadow:0 16px 34px rgba(167,139,250,.22), 0 10px 26px rgba(0,0,0,.85);
}
.jd-obstacle.gold{
  background:linear-gradient(135deg,rgba(250,204,21,.32),rgba(15,23,42,.95));
  border:1px solid rgba(250,204,21,.38);
}
.jd-obstacle.fake{
  opacity:.72;
  filter:saturate(.75);
}

/* Hit line */
.jd-hit-line{
  position:absolute; left:0; right:0; bottom:54px;
  height:2px;
  background:linear-gradient(90deg,transparent,#e5e7eb,transparent);
  opacity:.4;
  box-shadow:0 0 12px rgba(148,163,184,.9);
}

/* Judge */
.jd-judge{
  position:absolute;
  left:50%; top:16%;
  transform:translate(-50%,-8px);
  padding:4px 14px;
  border-radius:999px;
  background:rgba(15,23,42,.92);
  border:1px solid rgba(31,41,55,.9);
  font-size:.95rem; font-weight:700;
  letter-spacing:.04em; text-transform:uppercase;
  color:#e5e7eb;
  opacity:0; pointer-events:none;
  transition:opacity .18s ease-out, transform .18s ease-out;
  z-index:5;
}
.jd-judge.show{ opacity:1; transform:translate(-50%,0); }
.jd-judge.ok{ color:var(--jd-accent2); }
.jd-judge.miss{ color:var(--jd-danger); }
.jd-judge.combo{ color:var(--jd-gold); }

/* Telegraph */
.jd-telegraph{
  position:absolute;
  left:50%;
  top:6%;
  transform:translateX(-50%);
  z-index:6;
}
.jd-telegraph-card{
  display:flex;
  align-items:center;
  gap:10px;
  padding:8px 12px;
  border-radius:999px;
  background:rgba(2,6,23,.78);
  border:1px solid rgba(148,163,184,.22);
  box-shadow:0 12px 28px rgba(0,0,0,.55);
}
.jd-telegraph-title{
  font-size:.7rem;
  color:var(--jd-muted);
  letter-spacing:.08em;
  text-transform:uppercase;
}
.jd-telegraph-action{
  font-size:1.05rem;
  color:var(--jd-gold);
}
.jd-telegraph-tip{
  font-size:.85rem;
  color:var(--jd-muted);
}
.jd-telegraph.show{ animation:jd-pop .22s ease-out; }
@keyframes jd-pop{ from{ transform:translateX(-50%) scale(.96); opacity:.6;} to{ transform:translateX(-50%) scale(1); opacity:1;} }

/* Action Pad */
.jd-actionpad{
  display:flex;
  gap:10px;
  justify-content:space-between;
  margin:10px 0 0;
}
.jd-act{
  flex:1;
  border-radius:16px;
  border:1px solid rgba(148,163,184,.18);
  background:rgba(2,6,23,.65);
  color:var(--jd-text);
  padding:14px 10px;
  font-weight:800;
  letter-spacing:.04em;
  cursor:pointer;
  box-shadow:0 14px 30px rgba(0,0,0,.45);
  transition:transform .08s ease-out, filter .08s ease-out;
}
.jd-act:active{ transform:scale(.99); filter:brightness(1.04); }
.jd-act-jump{ outline:1px solid rgba(34,197,94,.22); }
.jd-act-duck{ outline:1px solid rgba(56,189,248,.22); }

/* Shake */
.jd-field.jd-hit{ animation:jd-hit-pulse .25s ease-out; }
.jd-field.jd-miss{ animation:jd-miss-shake .35s ease-out; }
.jd-play-area.shake{ animation:jd-miss-shake .35s ease-out; }

@keyframes jd-hit-pulse{
  0%{ box-shadow:0 16px 40px rgba(0,0,0,.85); }
  40%{ box-shadow:0 20px 45px rgba(34,197,94,.7); }
  100%{ box-shadow:0 16px 40px rgba(0,0,0,.85); }
}
@keyframes jd-miss-shake{
  0%{ transform:translateX(0); }
  25%{ transform:translateX(-4px); }
  50%{ transform:translateX(4px); }
  75%{ transform:translateX(-3px); }
  100%{ transform:translateX(0); }
}

/* Responsive */
@media (max-width:720px){
  .jd-shell{ padding:10px 8px 18px; }
  .jd-menu-grid{ grid-template-columns:1fr; }
  .jd-field{ min-height:240px; }
}