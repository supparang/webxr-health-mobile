/* === css/shadow-breaker.css ‚Äî Shadow Breaker DOM style (2025-11-22b) === */

html, body{
  margin:0;
  padding:0;
  height:100%;
}

/* ‡∏Å‡∏•‡πà‡∏≠‡∏á‡πÄ‡∏•‡πà‡∏ô‡∏´‡∏•‡∏±‡∏Å‡πÉ‡∏ô card ‡πÉ‡∏´‡πâ‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡πÄ‡∏ï‡πá‡∏°‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠ */
.sb-wrap{
  position:relative;
  width:100%;
  height:calc(100vh - 210px);   /* ‡∏™‡∏π‡∏á‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤ */
  min-height:460px;
  max-height:820px;
  border-radius:24px;
  background:
    radial-gradient(circle at top left,rgba(56,189,248,0.22),transparent 60%),
    radial-gradient(circle at bottom right,rgba(34,197,94,0.18),transparent 65%),
    #020617;
  overflow:hidden;
  box-shadow:inset 0 0 0 1px rgba(15,23,42,0.9);
  padding:16px 16px 18px;
  box-sizing:border-box;
}

@media (min-width:768px){
  .sb-wrap{
    height:calc(100vh - 240px);
    padding:18px 22px 20px;
  }
}

/* ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á‡∏ï‡∏≤‡∏°‡∏ö‡∏≠‡∏™ */
.sb-wrap[data-boss="0"]{
  background-image:
    radial-gradient(circle at top left,rgba(59,130,246,0.45),transparent 60%),
    radial-gradient(circle at bottom right,rgba(15,23,42,1),#020617 75%);
}
.sb-wrap[data-boss="1"]{
  background-image:
    radial-gradient(circle at top right,rgba(16,185,129,0.45),transparent 60%),
    radial-gradient(circle at bottom left,rgba(15,23,42,1),#020617 75%);
}
.sb-wrap[data-boss="2"]{
  background-image:
    radial-gradient(circle at top,rgba(249,115,22,0.52),transparent 65%),
    radial-gradient(circle at bottom,#0f172a,#020617 80%);
}
.sb-wrap[data-boss="3"]{
  background-image:
    radial-gradient(circle at center,rgba(192,38,211,0.52),transparent 70%),
    radial-gradient(circle at bottom,#020617,#020617 80%);
}

/* ================= HUD ================= */

.sb-hud{
  position:relative;
  display:grid;
  grid-template-columns:1.1fr 1.1fr;
  gap:16px;
  align-items:center;
  z-index:30;
  color:#e5e7eb;
  font-size:14px;
}

.sb-hp{
  display:flex;
  flex-direction:column;
  gap:4px;
}

.sb-hp-label{
  display:flex;
  align-items:center;
  justify-content:space-between;
}

.sb-hp-name{
  font-weight:600;
}

.sb-hp-val{
  font-variant-numeric:tabular-nums;
  opacity:.9;
}

.sb-hp-bar{
  position:relative;
  width:100%;
  height:11px;
  border-radius:999px;
  background:rgba(15,23,42,.9);
  overflow:hidden;
  outline:1px solid rgba(148,163,184,.5);
}

.sb-hp-fill{
  position:absolute;
  inset:0;
  transform-origin:left center;
  transform:scaleX(1);
  transition:transform .16s ease-out,background-color .18s ease-out;
}

.sb-hp-player .sb-hp-fill{
  background:linear-gradient(90deg,#22c55e,#16a34a);
}
.sb-hp-boss .sb-hp-fill{
  background:linear-gradient(90deg,#fb923c,#ef4444);
}

/* boss portrait + text */

.sb-boss-portrait{
  position:absolute;
  right:14px;
  top:60px;
  width:66px;
  height:66px;
  border-radius:20px;
  background:rgba(15,23,42,.96);
  border:1px solid rgba(248,250,252,.18);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:38px;
  z-index:32;
}

.sb-boss-portrait.sb-shake{
  animation:sbShake .45s linear infinite;
}

.boss-portrait-text{
  position:absolute;
  right:94px;
  top:64px;
  text-align:right;
  z-index:31;
  color:#e5e7eb;
  text-shadow:0 1px 2px rgba(15,23,42,.9);
}

#boss-portrait-name{
  font-size:14px;
  font-weight:600;
}
#boss-portrait-hint{
  font-size:12px;
  opacity:.9;
}

@keyframes sbShake{
  0%,100%{transform:translate(0,0);}
  20%{transform:translate(-2px,0);}
  40%{transform:translate(2px,0);}
  60%{transform:translate(0,-2px);}
  80%{transform:translate(0,2px);}
}

/* FEVER */

.fever-wrap{
  position:absolute;
  left:16px;
  top:92px;
  right:120px;
  display:flex;
  align-items:center;
  gap:8px;
  z-index:31;
}

.fever-label{
  font-size:13px;
  font-weight:600;
  letter-spacing:.06em;
}

.fever-bar{
  flex:1;
  height:9px;
  border-radius:999px;
  background:rgba(15,23,42,.92);
  overflow:hidden;
  outline:1px solid rgba(148,163,184,.5);
}

.fever-fill{
  width:100%;
  height:100%;
  transform-origin:left center;
  transform:scaleX(0);
  background-image:linear-gradient(90deg,#22c55e,#eab308,#f97316);
  transition:transform .16s ease-out,filter .16s;
}

.fever-status{
  font-size:11px;
  font-weight:600;
  padding:2px 7px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,.7);
  text-transform:uppercase;
  letter-spacing:.12em;
}
.fever-status.on{
  border-color:#fbbf24;
  color:#facc15;
}

/* ================= stat card ================ */

.sb-meta{
  position:absolute;
  left:16px;
  top:135px;          /* ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏•‡∏á ‡πÑ‡∏°‡πà‡∏ó‡∏±‡∏ö HP/FEVER */
  z-index:29;
  font-size:13px;
  background:rgba(15,23,42,.94);
  padding:8px 12px;
  border-radius:14px;
  border:1px solid rgba(148,163,184,.55);
  backdrop-filter:blur(12px);
  min-width:150px;
  color:#e5e7eb;
}

.sb-meta-row{
  display:flex;
  justify-content:space-between;
  gap:6px;
}
.sb-meta-row span:last-child{
  font-variant-numeric:tabular-nums;
}

/* ================= ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏õ‡πâ‡∏≤ ================= */

.sb-field{
  position:absolute;
  left:16px;
  right:16px;
  top:170px;   /* ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πà‡∏≥‡∏•‡∏á ‡πÉ‡∏´‡πâ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏Ç‡∏∂‡πâ‡∏ô */
  bottom:74px;
  overflow:hidden;
  z-index:40;  /* ‡∏™‡∏π‡∏á‡∏Å‡∏ß‡πà‡∏≤ HUD stat card */
  touch-action:manipulation;
}

/* ‡πÄ‡∏õ‡πâ‡∏≤ */

.sb-target{
  position:absolute;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  cursor:pointer;
  user-select:none;
  -webkit-user-select:none;
  touch-action:manipulation;
  box-shadow:0 10px 26px rgba(15,23,42,.9);
  transform:translate(-50%,-50%) scale(.6);
  animation:sbTargetIn .16s ease-out forwards;
  z-index:41;
}

.sb-target-inner{
  width:100%;
  height:100%;
  border-radius:inherit;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:2.3rem;
}

.sb-target[data-type="good"] .sb-target-inner{
  background:radial-gradient(circle at 30% 20%,#fefce8,#bbf7d0);
  border:3px solid rgba(22,163,74,.9);
}
.sb-target[data-type="bad"] .sb-target-inner{
  background:radial-gradient(circle at 30% 20%,#fee2e2,#fecaca);
  border:3px solid rgba(220,38,38,.9);
}

/* hit / miss effect */
.sb-target.sb-hit{
  animation:sbTargetHit .22s ease-out forwards;
}
.sb-target.sb-miss{
  animation:sbTargetMiss .18s ease-in forwards;
}

@keyframes sbTargetIn{
  from{transform:translate(-50%,-50%) scale(.4);opacity:0;}
  to{transform:translate(-50%,-50%) scale(1);opacity:1;}
}
@keyframes sbTargetHit{
  0%{transform:translate(-50%,-50%) scale(1);opacity:1;}
  60%{transform:translate(-50%,-50%) scale(1.25);opacity:1;filter:brightness(1.1);}
  100%{transform:translate(-50%,-50%) scale(.3);opacity:0;}
}
@keyframes sbTargetMiss{
  from{transform:translate(-50%,-50%) scale(1);opacity:1;}
  to{transform:translate(-50%,-50%) scale(.7);opacity:0;filter:grayscale(.7);}
}

/* score popup ‡πÉ‡∏´‡πâ‡∏•‡∏≠‡∏¢‡∏ö‡∏ô‡∏™‡∏∏‡∏î */
.sb-fx-score{
  position:absolute;
  pointer-events:none;
  font-weight:700;
  font-size:18px;
  text-shadow:0 1px 2px rgba(15,23,42,.9);
  z-index:120;
  animation:sbScoreFloat .55s ease-out forwards;
}
.sb-fx-score.sb-good{color:#bbf7d0;}
.sb-fx-score.sb-perfect{color:#facc15;}
.sb-fx-score.sb-miss,
.sb-fx-score.sb-bad{color:#fecaca;}

@keyframes sbScoreFloat{
  from{transform:translate(-50%,-50%);opacity:1;}
  to{transform:translate(-50%,-90%);opacity:0;}
}

/* particle üí• */
.hitParticle{
  position:absolute;
  pointer-events:none;
  font-size:20px;
  filter:drop-shadow(0 2px 4px rgba(15,23,42,.9));
  animation:sbParticle .48s ease-out forwards;
  z-index:110;
}
@keyframes sbParticle{
  from{transform:translate(-50%,-50%) scale(.8);opacity:1;}
  to{transform:translate(-50%,-120%) scale(1.1);opacity:0;}
}

/* ‡∏õ‡∏∏‡πà‡∏°‡∏•‡πà‡∏≤‡∏á */
.sb-controls{
  position:absolute;
  left:16px;
  right:16px;
  bottom:16px;
  display:flex;
  justify-content:flex-end;
  gap:8px;
  z-index:30;
}
.sb-controls button{
  border-radius:999px;
  border:1px solid rgba(148,163,184,.7);
  background:rgba(15,23,42,.92);
  color:#e5e7eb;
  padding:6px 14px;
  font-size:13px;
  cursor:pointer;
}
.sb-controls button:active{
  transform:translateY(1px);
}

/* boss intro overlay */
.boss-intro{
  position:fixed;
  inset:0;
  background:radial-gradient(circle at top,rgba(15,23,42,.88),rgba(15,23,42,.98));
  display:flex;
  align-items:center;
  justify-content:center;
  z-index:200;
}
.boss-intro.hidden{display:none;}

.boss-intro-card{
  background:rgba(15,23,42,.98);
  border-radius:20px;
  padding:20px 22px;
  max-width:320px;
  text-align:center;
  color:#e5e7eb;
  box-shadow:0 18px 45px rgba(15,23,42,.95);
  border:1px solid rgba(148,163,184,.7);
}
.boss-intro-emoji{
  font-size:54px;
  margin-bottom:4px;
}
.boss-intro-name{
  font-size:18px;
  font-weight:700;
}
.boss-intro-title{
  font-size:14px;
  margin-top:4px;
  color:#eab308;
}
.boss-intro-desc{
  font-size:13px;
  margin-top:8px;
  opacity:.92;
}
.boss-intro-hint{
  margin-top:10px;
  font-size:12px;
  opacity:.9;
  color:#93c5fd;
}

/* ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏Å‡∏°‡∏à‡∏ö */
.sb-wrap.sb-finished .sb-field{
  filter:grayscale(.4) brightness(.75);
  pointer-events:none;
}