:root{
  color-scheme: dark;
}

*{box-sizing:border-box;}

body{
  margin:0;
  min-height:100vh;
  font-family:system-ui,Segoe UI,Inter,Roboto,sans-serif;
  background:
    radial-gradient(circle at top left, rgba(56,189,248,0.18), transparent 55%),
    radial-gradient(circle at bottom right, rgba(244,114,182,0.2), transparent 55%),
    #020617;
  color:#e5e7eb;
}

main{
  max-width:1100px;
  margin:24px auto 32px;
  padding:0 16px 32px;
}

.card{
  background:rgba(15,23,42,0.9);
  border-radius:18px;
  padding:20px 20px 18px;
  box-shadow:0 18px 40px rgba(15,23,42,0.85);
}

.hidden{display:none;}

.top-row{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  margin-bottom:16px;
}

h1{
  margin:0 0 4px;
  font-size:26px;
  display:flex;
  align-items:center;
  gap:8px;
}
.icon{font-size:30px;}

.subtitle{
  font-size:14px;
  opacity:.9;
}

.pill{
  margin-top:8px;
  display:inline-flex;
  align-items:center;
  gap:8px;
  padding:6px 10px;
  border-radius:999px;
  background:rgba(15,23,42,0.9);
  border:1px solid #1e293b;
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:.06em;
  color:#9ca3af;
}
.pill .dot{
  width:7px;height:7px;border-radius:50%;
  background:radial-gradient(circle,#a855f7,#22d3ee);
}

.section-title{
  font-size:18px;
  margin:8px 0 10px;
}

.btn-row{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}

button{
  cursor:pointer;
  border-radius:999px;
  border:1px solid #4b5563;
  background:#020617;
  color:#e5e7eb;
  padding:7px 14px;
  font-size:14px;
}
button.primary{
  background:linear-gradient(90deg,#4f46e5,#ec4899);
  border:none;
}
button.primary:hover{
  filter:brightness(1.1);
}
.btn-small{
  display:inline-flex;
  align-items:center;
  padding:5px 10px;
  border-radius:999px;
  border:1px solid #4b5563;
  font-size:12px;
  text-decoration:none;
  color:#e5e7eb;
}
.btn-small:hover{
  background:#020617;
}

.row{
  display:flex;
  flex-wrap:wrap;
  gap:12px;
  margin-top:14px;
}
.col{
  flex:1 1 220px;
}
label{
  font-size:13px;
  display:block;
  margin-bottom:4px;
}
select,input{
  width:100%;
  border-radius:10px;
  border:1px solid #4b5563;
  background:#020617;
  color:#e5e7eb;
  padding:6px 10px;
  font-size:14px;
}

/* PLAY VIEW */
.play-top{
  display:flex;
  justify-content:space-between;
  align-items:flex-start;
  gap:8px;
  margin-bottom:10px;
}
.stats{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}
.tag{
  padding:4px 10px;
  border-radius:999px;
  border:1px solid #1f2937;
  background:#020617;
  font-size:12px;
}
.tag.big{
  font-size:14px;
  font-weight:600;
}
.timer{
  padding:8px 14px;
  border-radius:16px;
  border:1px solid #facc15;
  color:#facc15;
  font-weight:600;
  min-width:88px;
  text-align:center;
}

/* Lane + notes */
.rb-play-wrap{
  margin-top:10px;
  border-radius:18px;
  padding:10px;
  background:radial-gradient(circle at top,#0f172a,#020617);
  border:1px solid #111827;
}

.rb-play-lane{
  position:relative;
  height:260px;
  border-radius:18px;
  background:radial-gradient(circle at top,#020617,#020617);
  overflow:hidden;
  border:1px solid #111827;
  box-shadow:inset 0 0 0 1px rgba(148,163,184,0.08);
}

.rb-note-layer{
  position:absolute;
  inset:0;
}

.rb-hit-line{
  position:absolute;
  left:8%;
  right:8%;
  bottom:52px;
  height:4px;
  border-radius:999px;
  background:linear-gradient(90deg,#e5e7eb,#fbbf24,#f97316);
  box-shadow:0 0 18px rgba(251,191,36,0.9);
  opacity:.95;
}

/* note */
.rb-note{
  position:absolute;
  left:50%;
  transform:translate(-50%,-50%);
  width:46px;
  height:46px;
  border-radius:50%;
  background:radial-gradient(circle at 30% 20%,#fef3c7,#fbbf24,#ea580c);
  box-shadow:0 10px 22px rgba(0,0,0,0.55);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:20px;
  color:#0f172a;
}

/* grade pop */
.rb-pop{
  position:absolute;
  left:50%;
  transform:translateX(-50%);
  font-weight:700;
  font-size:16px;
  color:#e5e7eb;
  text-shadow:0 0 10px rgba(15,23,42,.9);
  pointer-events:none;
  animation:rb-pop-up .45s ease-out forwards;
}
.rb-pop.perfect{color:#22c55e;}
.rb-pop.good{color:#38bdf8;}
.rb-pop.bad{color:#f97316;}
.rb-pop.miss{color:#f97373;}

@keyframes rb-pop-up{
  0%{opacity:0; transform:translate(-50%,6px) scale(.9);}
  25%{opacity:1;}
  100%{opacity:0; transform:translate(-50%,-18px) scale(1.05);}
}

/* coach */
.coach-bubble{
  margin-top:12px;
  padding:10px 12px;
  border-radius:14px;
  border:1px dashed #4b5563;
  background:rgba(15,23,42,0.86);
  display:flex;
  align-items:flex-start;
  gap:10px;
  font-size:13px;
}
.coach-avatar{
  width:30px;
  height:30px;
  border-radius:999px;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:18px;
  background:radial-gradient(circle at 20% 20%,#f97316,#4f46e5);
}
.coach-role{
  font-size:11px;
  text-transform:uppercase;
  letter-spacing:.08em;
  color:#9ca3af;
}
.coach-text{margin-top:1px;}

/* banner */
.banner{
  margin-top:10px;
  padding:8px 10px;
  border-radius:12px;
  background:rgba(15,23,42,0.92);
  border:1px dashed #1f2937;
  font-size:13px;
}

/* result */
.summary table{
  width:100%;
  border-collapse:collapse;
  font-size:13px;
  margin-top:8px;
}
.summary td{
  padding:4px 6px;
}
.summary td.label{
  width:40%;
  color:#9ca3af;
}

/* mobile */
@media (max-width:720px){
  main{margin-top:14px;}
  .rb-play-lane{height:220px;}
  .rb-note{width:40px;height:40px;}
}
