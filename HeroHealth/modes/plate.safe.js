// === plate.safe.js â€” Healthy Plate (à¹€à¸¥à¸·à¸­à¸à¸‚à¸­à¸‡à¸”à¸µà¸•à¸²à¸¡à¸ˆà¸²à¸™à¸ªà¸¸à¸‚à¸ à¸²à¸ž) ===
import { boot as baseBoot } from '../vr/mode-factory.js';

// à¸ˆà¸³à¸¥à¸­à¸‡à¸«à¸¡à¸§à¸”à¸ˆà¸²à¸™à¸ªà¸¸à¸‚à¸ à¸²à¸ž: à¸œà¸±à¸à¸œà¸¥à¹„à¸¡à¹‰ 1/2, à¸˜à¸±à¸à¸žà¸·à¸Š/à¹‚à¸›à¸£à¸•à¸µà¸™à¸”à¸µ 1/2
const FRUITVEG = ['ðŸ¥¦','ðŸ¥•','ðŸŒ½','ðŸ…','ðŸ¥¬','ðŸ†','ðŸ«‘','ðŸŽ','ðŸ','ðŸ‡','ðŸ“','ðŸ','ðŸ‰','ðŸ','ðŸŠ','ðŸ«','ðŸ¥','ðŸ‹','ðŸ¥‘','ðŸ’'];
const PRO_GRAIN= ['ðŸŸ','ðŸ—','ðŸ¥š','ðŸ¥œ','ðŸ«˜','ðŸ¥©','ðŸž','ðŸ¥–','ðŸš','ðŸ™','ðŸ˜','ðŸ','ðŸŒ®','ðŸŒ¯','ðŸ§€','ðŸ¥¨','ðŸ¥¯','ðŸ§†','ðŸ›','ðŸ£'];
const JUNK     = ['ðŸ”','ðŸŸ','ðŸ•','ðŸŒ­','ðŸ©','ðŸª','ðŸ§','ðŸ°','ðŸ«','ðŸ¬','ðŸ­','ðŸ¥¤','ðŸ§‹','ðŸ¹','ðŸ¨','ðŸ§','ðŸ¿','ðŸ¥“','ðŸ¥ ','ðŸ¥®'];

const GOOD = [...FRUITVEG.slice(0,10), ...PRO_GRAIN.slice(0,10)]; // à¸£à¸§à¸¡ 20 à¸Šà¸´à¹‰à¸™à¸—à¸µà¹ˆ "à¸”à¸µ"

export async function boot(cfg={}) {
  return baseBoot({
    ...cfg,
    name: 'plate',
    pools: { good: GOOD, bad: JUNK },
    goldenRate: 0.06,
    goodRate:   0.72,
    judge: (ch) => {
      if(!ch) return { good:false, scoreDelta:-5 };
      const healthy = GOOD.includes(ch);
      // à¸‚à¸­à¸‡à¸”à¸µ = +10, à¸‚à¸¢à¸° = -5
      return { good: healthy, scoreDelta: healthy?10:-5, feverDelta: healthy?5:0 };
    }
  });
}
