<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>Hero Health Academy</title>

  <!-- Force-hide any result modals on first paint -->
  <style>
    #result,
    #resultModal,
    [data-modal="result"],
    .modal.result,
    .resultModal { display:none !important; }
  </style>

  <!-- styles (ของเดิม) -->
  <link rel="stylesheet" href="styles/base.css">
  <link rel="stylesheet" href="styles/game.css">
  <link rel="stylesheet" href="styles/groups.css">
</head>
<body>

  <!-- HUD/เมนู/ปุ่ม Start ของเดิม -->
  <header id="menuBar" class="menu">
    <button id="btn_start">Start</button>
    <button id="btn_help">Help</button>
  </header>

  <!-- Toast / Target / HUD container ของเดิม -->
  <div id="targetWrap" hidden></div>
  <div id="hudWrap" class="hud"></div>
  <div id="spawnHost"></div>
  <div id="gameLayer"></div>

  <!-- Result (ตัวเดียวที่ใช้จริง) -->
  <div id="result" class="modal" role="dialog" aria-labelledby="h_result" aria-modal="true" style="display:none">
    <div class="modal-card">
      <div class="modal-head">
        <h2 id="h_result">ผลการเล่น / Results</h2>
        <button type="button" aria-label="Close" data-result="home">✕</button>
      </div>
      <div class="modal-body">
        <div class="grid">
          <div><b>Score</b> <span data-field="score">0</span></div>
          <div><b>Stars</b> <span data-field="stars">0</span></div>
          <div><b>Grade</b> <span data-field="grade">—</span></div>
          <div><b>Best Combo</b> <span data-field="combo">0</span></div>
          <div><b>Mode</b> <span data-field="mode">—</span></div>
        </div>
      </div>
      <div class="modal-foot">
        <button data-result="replay">เล่นอีกครั้ง</button>
        <button data-result="home">เมนู</button>
      </div>
    </div>
  </div>

  <!-- Help modal ของเดิม -->
  <div id="help" class="modal" style="display:none">
    <div class="modal-card">
      <h2 id="h_help">วิธีเล่น</h2>
      <pre id="helpBody"></pre>
      <div class="modal-foot">
        <button id="btn_ok">OK</button>
      </div>
    </div>
  </div>

  <!-- SFX (ถ้ามี) -->
  <audio id="sfx-good" preload="auto" src="assets/sfx/good.mp3"></audio>
  <audio id="sfx-bad" preload="auto" src="assets/sfx/bad.mp3"></audio>
  <audio id="sfx-perfect" preload="auto" src="assets/sfx/perfect.mp3"></audio>
  <audio id="sfx-tick" preload="auto" src="assets/sfx/tick.mp3"></audio>
  <audio id="sfx-powerup" preload="auto" src="assets/sfx/power.mp3"></audio>
  <audio id="bgm-main" preload="auto" loop src="assets/bgm/loop.mp3"></audio>

  <!-- Boot & scripts -->
  <script type="module" src="game/boot.js"></script>
  <script type="module" src="game/ui.js"></script>
</body>
</html>
