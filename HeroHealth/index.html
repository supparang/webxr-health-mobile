<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Hero Health Academy</title>

  <!-- р╣Гр╕лр╣Йр╕Юр╕▓р╕Шр╕Чр╕╕р╕Бр╕нр╕вр╣Ир╕▓р╕Зр╕нр╕┤р╕Зр╕Ир╕▓р╕Бр╣Вр╕Яр╕ер╣Ар╕Фр╕нр╕гр╣М HeroHealth -->
  <base href="/webxr-health-mobile/HeroHealth/">
  <link rel="stylesheet" href="styles/game.css">
</head>
<body>
<header class="brand">
  <div id="brandTitle">HERO HEALTH ACADEMY</div>
  <div class="spacer"></div>
  <button id="langToggle" class="btn">ЁЯЗ╣ЁЯЗн TH/EN</button>
  <button id="gfxToggle" class="btn">ЁЯОЫя╕П р╕Бр╕гр╕▓р╕Яр╕┤р╕Б: р╕Ыр╕Бр╕Хр╕┤</button>
  <button id="soundToggle" class="btn">ЁЯФК</button>
</header>

<canvas id="c"></canvas>

<section class="hud">
  <div><span id="t_score">р╕Др╕░р╣Бр╕Щр╕Щ</span>: <b id="score">0</b> | 
  <span id="t_combo">р╕Др╕нр╕бр╣Вр╕Ъ</span>: <b id="combo">x0</b> | 
  <span id="t_time">р╣Ар╕зр╕ер╕▓</span>: <b id="time">60</b>s</div>

  <div id="targetWrap" style="display:none">ЁЯОп 
    <span id="t_target">р╕лр╕бр╕зр╕Ф</span>: <span id="targetBadge">тАФ</span>
  </div>

  <div id="plateTracker" style="display:none">ЁЯН▒ 
    <span id="t_quota">р╣Вр╕Др╕зр╕Хр╕▓</span>: <span id="platePills"></span>
  </div>

  <div id="hydroWrap" style="display:none">ЁЯТз 
    <span id="t_hydro">р╕кр╕бр╕Фр╕╕р╕ер╕Щр╣Йр╕│</span>: 
    <span id="hydroLabel">тАФ</span>
    <div class="bar"><div id="hydroBar"></div></div>
  </div>

  <div id="fever" class="fever" style="display:none">FEVER!</div>
</section>

<!-- р╣Вр╕Др╣Йр╕К (р╣Др╕зр╣Йр╕Чр╣Йр╕▓р╕в <body> р╕Бр╣Зр╣Др╕Фр╣Й) -->
<div id="coachHUD" style="display:none;position:fixed;left:50%;bottom:14vh;transform:translateX(-50%);
  background:rgba(0,0,0,.7);padding:.45em .8em;border-radius:.6em;font-weight:700;z-index:90;pointer-events:none">
  <span id="coachText">...</span>
</div>

<!-- р╣Ар╕кр╕╡р╕вр╕З: id р╕Хр╣Йр╕нр╕Зр╕Хр╕гр╕Зр╕Бр╕▒р╕Ър╕Чр╕╡р╣Ир╣Вр╕Др╣Йр╕Фр╣Ар╕гр╕╡р╕вр╕Б -->
<audio id="sfx-good"     preload="auto" src="assets/sfx/good.mp3"></audio>
<audio id="sfx-bad"      preload="auto" src="assets/sfx/bad.mp3"></audio>
<audio id="sfx-perfect"  preload="auto" src="assets/sfx/perfect.mp3"></audio>
<audio id="sfx-tick"     preload="auto" src="assets/sfx/tick.mp3"></audio>
<audio id="sfx-powerup"  preload="auto" src="assets/sfx/powerup.mp3"></audio>
>

<section id="menuBar" class="menu">
  <div class="row">
    <button class="tag" data-action="mode" data-value="goodjunk" id="m_goodjunk">ЁЯеЧ р╕Фр╕╡ vs р╕Вр╕вр╕░</button>
    <button class="tag" data-action="mode" data-value="groups" id="m_groups">ЁЯН╜я╕П р╕Ир╕▓р╕Щ 5 р╕лр╕бр╕╣р╣И</button>
    <button class="tag" data-action="mode" data-value="hydration" id="m_hydration">ЁЯТз р╕кр╕бр╕Фр╕╕р╕ер╕Щр╣Йр╕│</button>
    <button class="tag" data-action="mode" data-value="plate" id="m_plate">ЁЯН▒ р╕Ир╕▒р╕Фр╕Ир╕▓р╕Щр╕кр╕╕р╕Вр╕ар╕▓р╕Ю</button>
  </div>

  <div class="row">
    <button class="tag" data-action="diff" data-value="Easy" id="d_easy">р╕Зр╣Ир╕▓р╕в</button>
    <button class="tag" data-action="diff" data-value="Normal" id="d_normal">р╕Ыр╕Бр╕Хр╕┤</button>
    <button class="tag" data-action="diff" data-value="Hard" id="d_hard">р╕вр╕▓р╕Б</button>
    <span class="modeLabel">
      <span id="t_mode">р╣Вр╕лр╕бр╕Ф</span>: <b id="modeName">р╕Фр╕╡ vs р╕Вр╕вр╕░</b> тАв 
      <span id="t_diff">р╕Др╕зр╕▓р╕бр╕вр╕▓р╕Б</span>: <b id="difficulty">р╕Ыр╕Бр╕Хр╕┤</b>
    </span>
  </div>

  <div class="row">
    <button class="btn" data-action="start" id="btn_start">тЦ╢ р╣Ар╕гр╕┤р╣Ир╕бр╣Ар╕Бр╕б</button>
    <button class="btn" data-action="pause" id="btn_pause">тП╕ р╕Юр╕▒р╕Б</button>
    <button class="btn" data-action="restart" id="btn_restart">тЖ╗ р╣Ар╕гр╕┤р╣Ир╕бр╣Гр╕лр╕бр╣И</button>
    <button class="btn" data-action="help" id="btn_help">тЭУ р╕зр╕┤р╕Шр╕╡р╣Ар╕ер╣Ир╕Щ</button>
  </div>
</section>

<!-- р╕лр╕Щр╣Йр╕▓р╕Кр╣Ир╕зр╕вр╣Ар╕лр╕ер╕╖р╕н -->
<div id="help" class="modal" style="display:none">
  <div class="card">
    <h3 id="h_help">р╕зр╕┤р╕Шр╕╡р╣Ар╕ер╣Ир╕Щ</h3>
    <pre id="helpBody">р╣Ар╕ер╕╖р╕нр╕Бр╣Вр╕лр╕бр╕Ф тЖТ р╣Ар╕Бр╣Зр╕Ър╕кр╕┤р╣Ир╕Зр╕Чр╕╡р╣Ир╕Цр╕╣р╕Бр╕Хр╣Йр╕нр╕З тЖТ р╕лр╕ер╕╡р╕Бр╣Ар╕ер╕╡р╣Ир╕вр╕Зр╕Бр╕▒р╕Ър╕Фр╕▒р╕Б</pre>
    <button class="btn" data-action="helpClose" id="btn_ok">р╣Вр╕нр╣Ар╕Д</button>
  </div>
</div>

<!-- р╕лр╕Щр╣Йр╕▓р╕кр╕гр╕╕р╕Ы -->
<div id="result" class="modal" style="display:none">
  <div class="card">
    <h3 id="h_summary">р╕кр╕гр╕╕р╕Ыр╕Ьр╕е</h3>
    <div id="resCore"></div>
    <div id="resBreakdown"></div>
    <div id="resBoard"></div>
    <button class="btn" data-result="replay" id="btn_replay">тЖ╗ р╣Ар╕ер╣Ир╕Щр╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕З</button>
    <button class="btn" data-result="home" id="btn_home">ЁЯПа р╕лр╕Щр╣Йр╕▓р╕лр╕ер╕▒р╕Б</button>
  </div>
</div>

<!-- р╣Ар╕кр╕╡р╕вр╕Зр╕Ыр╕гр╕░р╕Бр╕нр╕Ъ -->
<audio id="sfx-good" preload="auto" src="assets/sfx/good.mp3"></audio>
<audio id="sfx-bad" preload="auto" src="assets/sfx/bad.mp3"></audio>
<audio id="sfx-perfect" preload="auto" src="assets/sfx/perfect.mp3"></audio>
<audio id="sfx-tick" preload="auto" src="assets/sfx/tick.mp3"></audio>
<audio id="sfx-powerup" preload="auto" src="assets/sfx/powerup.mp3"></audio>

<!-- р╣Вр╕лр╕ер╕Ф main.js р╣Бр╕Ър╕Ъ dynamic import -->
<script type="module">
  window.__HHA_BOOT_OK = false;
  import('./game/main.js?v=20251021b')
    .then(() => { window.__HHA_BOOT_OK = true; })
    .catch(err => {
      console.error('[Import failed]', err);
      alert('р╣Вр╕лр╕ер╕Ф main.js р╣Др╕бр╣Ир╕кр╕│р╣Ар╕гр╣Зр╕И: ' + (err && err.message ? err.message : err));
    });
</script>

</body>
</html>
