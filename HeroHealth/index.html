<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hero Health Academy</title>

  <style>
    body {
      margin: 0; background: #071422; color: #e6f4ff;
      font-family: 'Segoe UI', sans-serif;
      overflow: hidden;
    }
    .game-wrap { position: relative; width: 100%; height: 100vh; overflow: hidden; }

    /* ---------- MENU ---------- */
    #menuBar {
      position: absolute; inset: 0;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      background: linear-gradient(160deg, #0c2140 0%, #102b52 100%);
      z-index: 50; transition: opacity 0.4s;
    }
    #menuBar[data-hidden] { display: none !important; }

    #menuBar h1 {
      font-size: 28px; margin-bottom: 16px;
      background: linear-gradient(to right, #c3e8ff, #9fe);
      -webkit-background-clip: text; color: transparent;
    }
    .menu-row { display: flex; gap: 8px; margin: 6px 0; }
    button {
      cursor: pointer;
      padding: 10px 16px; border-radius: 10px; border: 1px solid #16325d;
      background: #0f1e38; color: #e6f2ff; font-weight: 600;
      transition: background 0.2s;
    }
    button:hover { background: #19355e; }
    .active { background: #2563eb !important; border-color: #1d4ed8; }

    #howText, #soundText { font-size: 14px; margin-top: 4px; color: #a6c8ff; }

    /* ---------- HUD + RESULT ---------- */
    #hud { position: fixed; inset: 0; pointer-events: none; z-index: 2000; }
    #toast {
      position: fixed; bottom: 60px; left: 50%; transform: translateX(-50%);
      background: rgba(0,0,0,0.7); color: #fff; padding: 6px 12px;
      border-radius: 8px; opacity: 0; transition: opacity 0.3s;
    }
    #toast.show { opacity: 1; }

  </style>
</head>
<body data-mode="goodjunk" data-diff="Normal">
  <div class="game-wrap">
    <!-- ----------- MENU ----------- -->
    <div id="menuBar">
      <h1>Hero Health Academy</h1>

      <div class="menu-row">
        <button class="modeBtn active" data-mode="goodjunk">ü•¶ Good vs Junk</button>
        <button class="modeBtn" data-mode="plate">üçΩÔ∏è Balanced Plate</button>
        <button class="modeBtn" data-mode="hydration">üíß Water Balance</button>
      </div>

      <div class="menu-row">
        <button class="diffBtn active" data-diff="Easy">‡∏á‡πà‡∏≤‡∏¢</button>
        <button class="diffBtn" data-diff="Normal">‡∏õ‡∏Å‡∏ï‡∏¥</button>
        <button class="diffBtn" data-diff="Hard">‡∏¢‡∏≤‡∏Å</button>
      </div>

      <div class="menu-row">
        <button id="btn_how">üìò How to Play</button>
        <button id="btn_sound">üîä Sound: ON</button>
      </div>
      <div id="howText">‡πÅ‡∏ï‡∏∞‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏î‡∏µ ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Ç‡∏¢‡∏∞!</div>
      <div id="soundText"></div>

      <div class="menu-row" style="margin-top:18px;">
        <button id="btn_start" style="padding:12px 32px;font-size:18px;background:#2563eb;color:white;border:none;border-radius:12px;">‚ñ∂ Start</button>
      </div>
    </div>

    <!-- ----------- HUD/RESULT/QUEST ----------- -->
    <div id="hud"></div>
    <div id="coachBox"></div>
    <div id="spawnHost"></div>
    <div id="toast"></div>
  </div>

  <script type="module" src="./game/main.js?v=final"></script>

  <script>
    // -------- MENU INTERACTION --------
    const modeBtns = document.querySelectorAll('.modeBtn');
    const diffBtns = document.querySelectorAll('.diffBtn');
    const howBtn   = document.getElementById('btn_how');
    const soundBtn = document.getElementById('btn_sound');
    const howText  = document.getElementById('howText');
    const soundText= document.getElementById('soundText');

    // --- Mode select ---
    modeBtns.forEach(btn=>{
      btn.onclick=()=>{
        modeBtns.forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        document.body.setAttribute('data-mode', btn.dataset.mode);
      };
    });

    // --- Diff select ---
    diffBtns.forEach(btn=>{
      btn.onclick=()=>{
        diffBtns.forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        document.body.setAttribute('data-diff', btn.dataset.diff);
      };
    });

    // --- How to play ---
    howBtn.onclick=()=>{
      howText.textContent="‡πÅ‡∏ï‡∏∞‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏î‡∏µ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Ç‡∏¢‡∏∞ ‡∏ñ‡πâ‡∏≤‡∏Å‡∏î‡∏ú‡∏¥‡∏î‡∏à‡∏∞‡πÄ‡∏™‡∏µ‡∏¢‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö!";
      howText.style.color="#bef";
    };

    // --- Sound toggle ---
    let soundOn=true;
    soundBtn.onclick=()=>{
      soundOn=!soundOn;
      soundBtn.textContent = soundOn ? "üîä Sound: ON" : "üîá Sound: OFF";
      soundText.textContent = soundOn ? "‡πÄ‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÅ‡∏•‡πâ‡∏ß" : "‡∏õ‡∏¥‡∏î‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå‡πÅ‡∏•‡πâ‡∏ß";
    };
  </script>
</body>
</html>
