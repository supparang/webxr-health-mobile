<!doctype html>
<html lang="th" data-hha-lang="TH">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"/>
  <title>Hero Health Academy</title>

  <link rel="stylesheet" href="./styles/game.css"/>

  <style>
    /* HUD/quests ‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏•‡∏¥‡∏Å‡πÉ‡∏ô‡∏™‡∏ô‡∏≤‡∏° */
    #hudWrap, #questBar, #coachHUD, #targetWrap, #plateTracker, #missionLine, #toast { pointer-events:none; }
    #spawnHost, #spawnHost * { pointer-events:auto; }
    #bootWarn { pointer-events:none; }
    /* ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô */
    #lbWrap table{ width:100%; border-collapse:collapse; font:600 12px ui-rounded,system-ui; }
    #lbWrap th, #lbWrap td{ border-bottom:1px solid #19304e; padding:6px 8px; text-align:left; }
    #lbWrap th{ color:#cfe9ff; }
    #lbScopes .chip{ margin-right:6px; }
    #playerName { padding:8px 10px; border-radius:10px; border:1px solid #19304e; background:#0f1d31; color:#eaf6ff; }
    .row-center{ display:flex; align-items:center; justify-content:center; gap:10px; flex-wrap:wrap; }
  </style>
</head>
<body data-mode="goodjunk" data-diff="Normal">
  <div id="app">
    <!-- Hero -->
    <section id="hero">
      <h1>Hero Health Academy</h1>
      <p class="sub">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Å‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ù‡∏∂‡∏Å‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
    </section>

    <!-- ‡πÄ‡∏°‡∏ô‡∏π -->
    <section id="menuBar" class="menu">
      <div class="grid">
        <button id="m_goodjunk"   class="tile active" type="button">
          <i>üçè</i><b>Good vs Junk</b><small>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏î‡∏µ ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Ç‡∏¢‡∏∞</small>
        </button>
        <button id="m_groups"     class="tile" type="button">
          <i>üçΩÔ∏è</i><b>5 Food Groups</b><small>‡πÅ‡∏¢‡∏Å‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</small>
        </button>
        <button id="m_hydration"  class="tile" type="button">
          <i>üíß</i><b>Hydration</b><small>‡πÄ‡∏ï‡∏¥‡∏°‡∏ô‡πâ‡∏≥‡πÉ‡∏´‡πâ‡∏™‡∏°‡∏î‡∏∏‡∏•</small>
        </button>
        <button id="m_plate"      class="tile" type="button">
          <i>ü´ï</i><b>Healthy Plate</b><small>‡∏à‡∏±‡∏î‡∏à‡∏≤‡∏ô‡∏™‡∏°‡∏î‡∏∏‡∏•</small>
        </button>
      </div>

      <div class="row">
        <div class="seg">
          <span class="lbl">‡πÇ‡∏´‡∏°‡∏î:</span>
          <span id="modeName" class="value">Good vs Junk</span>
        </div>
        <div class="seg">
          <span class="lbl">‡∏£‡∏∞‡∏î‡∏±‡∏ö:</span>
          <span id="difficulty" class="value">Normal</span>
          <button id="d_easy"   class="chip"        type="button">Easy</button>
          <button id="d_normal" class="chip active" type="button">Normal</button>
          <button id="d_hard"   class="chip"        type="button">Hard</button>
        </div>
      </div>

      <div class="cta"><button id="btn_start" class="start" type="button">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏° ‚ñ∂</button></div>
    </section>

    <!-- ‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏Å‡∏° -->
    <section id="gameLayer" aria-label="Playfield">
      <div id="spawnHost" aria-hidden="false"></div>

      <!-- HUD -->
      <div id="hudWrap" class="hud" style="display:none">
        <div id="scoreTime" class="pill">
          <span>üèÜ <b id="score">0</b></span>
          <span>‚è± <b id="time">45</b></span>
          <span>üî• <b id="combo">x0</b></span>
        </div>

        <div id="targetWrap" class="pill" style="display:none"><span id="targetBadge">Target</span></div>
        <div id="plateTracker" class="pill" style="display:none"><div id="platePills"></div></div>

        <div id="coachHUD" class="coach" style="display:none">
          <span id="coachText">...</span>
        </div>

        <div id="questBar"><ul id="questChips"></ul></div>

        <div id="missionLine" class="missionLine"></div>
        <div id="toast" class="toast"></div>
      </div>
    </section>

    <!-- ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå + Leaderboard -->
    <section id="result" style="display:none; align-items:center; justify-content:center; gap:12px; flex-wrap:wrap">
      <h2 id="resultText" style="width:100%;text-align:center;margin:0">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô 0</h2>

      <!-- ‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô -->
      <div class="row-center" style="width:100%;margin-top:6px">
        <label for="playerName" style="opacity:.85">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô:</label>
        <input id="playerName" type="text" inputmode="text" maxlength="24" placeholder="‡πÄ‡∏ä‡πà‡∏ô: CRU-Student"/>
        <button id="saveName" class="chip" type="button">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ä‡∏∑‡πà‡∏≠</button>
      </div>

      <!-- ‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à‡∏à‡∏ö‡πÄ‡∏Å‡∏° (‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£) -->
      <ul id="pbRow" style="list-style:none;margin:0;padding:0;display:flex;gap:10px;flex-wrap:wrap;justify-content:center"></ul>

      <!-- Leaderboard -->
      <div id="lbWrap" class="menu" style="width:min(980px,96vw); padding:12px; background:#0e1b30c9">
        <div class="row" style="margin-bottom:8px">
          <div class="seg">
            <span class="lbl">Leaderboard</span>
            <span id="lbInfo" class="value">‚Ä¶</span>
          </div>
          <div id="lbScopes" class="seg">
            <button class="chip" data-scope="week"  type="button">Week</button>
            <button class="chip active" data-scope="month" type="button">Month</button>
            <button class="chip" data-scope="year"  type="button">Year</button>
            <button class="chip" data-scope="all"   type="button">All</button>
          </div>
        </div>
        <div id="lbTable"></div>
      </div>

      <div style="width:100%;text-align:center;margin-top:6px">
        <button class="chip" data-result="replay" type="button">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
        <button class="chip" data-result="home"   type="button">‡∏Å‡∏•‡∏±‡∏ö‡πÄ‡∏°‡∏ô‡∏π</button>
      </div>
    </section>
  </div>

  <!-- ‡πÄ‡∏™‡∏µ‡∏¢‡∏á -->
  <audio id="bgm-main" preload="none" loop></audio>
  <audio id="sfx-good" preload="none"></audio>
  <audio id="sfx-bad" preload="none"></audio>
  <audio id="sfx-perfect" preload="none"></audio>
  <audio id="sfx-tick" preload="none"></audio>
  <audio id="sfx-powerup" preload="none"></audio>

  <!-- Boot + Main -->
  <script src="./game/boot.js"></script>
  <script type="module" src="./game/main.js"></script>
  <script src="./game/ui.js"></script>
</body>
</html>
