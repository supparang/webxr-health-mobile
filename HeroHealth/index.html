<!doctype html>
<html lang="th" data-hha-lang="TH">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>Hero Health Academy</title>

  <link rel="preconnect" href="https://unpkg.com" crossorigin>
  <link rel="stylesheet" href="./styles/game.css">

  <!-- SFX / BGM assets (‡πÉ‡∏™‡πà‡πÑ‡∏ü‡∏•‡πå‡∏à‡∏£‡∏¥‡∏á‡∏†‡∏≤‡∏¢‡∏´‡∏•‡∏±‡∏á‡πÑ‡∏î‡πâ) -->
  <audio id="bgm-main" preload="auto" loop></audio>
  <audio id="sfx-good" preload="auto"></audio>
  <audio id="sfx-bad" preload="auto"></audio>
  <audio id="sfx-perfect" preload="auto"></audio>
  <audio id="sfx-tick" preload="auto"></audio>
  <audio id="sfx-powerup" preload="auto"></audio>
</head>
<body data-mode="goodjunk" data-diff="Normal">
  <!-- ‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏ô‡πÄ‡∏î‡∏≠‡∏£‡πå ThreeJS) -->
  <canvas id="c" aria-hidden="true"></canvas>

  <div id="app">
    <!-- HERO -->
    <section id="hero">
      <h1>Hero Health Academy</h1>
      <p class="sub">‡πÇ‡∏†‡∏ä‡∏ô‡∏≤‡∏Å‡∏≤‡∏£ ‚Ä¢ ‡∏ô‡πâ‡∏≥‡∏î‡∏∑‡πà‡∏° ‚Ä¢ ‡∏à‡∏≤‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û ‚Ä¢ ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£</p>
    </section>

    <!-- MENU -->
    <section id="menuBar" class="menu">
      <!-- ‡πÇ‡∏´‡∏°‡∏î‡πÄ‡∏Å‡∏° -->
      <div class="grid" role="radiogroup" aria-label="Game Modes">
        <button id="m_goodjunk" class="tile active"
                type="button" role="radio" aria-checked="true"
                data-mode="goodjunk">
          <i>ü•ó</i><b>Good vs Junk</b><small>‡πÅ‡∏¢‡∏Å‡∏Ç‡∏≠‡∏á‡∏î‡∏µ/‡∏Ç‡∏¢‡∏∞</small>
        </button>

        <button id="m_groups" class="tile"
                type="button" role="radio" aria-checked="false"
                data-mode="groups">
          <i>üß∫</i><b>5 Food Groups</b><small>‡πÄ‡∏Å‡πá‡∏ö‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏´‡∏°‡∏ß‡∏î</small>
        </button>

        <button id="m_hydration" class="tile"
                type="button" role="radio" aria-checked="false"
                data-mode="hydration">
          <i>üíß</i><b>Hydration</b><small>‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏ô‡πâ‡∏≥‡πÉ‡∏ô‡∏£‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏¢</small>
        </button>

        <button id="m_plate" class="tile"
                type="button" role="radio" aria-checked="false"
                data-mode="plate">
          <i>üçΩÔ∏è</i><b>Healthy Plate</b><small>‡πÄ‡∏ï‡∏¥‡∏°‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö‡∏´‡∏°‡∏ß‡∏î</small>
        </button>
      </div>

      <!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏¢‡πà‡∏≠‡∏¢ + ‡πÄ‡∏™‡∏µ‡∏¢‡∏á + VR/Gaze -->
      <div class="row">
        <div class="seg">
          <span class="lbl">Mode:</span>
          <span id="modeName" class="value">Good vs Junk</span>
        </div>

        <div class="seg">
          <span class="lbl">Difficulty:</span>
          <button class="chip" id="d_easy"   data-diff="Easy"   type="button">Easy</button>
          <button class="chip active" id="d_normal" data-diff="Normal" type="button">Normal</button>
          <button class="chip" id="d_hard"   data-diff="Hard"   type="button">Hard</button>
          <span id="difficulty" class="value" style="margin-left:8px">Normal</span>
        </div>

        <div class="seg">
          <button id="soundToggle" class="chip" title="Toggle Sound" type="button">üîä</button>
        </div>

        <div class="seg">
          <button id="toggleVR" class="chip" data-action="toggle-vr" type="button">VR/Gaze</button>
          <!-- ‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡πà‡∏≤ Gaze (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö‡∏°‡∏µ) -->
          <button class="chip" data-action="reticle-light" type="button">Reticle: Light</button>
          <button class="chip" data-action="reticle-bold"  type="button">Reticle: Bold</button>
          <button class="chip" data-action="dwell-" type="button">Dwell ‚àí</button>
          <span id="dwellVal" class="value">850ms</span>
          <button class="chip" data-action="dwell+" type="button">Dwell +</button>
        </div>
      </div>

      <div class="cta">
        <button id="btn_start" class="start" type="button">Start</button>
      </div>
    </section>

    <!-- GAME LAYER -->
    <section id="gameLayer" aria-live="polite" aria-label="playfield">
      <!-- host ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö spawn ‡∏õ‡∏∏‡πà‡∏°/‡∏≠‡∏µ‡πÇ‡∏°‡∏à‡∏¥ -->
      <div id="spawnHost"></div>

      <!-- HUD -->
      <div id="hudWrap" class="hud" style="display:none">
        <div class="pill" id="targetWrap" style="display:none">target</div>

        <div id="scoreTime">
          <div class="pill">‚≠ê <span id="score">0</span></div>
          <div class="pill">‚è± <span id="time">45</span>s</div>
          <div class="pill">Combo <span id="combo">0</span></div>
        </div>

        <div id="questBar">
          <ul id="questChips"></ul>
        </div>

        <div id="coachHUD" class="coach">
          <span id="coachText"></span>
        </div>

        <div id="missionLine" class="missionLine"></div>
        <div id="toast" class="toast"></div>

        <!-- ‡∏ï‡∏±‡∏ß‡∏ï‡∏¥‡∏î‡∏ï‡∏≤‡∏° Healthy Plate (‡∏ñ‡∏π‡∏Å‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡πÇ‡∏î‡∏¢‡πÇ‡∏´‡∏°‡∏î‡∏≠‡∏∑‡πà‡∏ô) -->
        <div id="plateTracker" style="display:none;pointer-events:none">
          <div id="platePills" class="platePills"></div>
        </div>
      </div>
    </section>

    <!-- RESULT -->
    <section id="result" style="display:none;align-items:center;justify-content:center;gap:16px;flex-direction:column">
      <h2 id="resultText">Score 0</h2>
      <ul id="pbRow" style="list-style:none;padding:0;margin:0;display:flex;gap:8px;flex-wrap:wrap"></ul>
      <div style="display:flex;gap:10px">
        <button class="chip" data-result="home"   type="button">üè† Home</button>
        <button class="chip" data-result="replay" type="button">üîÑ Replay</button>
      </div>
    </section>
  </div>

  <!-- RUNTIME -->
  <script type="module" src="./game/main.js"></script>
  <!-- ui.js ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ logic ‡πÄ‡∏™‡∏£‡∏¥‡∏° -->
  <script src="./game/ui.js" defer></script>
</body>
</html>
