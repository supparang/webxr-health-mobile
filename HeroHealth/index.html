<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Hero Health Academy</title>

  <!-- base ‡∏ï‡∏≤‡∏° repo; ‡πÑ‡∏°‡πà‡∏û‡∏∂‡πà‡∏á base ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏´‡∏•‡∏î main.js ‡πÅ‡∏ï‡πà‡∏Ñ‡∏á‡πÑ‡∏ß‡πâ‡πÑ‡∏î‡πâ -->
  <base href="/webxr-health-mobile/HeroHealth/">
  <link rel="stylesheet" href="styles/game.css" />

  <style>
    /* ‡∏Å‡∏±‡∏ô canvas ‡∏ö‡∏±‡∏á‡∏Ñ‡∏•‡∏¥‡∏Å + ‡∏î‡∏±‡∏ô HUD/‡πÄ‡∏°‡∏ô‡∏π‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡∏ö‡∏ô‡∏™‡∏∏‡∏î‡πÉ‡∏´‡πâ‡∏ä‡∏±‡∏î */
    #c{position:fixed;inset:0;z-index:1;pointer-events:none}
    .hud,.menu,.modal,.coach,.item{z-index:200;pointer-events:auto}
    .hud{font-size:18px;font-weight:800;text-shadow:0 2px 6px #000}
    .item{font-size:56px;min-width:56px;min-height:56px}

    /* ‡πÅ‡∏ñ‡∏ö‡∏ö‡∏≠‡∏Å‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡πÇ‡∏´‡∏°‡∏î/‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å */
    #statusLine{
      position:fixed;top:76px;left:50%;transform:translateX(-50%);
      background:rgba(0,0,0,.45);color:#fff;padding:6px 12px;border-radius:10px;
      font-weight:900;z-index:300
    }

    /* ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à */
    #bootWarn{
      position:fixed;top:0;left:0;right:0;background:#b00020;color:#fff;
      padding:10px 12px;font-weight:700;z-index:9999;display:none;white-space:pre-wrap
    }
  </style>
</head>
<body>
  <!-- Header -->
  <header class="brand">
    <div id="brandTitle">HERO HEALTH ACADEMY</div>
    <div class="spacer"></div>
    <button id="langToggle" class="btn">üáπüá≠ TH/EN</button>
    <button id="gfxToggle" class="btn">üéõÔ∏è ‡∏Å‡∏£‡∏≤‡∏ü‡∏¥‡∏Å: ‡∏õ‡∏Å‡∏ï‡∏¥</button>
    <button id="soundToggle" class="btn">üîä ‡πÄ‡∏™‡∏µ‡∏¢‡∏á: ‡πÄ‡∏õ‡∏¥‡∏î</button>
  </header>

  <!-- Canvas -->
  <canvas id="c"></canvas>

  <!-- HUD -->
  <section class="hud">
    <div>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <b id="score">0</b> | ‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö: <b id="combo">x0</b> | ‡πÄ‡∏ß‡∏•‡∏≤: <b id="time">60</b>s</div>
    <div id="feverBarWrap" class="bar slim"><div id="feverBar" style="width:0%"></div></div>

    <!-- Hydration bar (‡πÉ‡∏ä‡πâ‡πÉ‡∏ô‡πÇ‡∏´‡∏°‡∏î‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏ô‡πâ‡∏≥) -->
    <div id="hydroWrap" style="display:none">
      üíß ‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏ô‡πâ‡∏≥: <span id="hydroLabel">‚Äî</span>
      <div class="bar"><div id="hydroBar" style="width:50%"></div></div>
    </div>

    <!-- Mission / Tips -->
    <div id="missionLine" style="display:none;">‚Äî</div>
  </section>

  <div id="statusLine">‡πÇ‡∏´‡∏°‡∏î: ‡∏î‡∏µ vs ‡∏Ç‡∏¢‡∏∞ ‚Ä¢ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å: ‡∏õ‡∏Å‡∏ï‡∏¥</div>

  <!-- Coach -->
  <div id="coachHUD" class="coach" style="display:none">
    <div id="coachText">...</div>
  </div>

  <!-- Menu -->
  <section id="menuBar" class="menu">
    <div class="row">
      <button class="tag" data-action="mode" data-value="goodjunk"  id="m_goodjunk">ü•ó ‡∏î‡∏µ vs ‡∏Ç‡∏¢‡∏∞</button>
      <button class="tag" data-action="mode" data-value="groups"    id="m_groups">üçΩÔ∏è ‡∏à‡∏≤‡∏ô 5 ‡∏´‡∏°‡∏π‡πà</button>
      <button class="tag" data-action="mode" data-value="hydration" id="m_hydration">üíß ‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏ô‡πâ‡∏≥</button>
      <button class="tag" data-action="mode" data-value="plate"     id="m_plate">üç± ‡∏à‡∏±‡∏î‡∏à‡∏≤‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û</button>
    </div>
    <div class="row">
      <button class="tag" data-action="diff" data-value="Easy"   id="d_easy">‡∏á‡πà‡∏≤‡∏¢</button>
      <button class="tag" data-action="diff" data-value="Normal" id="d_normal">‡∏õ‡∏Å‡∏ï‡∏¥</button>
      <button class="tag" data-action="diff" data-value="Hard"   id="d_hard">‡∏¢‡∏≤‡∏Å</button>
      <span class="modeLabel"><span id="t_mode">‡πÇ‡∏´‡∏°‡∏î</span>: <b id="modeName">‡∏î‡∏µ vs ‡∏Ç‡∏¢‡∏∞</b> ‚Ä¢ <span id="t_diff">‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</span>: <b id="difficulty">‡∏õ‡∏Å‡∏ï‡∏¥</b></span>
    </div>
    <div class="row">
      <button class="btn" data-action="start"   id="btn_start">‚ñ∂ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏Å‡∏°</button>
      <button class="btn" data-action="pause"   id="btn_pause">‚è∏ ‡∏û‡∏±‡∏Å</button>
      <button class="btn" data-action="restart" id="btn_restart">‚Üª ‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
      <button class="btn" data-action="help"    id="btn_help">‚ùì ‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô</button>
    </div>
  </section>

  <!-- Help -->
  <div id="help" class="modal" style="display:none">
    <div class="card">
      <h3 id="h_help">‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô</h3>
      <pre id="helpBody">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÇ‡∏´‡∏°‡∏î ‚Üí ‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á ‚Üí ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏±‡∏ö‡∏î‡∏±‡∏Å</pre>
      <button class="btn" id="btn_ok">‡πÇ‡∏≠‡πÄ‡∏Ñ</button>
    </div>
  </div>

  <!-- Result -->
  <div id="result" class="modal" style="display:none">
    <div class="card">
      <h3>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•</h3>
      <div id="resCore"></div>
      <div style="margin-top:12px;display:flex;gap:8px;">
        <button class="btn" id="btn_replay">‚Üª ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
        <button class="btn" id="btn_home">üè† ‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
      </div>
    </div>
  </div>

  <!-- SFX -->
  <audio id="sfx-good"    preload="auto" src="assets/sfx/good.mp3"></audio>
  <audio id="sfx-bad"     preload="auto" src="assets/sfx/bad.mp3"></audio>
  <audio id="sfx-powerup" preload="auto" src="assets/sfx/powerup.mp3"></audio>

  <div id="bootWarn"></div>

  <!-- ‡πÇ‡∏´‡∏•‡∏î main.js ‡∏î‡πâ‡∏ß‡∏¢ URL ‡πÄ‡∏ï‡πá‡∏° (‡∏Å‡∏±‡∏ô‡∏û‡∏•‡∏≤‡∏î‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á base) -->
  <script type="module">
    // ‡∏ñ‡πâ‡∏≤‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏¢‡∏π‡πà‡∏à‡∏£‡∏¥‡∏á‡∏ó‡∏µ‡πà URL ‡∏ô‡∏µ‡πâ ‡∏Å‡∏≤‡∏£ import ‡∏à‡∏∞‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡πÅ‡∏•‡∏∞ main.js ‡∏à‡∏∞‡∏ï‡∏±‡πâ‡∏á __HHA_BOOT_OK=true
    const ABS = 'https://supparang.github.io/webxr-health-mobile/HeroHealth/game/main.js';
    try{
      await import(ABS + '?v=' + Date.now());
    }catch(e){
      console.warn('[import fail]', ABS, e);
    }finally{
      // ‡∏ñ‡πâ‡∏≤ main.js ‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏ï‡∏±‡πâ‡∏á flag -> ‡πÅ‡∏™‡∏î‡∏á‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
      const w = document.getElementById('bootWarn');
      if(!window.__HHA_BOOT_OK){
        w.textContent = 
`‚ö†Ô∏è ‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à: ‡∏ï‡∏£‡∏ß‡∏à path game/main.js ‡∏´‡∏£‡∏∑‡∏≠ base href
‡∏•‡∏≠‡∏á URL ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:
- ${ABS}
- game/main.js
- ./game/main.js
- /webxr-health-mobile/HeroHealth/game/main.js
‡πÇ‡∏õ‡∏£‡∏î‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ß‡πà‡∏≤‡πÑ‡∏ü‡∏•‡πå‡∏≠‡∏¢‡∏π‡πà‡∏ó‡∏µ‡πà path ‡∏ô‡∏±‡πâ‡∏ô‡∏à‡∏£‡∏¥‡∏á (‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å/‡πÉ‡∏´‡∏ç‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏á) ‡πÅ‡∏•‡∏∞‡∏ñ‡∏π‡∏Å publish ‡πÉ‡∏ô branch ‡∏ó‡∏µ‡πà Pages ‡πÉ‡∏ä‡πâ`;
        w.style.display='block';
      }
    }
  </script>

  <!-- ‡∏õ‡∏∏‡πà‡∏° Help: ‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô‡∏ï‡πà‡∏≠‡πÇ‡∏´‡∏°‡∏î -->
  <script>
    const HOWTO = {
      TH: {
        goodjunk:`üéØ ‡πÇ‡∏´‡∏°‡∏î‡∏î‡∏µ vs ‡∏Ç‡∏¢‡∏∞
‡πÄ‡∏Å‡πá‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏ó‡∏µ‡πà‡∏î‡∏µ ü•¶üçé ‡∏´‡∏•‡∏µ‡∏Å‡πÄ‡∏•‡∏µ‡πà‡∏¢‡∏á‡∏Ç‡∏≠‡∏á‡∏Ç‡∏¢‡∏∞ üçîüçüü•§
‡∏ï‡πà‡∏≠‡∏Ñ‡∏≠‡∏°‡πÇ‡∏ö‡πÑ‡∏î‡πâ‡πÇ‡∏ö‡∏ô‡∏±‡∏™ x2/x4/x8 ‡πÅ‡∏•‡∏∞‡∏≠‡∏≤‡∏à‡πÄ‡∏Ç‡πâ‡∏≤ Fever`,
        groups:`üçΩÔ∏è ‡πÇ‡∏´‡∏°‡∏î‡∏à‡∏≤‡∏ô 5 ‡∏´‡∏°‡∏π‡πà
‡πÄ‡∏Å‡πá‡∏ö‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏´‡∏°‡∏ß‡∏î‡∏ó‡∏µ‡πà HUD ‡∏£‡∏∞‡∏ö‡∏∏ ‚Äî ‡∏ñ‡∏π‡∏Å +7, ‡∏ú‡∏¥‡∏î ‚Äì2`,
        hydration:`üíß ‡πÇ‡∏´‡∏°‡∏î‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏ô‡πâ‡∏≥
‡∏£‡∏±‡∏Å‡∏©‡∏≤‡∏Ñ‡πà‡∏≤ 45‚Äì65%
‡∏ô‡πâ‡∏≥‡πÄ‡∏õ‡∏•‡πà‡∏≤ = ‡πÄ‡∏û‡∏¥‡πà‡∏° / ‡∏ô‡πâ‡∏≥‡∏´‡∏ß‡∏≤‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏Å‡∏≤‡πÅ‡∏ü = ‡∏•‡∏î
>65 ‡∏î‡∏∑‡πà‡∏°‡∏´‡∏ß‡∏≤‡∏ô = ‡πÑ‡∏î‡πâ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô, <45 ‡∏î‡∏∑‡πà‡∏°‡∏´‡∏ß‡∏≤‡∏ô = ‡∏´‡∏±‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô
‡∏õ‡∏∏‡πà‡∏° N=Normalize (55%) cd 25s ‚Ä¢ G=Guard 5s`,
        plate:`üç± ‡πÇ‡∏´‡∏°‡∏î‡∏à‡∏±‡∏î‡∏à‡∏≤‡∏ô‡∏™‡∏∏‡∏Ç‡∏†‡∏≤‡∏û
‡πÄ‡∏ï‡∏¥‡∏°‡πÇ‡∏Ñ‡∏ß‡∏ï‡∏≤‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö 5 ‡∏´‡∏°‡∏π‡πà (2/2/1/1/1) ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏ö‡∏ô‡∏±‡∏™ Perfect Plate`
      }
    };
    document.getElementById('btn_help')?.addEventListener('click', ()=>{
      const mode = document.querySelector('.tag[data-action="mode"].active')?.dataset.value || (window.__HHA_STATE?.modeKey ?? 'goodjunk');
      const body = document.getElementById('helpBody');
      body.textContent = (HOWTO.TH[mode] || HOWTO.TH.goodjunk);
      document.getElementById('help').style.display='flex';
    });
    document.getElementById('btn_ok')?.addEventListener('click', ()=> document.getElementById('help').style.display='none');
  </script>
</body>
</html>
