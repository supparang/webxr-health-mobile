:root{
  --fg:#fff; --bg:#0b0f16; --accent:#4fc3f7;
  --good:#7fffd4; --bad:#ff9b9b; --fever:#ffd54a;
}
html,body{margin:0;height:100%;background:#0b0f16;color:var(--fg);font:600 16px/1.4 ui-rounded,system-ui,Segoe UI,Arial;}
header.brand{display:flex;align-items:center;gap:8px;padding:10px 12px;border-bottom:1px solid #ffffff17;background:#0d141f;position:sticky;top:0;z-index:50}
header .spacer{flex:1}
.btn,.tag{background:#131b28;color:#fff;border:1px solid #ffffff22;border-radius:12px;padding:6px 10px;cursor:pointer}
.btn:hover,.tag:hover{filter:brightness(1.1)}
.menu{position:fixed;left:0;right:0;bottom:0;background:#0d141f;border-top:1px solid #ffffff17;padding:10px 12px;z-index:60}
.menu .row{display:flex;flex-wrap:wrap;gap:8px;margin:6px 0}

canvas#c{position:fixed;inset:0;z-index:0}

.hud{position:fixed;left:12px;right:12px;top:62px;z-index:40;display:flex;flex-direction:column;gap:8px}
.bar{height:12px;background:#ffffff15;border-radius:999px;overflow:hidden}
.bar.slim{height:8px}
.bar > div{height:100%;background:linear-gradient(90deg,#4fc3f7,#00bcd4)}

.fever{font:900 28px/1 ui-rounded,system-ui;letter-spacing:1px;color:#111;background:linear-gradient(90deg,#ffd54a,#ff6d00);-webkit-background-clip:text;background-clip:text;-webkit-text-fill-color:transparent}
.fever.pulse{animation:pulse 1s infinite}
@keyframes pulse{50%{transform:scale(1.04)}}

#subHUD{display:flex;gap:8px;align-items:center}
.chip{display:inline-flex;gap:8px;align-items:center;background:#141e2d;border:1px solid #ffffff22;border-radius:999px;padding:6px 10px;font-weight:800}
.chip.ok{box-shadow:0 0 0 2px #5cf4a855 inset}
.chip.warn{box-shadow:0 0 0 2px #ffd54a88 inset}
.chip.bad{box-shadow:0 0 0 2px #ff9b9b88 inset}
.chip.pow{gap:8px}
#powerTime{width:88px;height:6px;background:#ffffff22;border-radius:999px;overflow:hidden}
#powerTime>div{height:100%;width:0%;background:linear-gradient(90deg,#ffd54a,#ff6d00)}

.mission-line{margin-top:4px;font-weight:800;color:#cde}

.coach.under-fever{position:fixed;left:12px;top:120px;z-index:41;background:#0f1724cc;border:1px solid #ffffff22;border-radius:12px;padding:8px 10px;max-width:min(520px,92vw);backdrop-filter:blur(4px)}
#coachText{font-weight:900}

.item{user-select:none}

.scoreBurst{pointer-events:none}

.flash{animation:flash .6s}
@keyframes flash{0%{filter:brightness(1.5)}100%{filter:none}}

.screen-dim{position:fixed;inset:0;background:#0008;z-index:100;animation:dim .25s ease-out forwards}
@keyframes dim{from{opacity:.0}to{opacity:.55}}

.hs-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:12px}
.hs-block{background:#0f1724;border:1px solid #ffffff10;border-radius:12px;padding:10px}

.modal{position:fixed;inset:0;background:#0008;display:flex;align-items:center;justify-content:center;z-index:120}
.modal .card{background:#0f1724;border:1px solid #ffffff22;border-radius:16px;padding:14px;max-width:420px;width:92%;color:#fff}

.float-piece{position:fixed;pointer-events:none;z-index:130;will-change:transform,opacity}

.toast{pointer-events:none}

#bootWarn{font-weight:800}
