/* === Hero Health Academy â€” game.css (3D icon + shatter + help scene) === */

/* Base */
:root{
  --bg:#0b0f17;
  --fg:#eaf2ff;
  --good:#7fffd4;
  --bad:#ff9b9b;
  --fever:#ffd54a;
}
*{ box-sizing:border-box; }
html,body{ height:100%; }
body{
  margin:0;
  background:radial-gradient(1200px 800px at 50% 20%, #18243a, #0b0f17 60%);
  color:var(--fg);
  font:500 16px/1.45 ui-rounded,system-ui,Segoe UI,Arial;
  overflow:hidden;
}
#c{ position:fixed; inset:0; display:block; }

/* Header */
header.brand{
  position:fixed; inset:0 0 auto 0;
  height:56px; display:flex; align-items:center;
  padding:8px 10px; gap:8px;
  background:linear-gradient(#0a1220b0,#0a122000);
  z-index:150;
}
header .spacer{ flex:1; }
header .btn{
  background:#14243a; color:#fff; border:1px solid #ffffff22;
  padding:6px 10px; border-radius:10px; cursor:pointer;
}
#brandTitle{ font-weight:900; letter-spacing:.5px; }

/* HUD */
.hud{
  position:fixed; left:12px; right:12px; top:64px;
  z-index:120; display:flex; flex-direction:column; gap:8px;
  text-shadow:0 2px 6px #0008;
}
.hud b{ font-weight:900; }

/* Bars */
.bar{ position:relative; height:14px; background:#1a2437; border-radius:999px; overflow:hidden; border:1px solid #ffffff22; }
.bar.slim{ height:10px; }
.bar > div{ position:absolute; left:0; top:0; bottom:0; width:0%; background:linear-gradient(90deg, #28e1ff, #8df5ff); }

/* Fever */
.fever{
  font:900 18px/1 ui-rounded,system-ui;
  color:var(--fever);
  text-shadow:0 3px 10px #000;
}
.fever.pulse{ animation:feverPulse .9s infinite; }
@keyframes feverPulse{ 0%{ transform:scale(1); } 50%{ transform:scale(1.06); } 100%{ transform:scale(1); } }

/* Coach under fever */
.coach.under-fever{
  position:fixed; left:50%; transform:translateX(-50%);
  bottom:200px; z-index:124; display:flex; gap:8px;
}
.coach.under-fever #coachText{
  background:#141a26cc; color:#fff; padding:8px 12px; border-radius:12px; font-weight:800;
  border:1px solid #ffffff22; box-shadow:0 6px 18px #0006;
}

/* Mission line */
.mission-line{
  position:fixed; left:50%; transform:translateX(-50%);
  bottom:156px; z-index:125; background:#10161fcc; color:#fff;
  border:1px solid #ffffff22; border-radius:12px; padding:8px 14px; font-weight:800;
  backdrop-filter:blur(3px);
}

/* Quest chips */
.quests{
  position:fixed; left:50%; transform:translateX(-50%); bottom:120px;
  z-index:123; display:flex; gap:8px; flex-wrap:wrap; justify-content:center;
}
.quests .qchip{
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; border-radius:999px; font:800 12px/1 ui-rounded,system-ui;
  color:#fff; background:#263238cc; border:1px solid #ffffff33; box-shadow:0 4px 14px #00000026;
}
.quests .qchip .p{ opacity:.85; }
.quests .qchip.done{ background:#1b5e20e6; }
.quests .qchip.fail{ background:#b00020e6; }

/* Items (emoji) + 3D tilt */
.item{
  position:fixed; border:none; background:transparent; color:#fff;
  cursor:pointer; line-height:1; z-index:80; padding:8px; border-radius:14px;
  transition:transform .15s, filter .15s, opacity .15s;
  transform:perspective(600px) rotateX(0) rotateY(0);
  filter: drop-shadow(0 6px 16px rgba(0,0,0,.35));
  will-change: transform, filter, opacity;
}
.item:hover{ filter: drop-shadow(0 10px 24px rgba(0,0,0,.45)); }

/* Score popup */
.scoreBurst{
  position:fixed; translate:0 6px; opacity:0;
  font:900 20px/1.2 ui-rounded,system-ui; text-shadow:0 2px 6px #000c; pointer-events:none; z-index:120;
  transition:opacity .22s, translate .22s;
}
.scoreBurst .minor{ display:block; font:700 12px/1.2 ui-rounded,system-ui; opacity:.9; }

/* 3D FX root (for shatter) */
.fx3d-root{
  position:fixed; inset:0; pointer-events:none; z-index:500;
  perspective: 900px; transform-style: preserve-3d;
}

/* Ring */
.burstRing{
  position:fixed; left:0; top:0; width:18px; height:18px; border-radius:50%;
  border:3px solid rgba(255,213,74,.9); box-shadow:0 0 12px rgba(255,213,74,.6);
  transform: translate(-50%,-50%) scale(0.6); opacity:.95;
  animation: ringOut .45s ease-out forwards;
}
@keyframes ringOut{
  from{ transform:translate(-50%,-50%) scale(.6); opacity:.95; }
  to  { transform:translate(-50%,-50%) scale(2.4); opacity:0; }
}

/* Shards */
.shard{
  position:fixed; left:0; top:0; width:10px; height:10px; border-radius:2px;
  background: linear-gradient(45deg,#fff,#ffd54a);
  box-shadow:0 0 8px rgba(255,213,74,.85);
  transform: translate(-50%,-50%);
  pointer-events:none; z-index:510; opacity:1;
  animation: shardFly .55s ease-out forwards;
}
@keyframes shardFly{
  0%{ opacity:1; transform: translate(var(--x0),var(--y0)) translateZ(0) rotate3d(0,0,1,0deg); }
  100%{ opacity:0; transform: translate(var(--x1),var(--y1)) translateZ(var(--z1)) rotate3d(1,1,0,var(--rot)); }
}

/* Sparks */
.spark{
  position:fixed; width:6px; height:6px; border-radius:50%;
  background:#fff; filter:blur(1px); opacity:.9; pointer-events:none; z-index:505;
  transform: translate(-50%,-50%);
  animation: sparkUp .35s ease-out forwards;
}
@keyframes sparkUp{
  0%{ opacity:.9; transform: translate(var(--sx0),var(--sy0)) scale(1); }
  100%{ opacity:0; transform: translate(var(--sx1),var(--sy1)) scale(.6); }
}

/* Menu */
.menu{
  position:fixed; left:0; right:0; bottom:0; padding:10px 12px; z-index:100;
  background:linear-gradient(#0a122000,#0a122088 40%, #0a1220cc);
  display:flex; flex-direction:column; gap:8px;
}
.menu .row{ display:flex; flex-wrap:wrap; gap:8px; align-items:center; }
.menu .tag{
  background:#1a2842; color:#fff; border:1px solid #ffffff22; border-radius:999px;
  padding:6px 10px; cursor:pointer; font-weight:800;
}
.menu .btn{
  background:#24385c; color:#fff; border:1px solid #ffffff22; border-radius:10px;
  padding:8px 12px; cursor:pointer; font-weight:800;
}

/* Modal */
.modal{ position:fixed; inset:0; display:flex; align-items:center; justify-content:center; background:#0008; z-index:160; }
.modal .card{
  background:#101826; color:#fff; border:1px solid #ffffff22; border-radius:16px;
  padding:16px; max-width:640px; width:min(92%, 640px); box-shadow:0 10px 30px #0008; text-align:center;
}

/* Help Scene grid/cards */
.hs-grid{
  display:grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap:12px;
}
.hs-card{
  background:#0f1726; border:1px solid #ffffff22; border-radius:14px;
  padding:12px; text-align:left;
  box-shadow:0 6px 20px #0006;
}
.hs-card h4{ margin:0 0 8px 0; font:900 16px/1 ui-rounded,system-ui; }
.hs-card ul{ margin:0; padding-left:18px; line-height:1.5; }

/* Low-time flash */
.flash #c{ filter:brightness(1.1) saturate(1.1); }
/* ===== Mode: Groups ===== */
.mode-groups { display:grid; gap:12px; }
.mode-groups .gg-head{ display:flex; justify-content:space-between; align-items:center; }
.mode-groups .gg-title{ font-weight:700; font-size:1.1rem; }
.mode-groups .gg-timer{ font-variant-numeric:tabular-nums; }
.mode-groups .gg-item{ display:grid; justify-items:center; gap:8px; padding:8px 0; }
.mode-groups .gg-icon{ width:92px; height:92px; object-fit:contain; filter: drop-shadow(0 2px 6px rgba(0,0,0,.2)); }
.mode-groups .gg-name{ font-weight:600; }
.mode-groups .gg-hint{ font-size:.9rem; opacity:.8; min-height:1.2em; }
.mode-groups .gg-grid{ display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap:10px; }
.mode-groups .gg-btn{
  padding:12px 10px; border-radius:14px; border:0; background:var(--btnColor, #888);
  color:#fff; font-weight:700; box-shadow:0 3px 0 rgba(0,0,0,.18), 0 0 0 2px rgba(255,255,255,.15) inset;
  transition: transform .05s ease, filter .2s ease;
}
.mode-groups .gg-btn:active{ transform: translateY(2px); }
.mode-groups .gg-small{ padding:6px 10px; border-radius:10px; border:0; background:#f1f3f5; }
.mode-groups .gg-small.danger{ background:#ffe3e3; color:#c92a2a; }
.mode-groups .gg-foot{ display:flex; gap:8px; align-items:center; justify-content:flex-start; }
.mode-groups .gg-score{ margin-left:auto; display:flex; gap:12px; font-weight:700; }
.mode-groups .gg-btn.chosen.good { filter: drop-shadow(0 0 10px #2f9e44); }
.mode-groups .gg-btn.chosen.bad  { filter: drop-shadow(0 0 10px #e03131) saturate(0.6); }
