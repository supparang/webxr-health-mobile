:root{ --fg:#fff; --bg:#0f1220; --ac:#4fc3f7; --warn:#ff9b9b; --ok:#7fffd4; --gold:#ffd54a; }
html,body{margin:0;height:100%;background:#0b0e18;color:var(--fg);font:600 16px/1.4 ui-rounded,system-ui,Segoe UI,Arial}
canvas#c{position:fixed;inset:0;z-index:0;background:radial-gradient(1200px 500px at 50% -200px,#101632,#060912)}

.brand{position:fixed;left:0;right:0;top:0;display:flex;align-items:center;gap:8px;padding:10px 12px;background:#0b1022d0;backdrop-filter:blur(6px);z-index:40}
.brand .spacer{flex:1}
.btn,.tag{background:#1d2544;color:#fff;border:1px solid #ffffff20;border-radius:10px;padding:6px 10px;font-weight:800;cursor:pointer}
.btn:hover,.tag:hover{filter:brightness(1.12)}
.menu{position:fixed;left:0;right:0;bottom:0;padding:10px 12px;background:#0b1022d0;backdrop-filter:blur(6px);z-index:40}
.menu .row{display:flex;gap:8px;flex-wrap:wrap;align-items:center;margin:.25rem 0}
.modeLabel{opacity:.85}

.hud{position:fixed;left:12px;right:12px;top:64px;z-index:30;display:flex;flex-direction:column;gap:8px}
.bar{background:#ffffff14;border:1px solid #ffffff22;border-radius:999px;overflow:hidden}
.bar.slim{height:10px}
#feverBar{height:10px;background:linear-gradient(90deg,#ff8a00,#ffd54a);width:0%}

.fever{font:800 20px ui-rounded;padding:2px 10px;border-radius:999px;background:#ff8a00;color:#000;width:max-content}

.powerbar{display:flex;gap:8px}
.powerbar .pseg{position:relative;display:flex;align-items:center;gap:6px;background:#ffffff10;border:1px solid #ffffff22;border-radius:12px;padding:4px 8px}
.powerbar .pseg span{font:800 12px}
.powerbar .pseg i{display:block;width:72px;height:6px;background:#0003;border-radius:999px;overflow:hidden;position:relative}
.powerbar .pseg i::after{content:"";position:absolute;left:0;top:0;bottom:0;width:0%;background:linear-gradient(90deg,#4fc3f7,#7fffd4)}

.quests{display:flex;gap:6px;flex-wrap:wrap}
.quests .chip{display:flex;gap:6px;align-items:center;background:#131a36;border:1px solid #ffffff22;border-radius:12px;padding:3px 8px}
.quests .chip .bar{width:76px;height:6px}
.quests .chip .bar>div{height:6px;background:#7fffd4;width:0%}

.coach.under-fever{display:flex;align-items:center;gap:8px}
#coachText{font:800 14px;background:#1a2446;border:1px solid #ffffff22;border-radius:10px;padding:6px 10px;box-shadow:0 2px 8px #0005}

.mission-line{background:#101734;border:1px solid #ffffff22;border-radius:10px;padding:6px 10px}

/* item button (emoji) */
.item{position:fixed;border:none;background:transparent;color:#fff;cursor:pointer;z-index:80;line-height:1;transition:transform .15s,filter .15s,opacity .15s;padding:8px;border-radius:14px}

/* score pop / flame */
.scoreBurst{position:fixed;transform:translate(-50%,-50%);z-index:120;pointer-events:none;text-shadow:0 2px 6px #000c}
@keyframes flamePop { from { transform:translate(-50%,-50%) scale(.7); opacity:.0;}
                      to   { transform:translate(-50%,-50%) scale(1.05); opacity:.0;} }

/* trap flash */
.flash-danger{animation:flashD .18s ease}
@keyframes flashD{from{background:rgba(255,0,0,.18)}to{background:transparent}}

/* screen dim on penalty */
.dim-penalty{animation:dimP .35s ease}
@keyframes dimP{0%{filter:brightness(.6)}100%{filter:brightness(1)}}

/* shards */
.shard{position:fixed;width:8px;height:8px;background:linear-gradient(#7fffd4,#4fc3f7);border-radius:2px;z-index:90;pointer-events:none;opacity:.95}
@keyframes shardFly{to{transform:translate(var(--dx),var(--dy)) rotate(var(--rot));opacity:0}}

.flash{animation:warnFlash 0.5s ease}
@keyframes warnFlash{0%{box-shadow:inset 0 0 0 0 rgba(255,255,255,0)}30%{box-shadow:inset 0 0 30px 10px rgba(255,255,255,.15)}100%{box-shadow:inset 0 0 0 0 rgba(255,255,255,0)}}
